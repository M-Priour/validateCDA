<?xml version="1.0" encoding="UTF-8"?>
<!--
Template derived pattern
===========================================
ID: 1.2.250.1.213.1.1.1.47
Name: Demande d'acte d'imagerie
Description: Structuration minimale des documents de santé
-->
<pattern xmlns="http://purl.oclc.org/dsdl/schematron" id="template-1.2.250.1.213.1.1.1.47-2022-01-12T113414">
    <title>Demande d'acte d'imagerie</title>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]" id="d958630e2069-false-d959621e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@classCode) = ('DOCCLIN') or not(@classCode)">(DemandeActeImagerie): The value for classCode SHALL be 'DOCCLIN'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@moodCode) = ('EVN') or not(@moodCode)">(DemandeActeImagerie): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(//hl7:ClinicalDocument/hl7:documentationOf[1]/hl7:serviceEvent/hl7:performer)=1">(DemandeActeImagerie): DocumentationOf: Le performer est obligatoire dans l'acte principal.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(//hl7:ClinicalDocument/hl7:documentationOf[1]/hl7:serviceEvent/hl7:effectiveTime)=1">(DemandeActeImagerie): DocumentationOf: EffectiveTime est obligatoire dans l'acte principal.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(//hl7:ClinicalDocument/hl7:documentationOf[hl7:serviceEvent/hl7:code/@code='55115-0' and hl7:serviceEvent/hl7:code/@codeSystem='2.16.840.1.113883.6.1'])=1">(DemandeActeImagerie): L'acte principal documenté est obligatoire [1..1] et doit avoir le code/@code="55115-0" et code/@codeSystem="2.16.840.1.113883.6.1". </assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(//hl7:ClinicalDocument/hl7:documentationOf[hl7:serviceEvent/hl7:code/not(@code='55115-0') and hl7:serviceEvent/hl7:code/not(@codeSystem='2.16.840.1.113883.6.1')]) &lt;= 1">(DemandeActeImagerie): Un autre acte documenté peut être présent [0..1].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="//*[hl7:templateId/@root='2.16.840.1.113883.10.20.22.2.39']/hl7:entry/hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.150' and hl7:code/@code='11348-0' and hl7:code/@codeSystem='2.16.840.1.113883.6.1']">(DemandeActeImagerie): L'entrée 'FR-DICOM-Observation' : Antécédents médicaux (1.2.250.1.213.1.1.3.150) de la sous-section FR-DICOM-Historique-medical (2.16.840.1.113883.10.20.22.2.39) doit être obligatoirement présente [1..1] et doit avoir comme code : @code='11348-0' et @codeSystem='2.16.840.1.113883.6.1'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="//*[hl7:templateId/@root='2.16.840.1.113883.10.20.22.2.39']/hl7:entry/hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.150' and hl7:code/@code='47519-4' and hl7:code/@codeSystem='2.16.840.1.113883.6.1']">(DemandeActeImagerie): L'entrée 'FR-DICOM-Observation' : Antécédents chirurgicaux (1.2.250.1.213.1.1.3.150) de la sous-section FR-DICOM-Historique-medical (2.16.840.1.113883.10.20.22.2.39) doit être obligatoirement présente [1..1] et doit avoir comme code : @code='47519-4' et @codeSystem='2.16.840.1.113883.6.1'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="//*[hl7:templateId/@root='1.2.250.1.213.1.1.2.107']/hl7:entry/hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.48' and hl7:code/@code='MED-1130' and hl7:code/@codeSystem='1.2.250.1.213.1.1.4.322']">(DemandeActeImagerie):  L'entrée FR-Simple-Observation(1.2.250.1.213.1.1.3.48) doit obligatoirement avoir comme code : @code='MED-1130' et @codeSystem='1.2.250.1.213.1.1.4.322' pour indiquer si le patient a-t-il été informé des risques relatifs à l'examen d'imagerie médicale.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:realmCode[@code = 'FR']) &gt;= 1">(DemandeActeImagerie): element hl7:realmCode[@code = 'FR'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:realmCode[@code = 'FR']) &lt;= 1">(DemandeActeImagerie): element hl7:realmCode[@code = 'FR'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040']) &gt;= 1">(DemandeActeImagerie): element hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040']) &lt;= 1">(DemandeActeImagerie): element hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1']) &gt;= 1">(DemandeActeImagerie): element hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1']) &lt;= 1">(DemandeActeImagerie): element hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']) &gt;= 1">(DemandeActeImagerie): element hl7:templateId[@root = '1.2.250.1.213.1.1.1.1'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']) &lt;= 1">(DemandeActeImagerie): element hl7:templateId[@root = '1.2.250.1.213.1.1.1.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:templateId[@root = '1.2.840.10008.9.20']) &lt;= 1">(DemandeActeImagerie): element hl7:templateId[@root = '1.2.840.10008.9.20'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.1.47']) &lt;= 1">(DemandeActeImagerie): element hl7:templateId[@root = '1.2.250.1.213.1.1.1.47'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(DemandeActeImagerie): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(DemandeActeImagerie): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:code[(@code = '55115-0' and @codeSystem = '2.16.840.1.113883.6.1')]) &gt;= 1">(DemandeActeImagerie): element hl7:code[(@code = '55115-0' and @codeSystem = '2.16.840.1.113883.6.1')] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:code[(@code = '55115-0' and @codeSystem = '2.16.840.1.113883.6.1')]) &lt;= 1">(DemandeActeImagerie): element hl7:code[(@code = '55115-0' and @codeSystem = '2.16.840.1.113883.6.1')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:title[not(@nullFlavor)]) &gt;= 1">(DemandeActeImagerie): element hl7:title[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:title[not(@nullFlavor)]) &lt;= 1">(DemandeActeImagerie): element hl7:title[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:effectiveTime[not(@nullFlavor)]) &gt;= 1">(DemandeActeImagerie): element hl7:effectiveTime[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:effectiveTime[not(@nullFlavor)]) &lt;= 1">(DemandeActeImagerie): element hl7:effectiveTime[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')]) &gt;= 1">(DemandeActeImagerie): element hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')]) &lt;= 1">(DemandeActeImagerie): element hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:languageCode[not(@nullFlavor)]) &gt;= 1">(DemandeActeImagerie): element hl7:languageCode[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:languageCode[not(@nullFlavor)]) &lt;= 1">(DemandeActeImagerie): element hl7:languageCode[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:setId) &lt;= 1">(DemandeActeImagerie): element hl7:setId appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:versionNumber) &lt;= 1">(DemandeActeImagerie): element hl7:versionNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:recordTarget) &gt;= 1">(DemandeActeImagerie): element hl7:recordTarget is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:recordTarget) &lt;= 1">(DemandeActeImagerie): element hl7:recordTarget appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:author[not(@nullFlavor)][hl7:assignedAuthor]) &gt;= 1">(DemandeActeImagerie): element hl7:author[not(@nullFlavor)][hl7:assignedAuthor] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:author[not(@nullFlavor)][hl7:assignedAuthor]) &lt;= 1">(DemandeActeImagerie): element hl7:author[not(@nullFlavor)][hl7:assignedAuthor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]) &gt;= 1">(DemandeActeImagerie): element hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]) &lt;= 1">(DemandeActeImagerie): element hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]) &gt;= 1">(DemandeActeImagerie): element hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]) &lt;= 1">(DemandeActeImagerie): element hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:documentationOf[hl7:serviceEvent]) &gt;= 1">(DemandeActeImagerie): element hl7:documentationOf[hl7:serviceEvent] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]) &lt;= 1">(DemandeActeImagerie): element hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]) &gt;= 1">(DemandeActeImagerie): element hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]) &lt;= 1">(DemandeActeImagerie): element hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:component) &gt;= 1">(DemandeActeImagerie): element hl7:component is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:component) &lt;= 1">(DemandeActeImagerie): element hl7:component appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:realmCode[@code = 'FR']
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:realmCode[@code = 'FR']" id="d958630e2072-false-d960072e0">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@code) = ('FR')">(DemandeActeImagerie): The value for code SHALL be 'FR'. Found: "<value-of select="@code"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040']
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040']" id="d958630e2074-false-d960086e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@root) = ('2.16.840.1.113883.1.3')">(DemandeActeImagerie): The value for root SHALL be '2.16.840.1.113883.1.3'. Found: "<value-of select="@root"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@extension) = ('POCD_HD000040')">(DemandeActeImagerie): The value for extension SHALL be 'POCD_HD000040'. Found: "<value-of select="@extension"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@extension) or string-length(@extension)&gt;0">(DemandeActeImagerie): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1']
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1']" id="d958630e2077-false-d960107e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@root) = ('2.16.840.1.113883.2.8.2.1')">(DemandeActeImagerie): The value for root SHALL be '2.16.840.1.113883.2.8.2.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']" id="d958630e2081-false-d960121e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@root) = ('1.2.250.1.213.1.1.1.1')">(DemandeActeImagerie): The value for root SHALL be '1.2.250.1.213.1.1.1.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId[@root = '1.2.840.10008.9.20']
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId[@root = '1.2.840.10008.9.20']" id="d958630e2086-false-d960135e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@root) = ('1.2.840.10008.9.20')">(DemandeActeImagerie): The value for root SHALL be '1.2.840.10008.9.20'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.1.47']
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.1.47']" id="d958630e2091-false-d960149e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@root) = ('1.2.250.1.213.1.1.1.47')">(DemandeActeImagerie): The value for root SHALL be '1.2.250.1.213.1.1.1.47'. Found: "<value-of select="@root"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@extension) = ('2022.01') or not(@extension)">(DemandeActeImagerie): The value for extension SHALL be '2022.01'. Found: "<value-of select="@extension"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@extension) or string-length(@extension)&gt;0">(DemandeActeImagerie): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:id[not(@nullFlavor)]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:id[not(@nullFlavor)]" id="d958630e2097-false-d960169e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@extension) or string-length(@extension)&gt;0">(DemandeActeImagerie): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="@root">(DemandeActeImagerie): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(DemandeActeImagerie): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:code[(@code = '55115-0' and @codeSystem = '2.16.840.1.113883.6.1')]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:code[(@code = '55115-0' and @codeSystem = '2.16.840.1.113883.6.1')]" id="d958630e2119-false-d960188e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@codeSystemName) = ('LOINC') or not(@codeSystemName)">(DemandeActeImagerie): The value for codeSystemName SHALL be 'LOINC'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(DemandeActeImagerie): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@displayName) = ('Demande d''acte d''imagerie')">(DemandeActeImagerie): The value for displayName SHALL be 'Demande d''acte d''imagerie'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@displayName) or string-length(@displayName)&gt;0">(DemandeActeImagerie): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@codeSystem) = ('2.16.840.1.113883.6.1')">(DemandeActeImagerie): The value for codeSystem SHALL be '2.16.840.1.113883.6.1'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="string(@code) = ('55115-0')">(DemandeActeImagerie): The value for code SHALL be '55115-0'. Found: "<value-of select="@code"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:title[not(@nullFlavor)]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:title[not(@nullFlavor)]" id="d958630e2129-false-d960217e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="text()='Demande d''acte d''imagerie'">(DemandeActeImagerie): the element content of hl7:title[not(@nullFlavor)] SHALL be ''Demande d'acte d'imagerie''. Found: "<value-of select="."/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:effectiveTime[not(@nullFlavor)]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:effectiveTime[not(@nullFlavor)]" id="d958630e2138-false-d960230e0">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(*)">(DemandeActeImagerie): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="@value">(DemandeActeImagerie): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(DemandeActeImagerie): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')]" id="d958630e2145-false-d960249e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="@nullFlavor or (@code='N' and @codeSystem='2.16.840.1.113883.5.25' and @displayName='Normal') or (@code='R' and @codeSystem='2.16.840.1.113883.5.25' and @displayName='Restreint') or (@code='V' and @codeSystem='2.16.840.1.113883.5.25' and @displayName='Très restreint')">(DemandeActeImagerie): The element value SHALL be one of 'code 'N' codeSystem '2.16.840.1.113883.5.25' displayName='Normal' or code 'R' codeSystem '2.16.840.1.113883.5.25' displayName='Restreint' or code 'V' codeSystem '2.16.840.1.113883.5.25' displayName='Très restreint''.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="@displayName">(DemandeActeImagerie): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@displayName) or string-length(@displayName)&gt;0">(DemandeActeImagerie): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="@codeSystem">(DemandeActeImagerie): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(DemandeActeImagerie): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="@code">(DemandeActeImagerie): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(DemandeActeImagerie): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:languageCode[not(@nullFlavor)]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:languageCode[not(@nullFlavor)]" id="d958630e2159-false-d960283e0">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="@code">(DemandeActeImagerie): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(DemandeActeImagerie): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@code) or matches(@code, 'fr-FR') or matches(@code, '[a-z]{2}-[A-Z]{2}')">(DemandeActeImagerie): Le languageCode doit respecter la syntaxe (e.g. "fr-FR")
          La partie en minuscules indique le code de la langue utilisée (ISO-639-1)
          La partie en majuscules indique le code pays (ISO-3166)</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:setId
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:setId" id="d958630e2190-false-d960298e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@extension) or string-length(@extension)&gt;0">(DemandeActeImagerie): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="@root">(DemandeActeImagerie): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(DemandeActeImagerie): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:versionNumber
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:versionNumber" id="d958630e2198-false-d960316e0">
        <extends rule="INT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'INT')">(DemandeActeImagerie): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:INT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@value) or matches(@value, '^-?[1-9]\d*$|^+?\d*$')">(DemandeActeImagerie): @value is not a valid INT number <value-of select="@value"/>
        </assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="@value">(DemandeActeImagerie): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="not(@value) or matches(string(@value), '^-?[1-9]\d*$|^+?\d*$')">(DemandeActeImagerie): Attribute @value is not a valid int number <value-of select="@value"/>
        </assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget" id="d960317e31-false-d960353e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:patientRole[hl7:patient]) &gt;= 1">(CI-SISRecordTarget): element hl7:patientRole[hl7:patient] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:patientRole[hl7:patient]) &lt;= 1">(CI-SISRecordTarget): element hl7:patientRole[hl7:patient] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]" id="d960317e35-false-d960405e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="(not(//hl7:recordTarget/hl7:patientRole/hl7:id/@root='1.2.250.1.213.1.4.8') and not(//hl7:recordTarget/hl7:patientRole/hl7:id/@root='1.2.250.1.213.1.4.9') and not(//hl7:recordTarget/hl7:patientRole/hl7:id/@root='1.2.250.1.213.1.4.10') and not(//hl7:recordTarget/hl7:patientRole/hl7:id/@root='1.2.250.1.213.1.4.11')) and //hl7:recordTarget/hl7:patientRole/hl7:id/@extension  or (//hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier and //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:given and //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:birthTime and //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:administrativeGenderCode)">(CI-SISRecordTarget): Erreur de conformité CI-SIS : Dans le cadre de l'INS, les traits de l'INS (Nom de naissance, premier prénom, date de naissance et sexe) sont obligatoires</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(CI-SISRecordTarget): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:patient[hl7:administrativeGenderCode]) &gt;= 1">(CI-SISRecordTarget): element hl7:patient[hl7:administrativeGenderCode] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:patient[hl7:administrativeGenderCode]) &lt;= 1">(CI-SISRecordTarget): element hl7:patient[hl7:administrativeGenderCode] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:providerOrganization) &lt;= 1">(CI-SISRecordTarget): element hl7:providerOrganization appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:id[not(@nullFlavor)]
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:id[not(@nullFlavor)]" id="d960317e39-false-d960474e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="@root">(CI-SISRecordTarget): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISRecordTarget): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="@extension">(CI-SISRecordTarget): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISRecordTarget): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]" id="d960475e41-false-d960494e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d960475e62-false-d960585e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d960475e68-false-d960594e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d960475e74-false-d960603e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d960475e82-false-d960612e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d960475e90-false-d960621e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d960475e98-false-d960630e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d960475e102-false-d960639e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d960475e108-false-d960648e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d960475e114-false-d960657e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d960475e125-false-d960666e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d960475e144-false-d960675e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d960475e156-false-d960684e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d960475e162-false-d960693e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[hl7:streetAddressLine]" id="d960475e168-false-d960700e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d960475e191-false-d960719e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:telecom" id="d960720e25-false-d960729e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]" id="d960317e57-false-d960756e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name[not(@nullFlavor)]) &gt;= 1">(CI-SISRecordTarget): element hl7:name[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name[not(@nullFlavor)]) &lt;= 1">(CI-SISRecordTarget): element hl7:name[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:administrativeGenderCode) &gt;= 1">(CI-SISRecordTarget): element hl7:administrativeGenderCode is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:administrativeGenderCode) &lt;= 1">(CI-SISRecordTarget): element hl7:administrativeGenderCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:birthTime) &gt;= 1">(CI-SISRecordTarget): element hl7:birthTime is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:birthTime) &lt;= 1">(CI-SISRecordTarget): element hl7:birthTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:birthplace[hl7:place]) &lt;= 1">(CI-SISRecordTarget): element hl7:birthplace[hl7:place] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:name[not(@nullFlavor)]
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:name[not(@nullFlavor)]" id="d960317e65-false-d960808e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:given[not(@nullFlavor)]) &gt;= 1">(CI-SISRecordTarget): element hl7:given[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:family) &gt;= 1">(CI-SISRecordTarget): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:prefix) &lt;= 1">(CI-SISRecordTarget): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:suffix) &lt;= 1">(CI-SISRecordTarget): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:name[not(@nullFlavor)]/hl7:given[not(@nullFlavor)]
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:name[not(@nullFlavor)]/hl7:given[not(@nullFlavor)]" id="d960317e69-false-d960842e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@qualifier) or (string-length(@qualifier) &gt; 0 and not(matches(@qualifier,'\s')))">(CI-SISRecordTarget): Attribute @qualifier SHALL be of data type 'cs'  - '<value-of select="@qualifier"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="//*:recordTarget/*:patientRole/*:patient/*:name/*:given/@qualifier='BR' or //*:recordTarget/*:patientRole/*:patient/*:name/*:given/@qualifier='CL' or //*:recordTarget/*:patientRole/*:patient/*:name/*:given[not(@qualifier)]">(CI-SISRecordTarget): 
                              Prénom typé par l'attribut qualifier : 
                "BR" pour le premier prénom extrait de la liste des prénoms de l'acte de naissance ou "CL" pour le prénom utilisé (RNIV). "qualifier" non utilisé pour la liste des prénoms de l'acte de naissance               
                          </assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:name[not(@nullFlavor)]/hl7:family
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:name[not(@nullFlavor)]/hl7:family" id="d960317e76-false-d960852e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="@qualifier">(CI-SISRecordTarget): attribute @qualifier SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@qualifier) or (string-length(@qualifier) &gt; 0 and not(matches(@qualifier,'\s')))">(CI-SISRecordTarget): Attribute @qualifier SHALL be of data type 'cs'  - '<value-of select="@qualifier"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="//hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='BR' or //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='SP' or //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='CL'">(CI-SISRecordTarget): 
                              Nom typé par l'attribut qualifier : 
                "BR" pour le nom de famille, "SP" pour le nom de d'usage ou "CL" pour le pseudonyme</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:name[not(@nullFlavor)]/hl7:prefix
Item: (CI-SISRecordTarget)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:name[not(@nullFlavor)]/hl7:suffix
Item: (CI-SISRecordTarget)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:administrativeGenderCode
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:administrativeGenderCode" id="d960317e95-false-d960881e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthTime
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthTime" id="d960317e100-false-d960892e0">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(*)">(CI-SISRecordTarget): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="@value">(CI-SISRecordTarget): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISRecordTarget): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian" id="d960317e122-false-d960916e0">
        <let name="elmcount" value="count(hl7:guardianPerson | hl7:guardianOrganization)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="$elmcount &gt;= 1">(CI-SISRecordTarget): choice (hl7:guardianPerson  or  hl7:guardianOrganization) does not contain enough elements [min 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="$elmcount &lt;= 1">(CI-SISRecordTarget): choice (hl7:guardianPerson  or  hl7:guardianOrganization) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:guardianPerson) &lt;= 1">(CI-SISRecordTarget): element hl7:guardianPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:guardianOrganization) &lt;= 1">(CI-SISRecordTarget): element hl7:guardianOrganization appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]" id="d960913e90-false-d960970e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d960913e111-false-d961061e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d960913e117-false-d961070e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d960913e123-false-d961079e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d960913e131-false-d961088e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d960913e139-false-d961097e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d960913e147-false-d961106e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d960913e151-false-d961115e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d960913e157-false-d961124e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d960913e163-false-d961133e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d960913e174-false-d961142e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d960913e193-false-d961151e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d960913e205-false-d961160e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d960913e211-false-d961169e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[hl7:streetAddressLine]" id="d960913e217-false-d961176e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d960913e240-false-d961195e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:telecom" id="d961196e25-false-d961205e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianPerson
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianPerson" id="d960317e137-false-d961221e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISRecordTarget): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISRecordTarget): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianPerson/hl7:name[hl7:family]
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianPerson/hl7:name[hl7:family]" id="d960317e141-false-d961236e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:family) &gt;= 1">(CI-SISRecordTarget): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:family) &lt;= 3">(CI-SISRecordTarget): element hl7:family appears too often [max 3x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:prefix) &lt;= 1">(CI-SISRecordTarget): element hl7:prefix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianPerson/hl7:name[hl7:family]/hl7:family" id="d960317e145-false-d961264e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@qualifier) or (string-length(@qualifier) &gt; 0 and not(matches(@qualifier,'\s')))">(CI-SISRecordTarget): Attribute @qualifier SHALL be of data type 'cs'  - '<value-of select="@qualifier"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="//hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='BR' or //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='SP' or //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='CL'">(CI-SISRecordTarget): Valeur du nom typé par l'attribut qualifier : 
                      "BR" pour le nom de famille
                      "SP" pour le nom de d'usage
                      "CL" pour le pseudonyme</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISRecordTarget)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISRecordTarget)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianOrganization
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianOrganization" id="d960317e171-false-d961288e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISRecordTarget): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name) &lt;= 1">(CI-SISRecordTarget): element hl7:name appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d960317e175-false-d961309e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISRecordTarget): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="@extension">(CI-SISRecordTarget): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISRecordTarget): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianOrganization/hl7:name
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:guardian/hl7:guardianOrganization/hl7:name" id="d960317e186-false-d961328e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ON')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]" id="d960317e192-false-d961340e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:place) &gt;= 1">(CI-SISRecordTarget): element hl7:place is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:place) &lt;= 1">(CI-SISRecordTarget): element hl7:place appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place" id="d960317e196-false-d961361e0">
        <let name="elmcount" value="count(hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine])"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="$elmcount &lt;= 1">(CI-SISRecordTarget): choice (hl7:addr[not(hl7:streetAddressLine)]  or  hl7:addr[hl7:streetAddressLine]) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name) &lt;= 1">(CI-SISRecordTarget): element hl7:name appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]" id="d961376e27-false-d961389e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d961376e48-false-d961480e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d961376e54-false-d961489e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d961376e60-false-d961498e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d961376e68-false-d961507e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d961376e76-false-d961516e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d961376e84-false-d961525e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d961376e88-false-d961534e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d961376e94-false-d961543e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d961376e100-false-d961552e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d961376e111-false-d961561e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d961376e130-false-d961570e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d961376e142-false-d961579e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d961376e148-false-d961588e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[hl7:streetAddressLine]" id="d961376e154-false-d961595e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d961376e177-false-d961614e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:name
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode]/hl7:birthplace[hl7:place]/hl7:place/hl7:name" id="d960317e210-false-d961623e0">
        <extends rule="EN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'EN')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:EN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization" id="d960317e214-false-d961638e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@determinerCode) or (string-length(@determinerCode) &gt; 0 and not(matches(@determinerCode,'\s')))">(CI-SISRecordTarget): Attribute @determinerCode SHALL be of data type 'cs'  - '<value-of select="@determinerCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(CI-SISRecordTarget): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:templateId
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:templateId" id="d960317e217-false-d961685e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:id
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:id" id="d960317e218-false-d961694e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.10
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:name
Item: (CI-SISRecordTarget)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:name" id="d960317e219-false-d961703e0">
        <extends rule="EN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.10" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'EN')">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:EN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d961704e29-false-d961712e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d961704e50-false-d961803e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d961704e56-false-d961812e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d961704e62-false-d961821e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d961704e70-false-d961830e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d961704e78-false-d961839e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d961704e86-false-d961848e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d961704e90-false-d961857e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d961704e96-false-d961866e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d961704e102-false-d961875e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d961704e113-false-d961884e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d961704e132-false-d961893e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d961704e144-false-d961902e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d961704e150-false-d961911e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[hl7:streetAddressLine]" id="d961704e156-false-d961918e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d961704e179-false-d961937e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:telecom" id="d961938e25-false-d961947e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]" id="d961948e52-false-d961975e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &gt;= 1">(CI-SISAuthor): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &lt;= 1">(CI-SISAuthor): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &gt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d961948e56-false-d962028e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 JDV_HL7_ParticipationFunction-CISIS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:originalText) &lt;= 1">(CI-SISAuthor): element hl7:originalText appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText" id="d961948e77-false-d962078e0">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:time
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:time" id="d961948e80-false-d962087e0">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(*)">(CI-SISAuthor): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@value">(CI-SISAuthor): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthor): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]" id="d961948e85-false-d962116e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id) &lt;= 1">(CI-SISAuthor): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:assignedPerson | hl7:assignedAuthoringDevice)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="$elmcount &lt;= 1">(CI-SISAuthor): choice (hl7:assignedPerson  or  hl7:assignedAuthoringDevice) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthor): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthoringDevice) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthoringDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthor): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id" id="d961948e97-false-d962204e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d961948e105-false-d962226e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]" id="d962227e51-false-d962290e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d962227e72-false-d962381e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d962227e78-false-d962390e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d962227e84-false-d962399e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d962227e92-false-d962408e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d962227e100-false-d962417e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d962227e108-false-d962426e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d962227e112-false-d962435e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d962227e118-false-d962444e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d962227e124-false-d962453e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d962227e135-false-d962462e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d962227e154-false-d962471e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d962227e166-false-d962480e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d962227e172-false-d962489e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]" id="d962227e178-false-d962496e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d962227e201-false-d962515e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom" id="d962516e25-false-d962525e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson" id="d961948e153-false-d962541e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]" id="d961948e157-false-d962556e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &gt;= 1">(CI-SISAuthor): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &lt;= 1">(CI-SISAuthor): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:given) &lt;= 1">(CI-SISAuthor): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthor): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthor): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice" id="d961948e185-false-d962620e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:manufacturerModelName) &lt;= 1">(CI-SISAuthor): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:softwareName) &lt;= 1">(CI-SISAuthor): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName" id="d961948e189-false-d962639e0">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName" id="d961948e193-false-d962648e0">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization" id="d961948e197-false-d962663e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthor): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name) &lt;= 1">(CI-SISAuthor): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d961948e203-false-d962718e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@extension">(CI-SISAuthor): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthor): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthor): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:name
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d962738e22-false-d962743e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d962738e43-false-d962834e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d962738e49-false-d962843e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d962738e55-false-d962852e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d962738e63-false-d962861e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d962738e71-false-d962870e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d962738e79-false-d962879e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d962738e83-false-d962888e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d962738e89-false-d962897e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d962738e95-false-d962906e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d962738e106-false-d962915e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d962738e125-false-d962924e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d962738e137-false-d962933e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d962738e143-false-d962942e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]" id="d962738e149-false-d962949e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d962738e172-false-d962968e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom" id="d962969e25-false-d962978e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d961948e227-false-d962999e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.12
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant
Item: (CI-SISInformant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant" id="d963000e54-false-d963060e0">
        <let name="elmcount" value="count(hl7:assignedEntity | hl7:relatedEntity[@classCode][hl7:relatedPerson])"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.12" test="$elmcount &gt;= 1">(CI-SISInformant): choice (hl7:assignedEntity  or  hl7:relatedEntity[@classCode][hl7:relatedPerson]) does not contain enough elements [min 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.12" test="$elmcount &lt;= 1">(CI-SISInformant): choice (hl7:assignedEntity  or  hl7:relatedEntity[@classCode][hl7:relatedPerson]) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.12" test="count(hl7:assignedEntity) &lt;= 1">(CI-SISInformant): element hl7:assignedEntity appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.12" test="count(hl7:relatedEntity[@classCode][hl7:relatedPerson]) &lt;= 1">(CI-SISInformant): element hl7:relatedEntity[@classCode][hl7:relatedPerson] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity" id="d963057e84-false-d963142e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:id) &gt;= 1">(CI-SISAssignedEntity): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:id) &lt;= 1">(CI-SISAssignedEntity): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISAssignedEntity): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAssignedEntity): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAssignedEntity): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:id
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:id" id="d963057e85-false-d963216e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@root">(CI-SISAssignedEntity): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISAssignedEntity): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@extension">(CI-SISAssignedEntity): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAssignedEntity): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d963057e107-false-d963249e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAssignedEntity): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(CI-SISAssignedEntity): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAssignedEntity): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAssignedEntity): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAssignedEntity): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]" id="d963250e49-false-d963310e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d963250e70-false-d963401e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d963250e76-false-d963410e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d963250e82-false-d963419e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d963250e90-false-d963428e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d963250e98-false-d963437e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d963250e106-false-d963446e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d963250e110-false-d963455e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d963250e116-false-d963464e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d963250e122-false-d963473e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d963250e133-false-d963482e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d963250e152-false-d963491e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d963250e164-false-d963500e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d963250e170-false-d963509e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]" id="d963250e176-false-d963516e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d963250e199-false-d963535e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:telecom" id="d963536e25-false-d963545e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson" id="d963057e148-false-d963561e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAssignedEntity): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAssignedEntity): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]" id="d963057e152-false-d963576e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:prefix) &lt;= 1">(CI-SISAssignedEntity): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:given) &lt;= 1">(CI-SISAssignedEntity): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:family) &gt;= 1">(CI-SISAssignedEntity): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:family) &lt;= 1">(CI-SISAssignedEntity): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:suffix) &lt;= 1">(CI-SISAssignedEntity): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAssignedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAssignedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAssignedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAssignedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization" id="d963057e179-false-d963646e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAssignedEntity): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:name) &lt;= 1">(CI-SISAssignedEntity): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAssignedEntity): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d963057e187-false-d963701e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@extension">(CI-SISAssignedEntity): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAssignedEntity): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAssignedEntity): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:name
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:name" id="d963057e198-false-d963719e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ON')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d963720e29-false-d963728e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d963720e50-false-d963819e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d963720e56-false-d963828e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d963720e62-false-d963837e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d963720e70-false-d963846e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d963720e78-false-d963855e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d963720e86-false-d963864e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d963720e90-false-d963873e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d963720e96-false-d963882e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d963720e102-false-d963891e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d963720e113-false-d963900e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d963720e132-false-d963909e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d963720e144-false-d963918e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d963720e150-false-d963927e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]" id="d963720e156-false-d963934e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d963720e179-false-d963953e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:telecom" id="d963954e25-false-d963963e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d963057e212-false-d963984e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAssignedEntity): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@code">(CI-SISAssignedEntity): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAssignedEntity): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@displayName">(CI-SISAssignedEntity): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAssignedEntity): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@codeSystem">(CI-SISAssignedEntity): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAssignedEntity): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]
Item: (CI-SISRelatedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]" id="d963985e55-false-d964031e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@classCode">(CI-SISRelatedEntity): attribute @classCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(CI-SISRelatedEntity): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@classCode='ECON' or @classCode='NOK' or @classCode='CON' or @classCode='CAREGIVER' or @classCode='PAT'">(CI-SISRelatedEntity): 
              @classCode doit être renseigné avec une de ces valeurs :
      			"ECON" pour personne à prévenir en cas d'urgence, 
      "NOK" pour personne de confiance, 
      "CON" pour informateur, 
          "CAREGIVER" pour un aidant, 
              "PAT" pour une personne aidée.
          </assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISRelatedEntity): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:relatedPerson) &gt;= 1">(CI-SISRelatedEntity): element hl7:relatedPerson is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:relatedPerson) &lt;= 1">(CI-SISRelatedEntity): element hl7:relatedPerson appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISRelatedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d963985e75-false-d964091e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISRelatedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@nullFlavor or exists(doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISRelatedEntity): The element value SHALL be one of '2.16.840.1.113883.5.111 TRE_R216-HL7RoleCode (DYNAMIC) or 1.2.250.1.213.1.1.4.327 TRE_R217-ProtectionJuridique (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@displayName">(CI-SISRelatedEntity): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISRelatedEntity): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@codeSystem">(CI-SISRelatedEntity): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISRelatedEntity): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@code">(CI-SISRelatedEntity): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISRelatedEntity): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:originalText) &lt;= 1">(CI-SISRelatedEntity): element hl7:originalText appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISRelatedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText" id="d963985e91-false-d964137e0">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISRelatedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]" id="d964138e29-false-d964146e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d964138e50-false-d964237e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d964138e56-false-d964246e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d964138e62-false-d964255e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d964138e70-false-d964264e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d964138e78-false-d964273e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d964138e86-false-d964282e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d964138e90-false-d964291e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d964138e96-false-d964300e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d964138e102-false-d964309e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d964138e113-false-d964318e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d964138e132-false-d964327e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d964138e144-false-d964336e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d964138e150-false-d964345e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]" id="d964138e156-false-d964352e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d964138e179-false-d964371e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:telecom" id="d964372e25-false-d964381e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson
Item: (CI-SISRelatedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson" id="d963985e102-false-d964397e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISRelatedEntity): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISRelatedEntity): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]
Item: (CI-SISRelatedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]" id="d963985e106-false-d964412e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISRelatedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:family) &gt;= 1">(CI-SISRelatedEntity): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:family) &lt;= 1">(CI-SISRelatedEntity): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:given) &lt;= 1">(CI-SISRelatedEntity): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:prefix) &lt;= 1">(CI-SISRelatedEntity): element hl7:prefix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISRelatedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISRelatedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISRelatedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.5
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]
Item: (CI-SISCustodian)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]" id="d964458e10-false-d964469e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:assignedCustodian[hl7:representedCustodianOrganization]) &gt;= 1">(CI-SISCustodian): element hl7:assignedCustodian[hl7:representedCustodianOrganization] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:assignedCustodian[hl7:representedCustodianOrganization]) &lt;= 1">(CI-SISCustodian): element hl7:assignedCustodian[hl7:representedCustodianOrganization] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.5
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]
Item: (CI-SISCustodian)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]" id="d964458e16-false-d964494e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:representedCustodianOrganization) &gt;= 1">(CI-SISCustodian): element hl7:representedCustodianOrganization is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:representedCustodianOrganization) &lt;= 1">(CI-SISCustodian): element hl7:representedCustodianOrganization appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.5
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization
Item: (CI-SISCustodian)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization" id="d964458e19-false-d964519e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(CI-SISCustodian): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(CI-SISCustodian): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:name) &lt;= 1">(CI-SISCustodian): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:telecom) &lt;= 1">(CI-SISCustodian): element hl7:telecom appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine])"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="$elmcount &lt;= 1">(CI-SISCustodian): choice (hl7:addr[not(hl7:streetAddressLine)]  or  hl7:addr[hl7:streetAddressLine]) contains too many elements [max 1x]</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.5
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:id[not(@nullFlavor)]
Item: (CI-SISCustodian)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:id[not(@nullFlavor)]" id="d964458e23-false-d964567e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISCustodian): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISCustodian): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="@root">(CI-SISCustodian): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISCustodian): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.5" test="@root='1.2.250.1.71.4.2.2' or @root='1.2.250.1.213.4.1'">(CI-SISCustodian): L'attribut @root doit avoir la valeur :
              - soit "1.2.250.1.71.4.2.2" pour l'OID des structures de santé
              - soit "1.2.250.1.213.4.1" pour l'OID de l'organisation hébergeant les documents produits par le patient

              hl7:custodian/hl7:assignedCustodian/hl7:representedCustodianOrganization/hl7:id/@root='1.2.250.1.71.4.2.2' or hl7:custodian/hl7:assignedCustodian/hl7:representedCustodianOrganization/hl7:id/@root='1.2.250.1.213.4.1'
              custodian/assignedCustodian/representedCustodianOrganization/id/@root='1.2.250.1.71.4.2.2' or custodian/assignedCustodian/representedCustodianOrganization/id/@root='1.2.250.1.213.4.1'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.5
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:name
Item: (CI-SISCustodian)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:telecom" id="d964587e18-false-d964593e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d964594e47-false-d964609e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d964594e68-false-d964700e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d964594e74-false-d964709e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d964594e80-false-d964718e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d964594e88-false-d964727e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d964594e96-false-d964736e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d964594e104-false-d964745e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d964594e108-false-d964754e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d964594e114-false-d964763e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d964594e120-false-d964772e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d964594e131-false-d964781e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d964594e150-false-d964790e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d964594e162-false-d964799e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d964594e168-false-d964808e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[hl7:streetAddressLine]" id="d964594e174-false-d964815e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d964594e197-false-d964834e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]" id="d964835e20-false-d964855e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:time) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:time) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:signatureCode[@code = 'S']) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:signatureCode[@code = 'S'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:signatureCode[@code = 'S']) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:signatureCode[@code = 'S'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:assignedEntity[hl7:assignedPerson]) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:assignedEntity[hl7:assignedPerson] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:assignedEntity[hl7:assignedPerson]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:assignedEntity[hl7:assignedPerson] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:time
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:time" id="d964835e28-false-d964897e0">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(*)">(CI-SISLegalAuthenticator): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="@value">(CI-SISLegalAuthenticator): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISLegalAuthenticator): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:signatureCode[@code = 'S']
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:signatureCode[@code = 'S']" id="d964835e33-false-d964916e0">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="string(@code) = ('S')">(CI-SISLegalAuthenticator): The value for code SHALL be 'S'. Found: "<value-of select="@code"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]" id="d964835e40-false-d964939e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:code) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:assignedPerson[not(@nullFlavor)]) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:assignedPerson[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:assignedPerson[not(@nullFlavor)]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:assignedPerson[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:id[not(@nullFlavor)]
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:id[not(@nullFlavor)]" id="d964835e44-false-d965004e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="@root">(CI-SISLegalAuthenticator): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISLegalAuthenticator): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="@extension">(CI-SISLegalAuthenticator): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISLegalAuthenticator): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:code
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:code" id="d964835e62-false-d965024e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]" id="d965025e29-false-d965033e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d965025e50-false-d965124e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d965025e56-false-d965133e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d965025e62-false-d965142e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d965025e70-false-d965151e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d965025e78-false-d965160e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d965025e86-false-d965169e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d965025e90-false-d965178e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d965025e96-false-d965187e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d965025e102-false-d965196e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d965025e113-false-d965205e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d965025e132-false-d965214e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d965025e144-false-d965223e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d965025e150-false-d965232e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[hl7:streetAddressLine]" id="d965025e156-false-d965239e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d965025e179-false-d965258e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:telecom" id="d965259e25-false-d965268e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]" id="d964835e75-false-d965284e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:name[not(@nullFlavor)][hl7:family]) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:name[not(@nullFlavor)][hl7:family] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:name[not(@nullFlavor)][hl7:family]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:name[not(@nullFlavor)][hl7:family] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]/hl7:name[not(@nullFlavor)][hl7:family]
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]/hl7:name[not(@nullFlavor)][hl7:family]" id="d964835e79-false-d965299e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:family) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:family) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:given) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:prefix) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:suffix) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]/hl7:name[not(@nullFlavor)][hl7:family]/hl7:family
Item: (CI-SISLegalAuthenticator)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]/hl7:name[not(@nullFlavor)][hl7:family]/hl7:given
Item: (CI-SISLegalAuthenticator)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]/hl7:name[not(@nullFlavor)][hl7:family]/hl7:prefix
Item: (CI-SISLegalAuthenticator)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]/hl7:name[not(@nullFlavor)][hl7:family]/hl7:suffix
Item: (CI-SISLegalAuthenticator)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]" id="d964835e106-false-d965369e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:id[@root = '1.2.250.1.71.4.2.2'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:name) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d964835e112-false-d965426e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="@extension">(CI-SISLegalAuthenticator): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISLegalAuthenticator): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISLegalAuthenticator): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:name
Item: (CI-SISLegalAuthenticator)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.6
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (CI-SISLegalAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d964835e129-false-d965456e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.6" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISLegalAuthenticator): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:telecom" id="d965457e29-false-d965482e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]" id="d965483e47-false-d965498e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d965483e68-false-d965589e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d965483e74-false-d965598e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d965483e80-false-d965607e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d965483e88-false-d965616e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d965483e96-false-d965625e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d965483e104-false-d965634e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d965483e108-false-d965643e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d965483e114-false-d965652e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d965483e120-false-d965661e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d965483e131-false-d965670e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d965483e150-false-d965679e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d965483e162-false-d965688e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d965483e168-false-d965697e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[hl7:streetAddressLine]" id="d965483e174-false-d965704e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d965483e197-false-d965723e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]" id="d965724e24-false-d965744e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:time) &gt;= 1">(CI-SISAuthenticator): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:time) &lt;= 1">(CI-SISAuthenticator): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:signatureCode[@code = 'S']) &gt;= 1">(CI-SISAuthenticator): element hl7:signatureCode[@code = 'S'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:signatureCode[@code = 'S']) &lt;= 1">(CI-SISAuthenticator): element hl7:signatureCode[@code = 'S'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &gt;= 1">(CI-SISAuthenticator): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &lt;= 1">(CI-SISAuthenticator): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:templateId
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:templateId" id="d965724e28-false-d965791e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISAuthenticator): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:time
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:time" id="d965724e30-false-d965804e0">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(*)">(CI-SISAuthenticator): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="@value">(CI-SISAuthenticator): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthenticator): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:signatureCode[@code = 'S']
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:signatureCode[@code = 'S']" id="d965724e37-false-d965823e0">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="@nullFlavor or (@code='S')">(CI-SISAuthenticator): The element value SHALL be one of 'code 'S''.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]" id="d965724e44-false-d965849e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &gt;= 1">(CI-SISAuthenticator): element hl7:id[@root = '1.2.250.1.71.4.2.1'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &lt;= 1">(CI-SISAuthenticator): element hl7:id[@root = '1.2.250.1.71.4.2.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthenticator): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthenticator): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:id[@root = '1.2.250.1.71.4.2.1']
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:id[@root = '1.2.250.1.71.4.2.1']" id="d965724e49-false-d965907e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="@extension">(CI-SISAuthenticator): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthenticator): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="string(@root) = ('1.2.250.1.71.4.2.1')">(CI-SISAuthenticator): The value for root SHALL be '1.2.250.1.71.4.2.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]" id="d965908e39-false-d965925e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d965908e60-false-d966016e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d965908e66-false-d966025e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d965908e72-false-d966034e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d965908e80-false-d966043e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d965908e88-false-d966052e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d965908e96-false-d966061e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d965908e100-false-d966070e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d965908e106-false-d966079e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d965908e112-false-d966088e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d965908e123-false-d966097e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d965908e142-false-d966106e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d965908e154-false-d966115e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d965908e160-false-d966124e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]" id="d965908e166-false-d966131e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d965908e189-false-d966150e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:telecom" id="d966151e25-false-d966160e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson" id="d965724e59-false-d966176e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthenticator): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthenticator): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]" id="d965724e60-false-d966191e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:family) &gt;= 1">(CI-SISAuthenticator): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:family) &lt;= 1">(CI-SISAuthenticator): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:given) &lt;= 1">(CI-SISAuthenticator): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthenticator): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthenticator): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAuthenticator)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAuthenticator)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAuthenticator)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAuthenticator)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization" id="d965724e86-false-d966260e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthenticator): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:name) &lt;= 1">(CI-SISAuthenticator): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthenticator): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d965724e93-false-d966316e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="@extension">(CI-SISAuthenticator): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthenticator): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthenticator): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:name
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:name" id="d965724e104-false-d966334e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ON')">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:telecom" id="d966335e25-false-d966344e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d966345e47-false-d966360e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d966345e68-false-d966451e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d966345e74-false-d966460e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d966345e80-false-d966469e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d966345e88-false-d966478e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d966345e96-false-d966487e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d966345e104-false-d966496e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d966345e108-false-d966505e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d966345e114-false-d966514e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d966345e120-false-d966523e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d966345e131-false-d966532e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d966345e150-false-d966541e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d966345e162-false-d966550e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d966345e168-false-d966559e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]" id="d966345e174-false-d966566e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d966345e197-false-d966585e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.16
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthenticator)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d965724e119-false-d966599e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthenticator): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="@displayName">(CI-SISAuthenticator): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthenticator): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="@codeSystem">(CI-SISAuthenticator): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthenticator): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="@code">(CI-SISAuthenticator): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthenticator): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]" id="d966600e45-false-d966651e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@typeCode">(CI-SISParticipant): attribute @typeCode SHALL be present.</assert>
        <let name="theAttValue" value="distinct-values(tokenize(normalize-space(@typeCode),'\s'))"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@typeCode) or empty($theAttValue[not(. = (doc('include/voc-2.16.840.1.113883.5.90-DYNAMIC.xml')/*/valueSet/conceptList/concept/@code))])">(CI-SISParticipant): The value for typeCode SHALL be selected from value set '2.16.840.1.113883.5.90' TRE_A13-HL7ParticipationType (DYNAMIC).</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISParticipant): element hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:time) &gt;= 1">(CI-SISParticipant): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:time) &lt;= 1">(CI-SISParticipant): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:associatedEntity[@classCode]) &gt;= 1">(CI-SISParticipant): element hl7:associatedEntity[@classCode] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:associatedEntity[@classCode]) &lt;= 1">(CI-SISParticipant): element hl7:associatedEntity[@classCode] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d966600e61-false-d966719e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISParticipant): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 JDV_HL7_ParticipationFunction-CISIS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISParticipant): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISParticipant): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISParticipant): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(CI-SISParticipant): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:originalText) &lt;= 1">(CI-SISParticipant): element hl7:originalText appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]/hl7:originalText
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]/hl7:originalText" id="d966600e81-false-d966771e0">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]/hl7:translation
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]/hl7:translation" id="d966600e85-false-d966780e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:time
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:time" id="d966600e89-false-d966789e0">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:low) &lt;= 1">(CI-SISParticipant): element hl7:low appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:high) &lt;= 1">(CI-SISParticipant): element hl7:high appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:time/hl7:low
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:time/hl7:low" id="d966600e93-false-d966811e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVXB_TS')">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@value">(CI-SISParticipant): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISParticipant): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:time/hl7:high
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:time/hl7:high" id="d966600e95-false-d966826e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVXB_TS')">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@value">(CI-SISParticipant): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISParticipant): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]" id="d966600e97-false-d966852e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@classCode">(CI-SISParticipant): attribute @classCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(CI-SISParticipant): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@classCode='PROV' or @classCode='AGNT'">(CI-SISParticipant): L'attribut @classCode de l'élément 'participant/associatedEntity' doit être égla à 'PROV' (pour les PS) ou 'AGNT' (pour les non PS).</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:id) &lt;= 1">(CI-SISParticipant): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISParticipant): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:associatedPerson[hl7:name]) &lt;= 1">(CI-SISParticipant): element hl7:associatedPerson[hl7:name] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:scopingOrganization) &lt;= 1">(CI-SISParticipant): element hl7:scopingOrganization appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:id
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:id" id="d966600e108-false-d966929e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@extension">(CI-SISParticipant): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISParticipant): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@root">(CI-SISParticipant): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISParticipant): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d966600e127-false-d966962e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISParticipant): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@code">(CI-SISParticipant): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISParticipant): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@displayName">(CI-SISParticipant): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISParticipant): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="@codeSystem">(CI-SISParticipant): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISParticipant): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(CI-SISParticipant): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]" id="d966963e56-false-d967029e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d966963e77-false-d967120e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d966963e83-false-d967129e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d966963e89-false-d967138e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d966963e97-false-d967147e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d966963e105-false-d967156e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d966963e113-false-d967165e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d966963e117-false-d967174e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d966963e123-false-d967183e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d966963e129-false-d967192e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d966963e140-false-d967201e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d966963e159-false-d967210e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d966963e171-false-d967219e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d966963e177-false-d967228e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[hl7:streetAddressLine]" id="d966963e183-false-d967235e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d966963e206-false-d967254e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:telecom" id="d967255e25-false-d967264e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]" id="d966600e166-false-d967280e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISParticipant): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISParticipant): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]/hl7:name[hl7:family]
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]/hl7:name[hl7:family]" id="d966600e170-false-d967295e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:family) &gt;= 1">(CI-SISParticipant): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:family) &lt;= 1">(CI-SISParticipant): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:given) &lt;= 1">(CI-SISParticipant): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:prefix) &lt;= 1">(CI-SISParticipant): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:suffix) &lt;= 1">(CI-SISParticipant): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]/hl7:name[hl7:family]/hl7:family
Item: (CI-SISParticipant)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]/hl7:name[hl7:family]/hl7:given
Item: (CI-SISParticipant)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISParticipant)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISParticipant)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization" id="d966600e197-false-d967362e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:id) &lt;= 1">(CI-SISParticipant): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:name) &lt;= 1">(CI-SISParticipant): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:standardIndustryClassCode) &lt;= 1">(CI-SISParticipant): element hl7:standardIndustryClassCode appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:id
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:id" id="d966600e202-false-d967410e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:name
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:name" id="d966600e208-false-d967419e0">
        <extends rule="ANY"/>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d967420e23-false-d967426e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d967420e44-false-d967517e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d967420e50-false-d967526e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d967420e56-false-d967535e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d967420e64-false-d967544e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d967420e72-false-d967553e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d967420e80-false-d967562e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d967420e84-false-d967571e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d967420e90-false-d967580e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d967420e96-false-d967589e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d967420e107-false-d967598e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d967420e126-false-d967607e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d967420e138-false-d967616e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d967420e144-false-d967625e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[hl7:streetAddressLine]" id="d967420e150-false-d967632e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d967420e173-false-d967651e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:telecom" id="d967652e25-false-d967661e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.9
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:standardIndustryClassCode
Item: (CI-SISParticipant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:standardIndustryClassCode" id="d966600e222-false-d967677e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.9" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]" id="d967678e23-false-d967697e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(//*:ClinicalDocument/*:documentationOf[1]/*:serviceEvent/*:performer)=1">(CI-SISDocumentationOf): DocumentationIOf: L'élément performer est obligatoire dans l'acte principal.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(//*:ClinicalDocument/*:documentationOf[1]/*:serviceEvent/*:effectiveTime)=1">(CI-SISDocumentationOf): DocumentationIOf: L'élément effectiveTime est obligatoire dans l'acte principal.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:serviceEvent[not(@nullFlavor)]) &gt;= 1">(CI-SISDocumentationOf): element hl7:serviceEvent[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:serviceEvent[not(@nullFlavor)]) &lt;= 1">(CI-SISDocumentationOf): element hl7:serviceEvent[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]" id="d967678e27-false-d967732e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:code) &lt;= 1">(CI-SISDocumentationOf): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:effectiveTime) &lt;= 1">(CI-SISDocumentationOf): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]) &lt;= 1">(CI-SISDocumentationOf): element hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:id
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:id" id="d967678e34-false-d967771e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:code
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:code" id="d967678e35-false-d967780e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISDocumentationOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISDocumentationOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISDocumentationOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="(@code and @codeSystem and not(@nullFlavor)) or (not(@code) and not(@codeSystem) and @nullFlavor)">(CI-SISDocumentationOf): Les attributs @code et @codeSystem sont obligatoires si pas de @nullFlavor</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:effectiveTime
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:effectiveTime" id="d967678e50-false-d967799e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:low) &gt;= 1">(CI-SISDocumentationOf): element hl7:low is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:low) &lt;= 1">(CI-SISDocumentationOf): element hl7:low appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:high) &lt;= 1">(CI-SISDocumentationOf): element hl7:high appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:effectiveTime/hl7:low
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:effectiveTime/hl7:low" id="d967678e54-false-d967820e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVXB_TS')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="@value">(CI-SISDocumentationOf): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISDocumentationOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:effectiveTime/hl7:high
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:effectiveTime/hl7:high" id="d967678e56-false-d967835e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVXB_TS')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISDocumentationOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]" id="d967678e58-false-d967858e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="string(@typeCode) = ('PRF')">(CI-SISDocumentationOf): The value for typeCode SHALL be 'PRF'. Found: "<value-of select="@typeCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:functionCode) &lt;= 1">(CI-SISDocumentationOf): element hl7:functionCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:time) &lt;= 1">(CI-SISDocumentationOf): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:assignedEntity[hl7:representedOrganization]) &gt;= 1">(CI-SISDocumentationOf): element hl7:assignedEntity[hl7:representedOrganization] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:assignedEntity[hl7:representedOrganization]) &lt;= 1">(CI-SISDocumentationOf): element hl7:assignedEntity[hl7:representedOrganization] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:functionCode
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:functionCode" id="d967678e70-false-d967899e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:time
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:time" id="d967678e71-false-d967908e0">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]" id="d967678e72-false-d967927e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:id) &gt;= 1">(CI-SISDocumentationOf): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:id) &lt;= 1">(CI-SISDocumentationOf): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISDocumentationOf): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISDocumentationOf): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]) &gt;= 1">(CI-SISDocumentationOf): element hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]) &lt;= 1">(CI-SISDocumentationOf): element hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:id
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:id" id="d967678e79-false-d968001e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d967678e99-false-d968015e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISDocumentationOf): The element value SHALL be one of '1.2.250.1.213.1.1.5.123 JDV_J48-ProfessionNonPS-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.5.461 JDV_J01-XdsAuthorSpecialty-CISIS (DYNAMIC)'.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:telecom" id="d968016e29-false-d968041e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]" id="d968042e47-false-d968057e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d968042e68-false-d968148e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d968042e74-false-d968157e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d968042e80-false-d968166e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d968042e88-false-d968175e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d968042e96-false-d968184e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d968042e104-false-d968193e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d968042e108-false-d968202e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d968042e114-false-d968211e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d968042e120-false-d968220e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d968042e131-false-d968229e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d968042e150-false-d968238e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d968042e162-false-d968247e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d968042e168-false-d968256e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[hl7:streetAddressLine]" id="d968042e174-false-d968263e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d968042e197-false-d968282e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:assignedPerson
Item: (CI-SISDocumentationOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:assignedPerson/hl7:name[hl7:family]" id="d967678e116-false-d968301e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:family) &gt;= 1">(CI-SISDocumentationOf): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:family) &lt;= 1">(CI-SISDocumentationOf): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:given) &lt;= 1">(CI-SISDocumentationOf): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:prefix) &lt;= 1">(CI-SISDocumentationOf): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:suffix) &lt;= 1">(CI-SISDocumentationOf): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISDocumentationOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISDocumentationOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISDocumentationOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISDocumentationOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]" id="d967678e147-false-d968375e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISDocumentationOf): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:name) &lt;= 1">(CI-SISDocumentationOf): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &gt;= 1">(CI-SISDocumentationOf): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISDocumentationOf): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d967678e154-false-d968433e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISDocumentationOf): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="@extension">(CI-SISDocumentationOf): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISDocumentationOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:name
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:name" id="d967678e166-false-d968452e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ON')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:telecom" id="d968453e25-false-d968462e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]" id="d968463e47-false-d968478e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d968463e68-false-d968569e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d968463e74-false-d968578e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d968463e80-false-d968587e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d968463e88-false-d968596e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d968463e96-false-d968605e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d968463e104-false-d968614e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d968463e108-false-d968623e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d968463e114-false-d968632e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d968463e120-false-d968641e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d968463e131-false-d968650e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d968463e150-false-d968659e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d968463e162-false-d968668e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d968463e168-false-d968677e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[hl7:streetAddressLine]" id="d968463e174-false-d968684e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d968463e197-false-d968703e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.4
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISDocumentationOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d967678e175-false-d968717e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISDocumentationOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="@code">(CI-SISDocumentationOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISDocumentationOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="@displayName">(CI-SISDocumentationOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISDocumentationOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="@codeSystem">(CI-SISDocumentationOf): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISDocumentationOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]
Item: (CI-SISRelatedDocument)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]" id="d968718e39-false-d968758e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.3" test="string(@typeCode) = ('RPLC')">(CI-SISRelatedDocument): The value for typeCode SHALL be 'RPLC'. Found: "<value-of select="@typeCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.3" test="count(hl7:parentDocument[not(@nullFlavor)]) &gt;= 1">(CI-SISRelatedDocument): element hl7:parentDocument[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.3" test="count(hl7:parentDocument[not(@nullFlavor)]) &lt;= 1">(CI-SISRelatedDocument): element hl7:parentDocument[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]/hl7:parentDocument[not(@nullFlavor)]
Item: (CI-SISRelatedDocument)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]/hl7:parentDocument[not(@nullFlavor)]" id="d968718e50-false-d968777e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.3" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(CI-SISRelatedDocument): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.3" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(CI-SISRelatedDocument): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]/hl7:parentDocument[not(@nullFlavor)]/hl7:id[not(@nullFlavor)]
Item: (CI-SISRelatedDocument)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]/hl7:parentDocument[not(@nullFlavor)]/hl7:id[not(@nullFlavor)]" id="d968718e53-false-d968792e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISRelatedDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.3" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISRelatedDocument): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.3" test="@root">(CI-SISRelatedDocument): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.3" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISRelatedDocument): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]" id="d968793e30-false-d968834e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]) &gt;= 1">(CI-SISComponentOf): element hl7:encompassingEncounter[not(@nullFlavor)][hl7:location] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]) &lt;= 1">(CI-SISComponentOf): element hl7:encompassingEncounter[not(@nullFlavor)][hl7:location] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]" id="d968793e34-false-d968895e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:code[(@code = 'IMP' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EMER' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'AMB' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'FLD' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'HH' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'VR' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EXTERNE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291') or (@code = 'SEANCE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291')]) &lt;= 1">(CI-SISComponentOf): element hl7:code[(@code = 'IMP' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EMER' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'AMB' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'FLD' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'HH' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'VR' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EXTERNE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291') or (@code = 'SEANCE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:effectiveTime) &gt;= 1">(CI-SISComponentOf): element hl7:effectiveTime is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:effectiveTime) &lt;= 1">(CI-SISComponentOf): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:dischargeDispositionCode) &lt;= 1">(CI-SISComponentOf): element hl7:dischargeDispositionCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:responsibleParty[hl7:assignedEntity]) &lt;= 1">(CI-SISComponentOf): element hl7:responsibleParty[hl7:assignedEntity] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]) &gt;= 1">(CI-SISComponentOf): element hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]) &lt;= 1">(CI-SISComponentOf): element hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:id
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:id" id="d968793e43-false-d968975e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISComponentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@root">(CI-SISComponentOf): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISComponentOf): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:code[(@code = 'IMP' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EMER' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'AMB' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'FLD' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'HH' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'VR' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EXTERNE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291') or (@code = 'SEANCE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291')]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:code[(@code = 'IMP' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EMER' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'AMB' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'FLD' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'HH' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'VR' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EXTERNE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291') or (@code = 'SEANCE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291')]" id="d968793e50-false-d968994e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or (@code='IMP' and @codeSystem='2.16.840.1.113883.5.4') or (@code='EMER' and @codeSystem='2.16.840.1.113883.5.4') or (@code='AMB' and @codeSystem='2.16.840.1.113883.5.4') or (@code='FLD' and @codeSystem='2.16.840.1.113883.5.4') or (@code='HH' and @codeSystem='2.16.840.1.113883.5.4') or (@code='VR' and @codeSystem='2.16.840.1.113883.5.4') or (@code='EXTERNE' and @codeSystem='1.2.250.1.213.1.1.4.2.291') or (@code='SEANCE' and @codeSystem='1.2.250.1.213.1.1.4.2.291')">(CI-SISComponentOf): The element value SHALL be one of 'code 'IMP' codeSystem '2.16.840.1.113883.5.4' or code 'EMER' codeSystem '2.16.840.1.113883.5.4' or code 'AMB' codeSystem '2.16.840.1.113883.5.4' or code 'FLD' codeSystem '2.16.840.1.113883.5.4' or code 'HH' codeSystem '2.16.840.1.113883.5.4' or code 'VR' codeSystem '2.16.840.1.113883.5.4' or code 'EXTERNE' codeSystem '1.2.250.1.213.1.1.4.2.291' or code 'SEANCE' codeSystem '1.2.250.1.213.1.1.4.2.291''.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@code">(CI-SISComponentOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISComponentOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@codeSystem">(CI-SISComponentOf): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISComponentOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@displayName">(CI-SISComponentOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISComponentOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:effectiveTime
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:effectiveTime" id="d968793e87-false-d969038e0">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:low) &lt;= 1">(CI-SISComponentOf): element hl7:low appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:high) &lt;= 1">(CI-SISComponentOf): element hl7:high appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:effectiveTime/hl7:low
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:effectiveTime/hl7:low" id="d968793e91-false-d969060e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVXB_TS')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@value">(CI-SISComponentOf): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISComponentOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:effectiveTime/hl7:high
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:effectiveTime/hl7:high" id="d968793e95-false-d969075e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVXB_TS')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@value">(CI-SISComponentOf): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISComponentOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:dischargeDispositionCode
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:dischargeDispositionCode" id="d968793e99-false-d969090e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@displayName">(CI-SISComponentOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISComponentOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="string(@codeSystem) = ('1.2.250.1.213.2.14') or not(@codeSystem)">(CI-SISComponentOf): The value for codeSystem SHALL be '1.2.250.1.213.2.14'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@code">(CI-SISComponentOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISComponentOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]" id="d968793e110-false-d969125e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &gt;= 1">(CI-SISComponentOf): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &lt;= 1">(CI-SISComponentOf): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]" id="d968793e117-false-d969163e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &gt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.1'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &lt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISComponentOf): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISComponentOf): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISComponentOf): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:id[@root = '1.2.250.1.71.4.2.1']
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:id[@root = '1.2.250.1.71.4.2.1']" id="d968793e120-false-d969239e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@extension">(CI-SISComponentOf): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISComponentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="string(@root) = ('1.2.250.1.71.4.2.1')">(CI-SISComponentOf): The value for root SHALL be '1.2.250.1.71.4.2.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d968793e125-false-d969270e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISComponentOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]" id="d969271e33-false-d969319e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d969271e54-false-d969410e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d969271e60-false-d969419e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d969271e66-false-d969428e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d969271e74-false-d969437e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d969271e82-false-d969446e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d969271e90-false-d969455e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d969271e94-false-d969464e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d969271e100-false-d969473e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d969271e106-false-d969482e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d969271e117-false-d969491e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d969271e136-false-d969500e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d969271e148-false-d969509e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d969271e154-false-d969518e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]" id="d969271e160-false-d969525e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d969271e183-false-d969544e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:telecom" id="d969545e25-false-d969554e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson" id="d968793e157-false-d969570e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISComponentOf): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISComponentOf): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]" id="d968793e160-false-d969585e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:family) &gt;= 1">(CI-SISComponentOf): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:family) &lt;= 1">(CI-SISComponentOf): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:given) &lt;= 1">(CI-SISComponentOf): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:prefix) &lt;= 1">(CI-SISComponentOf): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:suffix) &lt;= 1">(CI-SISComponentOf): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISComponentOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISComponentOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISComponentOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISComponentOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization" id="d968793e185-false-d969655e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name) &lt;= 1">(CI-SISComponentOf): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISComponentOf): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d968793e189-false-d969710e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@extension">(CI-SISComponentOf): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISComponentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISComponentOf): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:name
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:name" id="d968793e199-false-d969728e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ON')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d969729e29-false-d969737e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d969729e50-false-d969828e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d969729e56-false-d969837e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d969729e62-false-d969846e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d969729e70-false-d969855e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d969729e78-false-d969864e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d969729e86-false-d969873e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d969729e90-false-d969882e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d969729e96-false-d969891e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d969729e102-false-d969900e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d969729e113-false-d969909e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d969729e132-false-d969918e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d969729e144-false-d969927e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d969729e150-false-d969936e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]" id="d969729e156-false-d969943e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d969729e179-false-d969962e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:telecom" id="d969963e25-false-d969972e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d968793e206-false-d969993e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISComponentOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@code">(CI-SISComponentOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISComponentOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@displayName">(CI-SISComponentOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISComponentOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@codeSystem">(CI-SISComponentOf): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISComponentOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]" id="d968793e222-false-d970044e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@typeCode">(CI-SISComponentOf): attribute @typeCode SHALL be present.</assert>
        <let name="theAttValue" value="distinct-values(tokenize(normalize-space(@typeCode),'\s'))"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@typeCode) or empty($theAttValue[not(. = (doc('include/voc-1.2.250.1.213.1.1.5.528-DYNAMIC.xml')/*/valueSet/conceptList/concept/@code))])">(CI-SISComponentOf): The value for typeCode SHALL be selected from value set '1.2.250.1.213.1.1.5.528' JDV_J140-EncounterParticipationType-CISIS (DYNAMIC).</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:time) &lt;= 1">(CI-SISComponentOf): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &gt;= 1">(CI-SISComponentOf): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &lt;= 1">(CI-SISComponentOf): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:time
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:time" id="d968793e234-false-d970091e0">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:low) &lt;= 1">(CI-SISComponentOf): element hl7:low appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:high) &lt;= 1">(CI-SISComponentOf): element hl7:high appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:time/hl7:low
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:time/hl7:low" id="d968793e238-false-d970113e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVXB_TS')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@value">(CI-SISComponentOf): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISComponentOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:time/hl7:high
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:time/hl7:high" id="d968793e240-false-d970128e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVXB_TS')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@value">(CI-SISComponentOf): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISComponentOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]" id="d968793e242-false-d970155e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &gt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.1'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &lt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISComponentOf): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISComponentOf): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISComponentOf): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:id[@root = '1.2.250.1.71.4.2.1']
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:id[@root = '1.2.250.1.71.4.2.1']" id="d968793e245-false-d970226e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@extension">(CI-SISComponentOf): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISComponentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="string(@root) = ('1.2.250.1.71.4.2.1')">(CI-SISComponentOf): The value for root SHALL be '1.2.250.1.71.4.2.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d968793e250-false-d970257e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISComponentOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]" id="d970258e33-false-d970306e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d970258e54-false-d970397e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d970258e60-false-d970406e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d970258e66-false-d970415e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d970258e74-false-d970424e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d970258e82-false-d970433e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d970258e90-false-d970442e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d970258e94-false-d970451e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d970258e100-false-d970460e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d970258e106-false-d970469e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d970258e117-false-d970478e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d970258e136-false-d970487e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d970258e148-false-d970496e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d970258e154-false-d970505e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]" id="d970258e160-false-d970512e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d970258e183-false-d970531e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:telecom" id="d970532e25-false-d970541e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson" id="d968793e282-false-d970557e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISComponentOf): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISComponentOf): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]" id="d968793e285-false-d970572e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:family) &gt;= 1">(CI-SISComponentOf): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:family) &lt;= 1">(CI-SISComponentOf): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:given) &lt;= 1">(CI-SISComponentOf): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:prefix) &lt;= 1">(CI-SISComponentOf): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:suffix) &lt;= 1">(CI-SISComponentOf): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISComponentOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISComponentOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISComponentOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISComponentOf)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization" id="d968793e310-false-d970642e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name) &lt;= 1">(CI-SISComponentOf): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISComponentOf): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d968793e314-false-d970692e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@extension">(CI-SISComponentOf): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISComponentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISComponentOf): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:name
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:name" id="d968793e324-false-d970710e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ON')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d970711e29-false-d970719e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d970711e50-false-d970810e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d970711e56-false-d970819e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d970711e62-false-d970828e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d970711e70-false-d970837e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d970711e78-false-d970846e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d970711e86-false-d970855e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d970711e90-false-d970864e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d970711e96-false-d970873e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d970711e102-false-d970882e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d970711e113-false-d970891e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d970711e132-false-d970900e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d970711e144-false-d970909e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d970711e150-false-d970918e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]" id="d970711e156-false-d970925e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d970711e179-false-d970944e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:telecom" id="d970945e25-false-d970954e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d968793e331-false-d970975e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISComponentOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@code">(CI-SISComponentOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISComponentOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@displayName">(CI-SISComponentOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISComponentOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@codeSystem">(CI-SISComponentOf): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISComponentOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]" id="d968793e347-false-d971023e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]) &gt;= 1">(CI-SISComponentOf): element hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]) &lt;= 1">(CI-SISComponentOf): element hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]" id="d968793e351-false-d971054e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &gt;= 1">(CI-SISComponentOf): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISComponentOf): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:location) &lt;= 1">(CI-SISComponentOf): element hl7:location appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:id
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:id" id="d968793e354-false-d971087e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d968793e355-false-d971101e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISComponentOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.71.4.2.4 TRE_R02-SecteurActivite (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@code">(CI-SISComponentOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISComponentOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@displayName">(CI-SISComponentOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISComponentOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="@codeSystem">(CI-SISComponentOf): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISComponentOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location" id="d968793e370-false-d971144e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name) &lt;= 1">(CI-SISComponentOf): element hl7:name appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine])"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="$elmcount &lt;= 1">(CI-SISComponentOf): choice (hl7:addr[not(hl7:streetAddressLine)]  or  hl7:addr[hl7:streetAddressLine]) contains too many elements [max 1x]</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.2
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:name
Item: (CI-SISComponentOf)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:name" id="d968793e374-false-d971171e0">
        <extends rule="EN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.2" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'EN')">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:EN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]" id="d971172e29-false-d971180e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d971172e50-false-d971271e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d971172e56-false-d971280e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d971172e62-false-d971289e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d971172e70-false-d971298e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d971172e78-false-d971307e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d971172e86-false-d971316e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d971172e90-false-d971325e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d971172e96-false-d971334e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d971172e102-false-d971343e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d971172e113-false-d971352e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d971172e132-false-d971361e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d971172e144-false-d971370e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d971172e150-false-d971379e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[hl7:streetAddressLine]" id="d971172e156-false-d971386e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d971172e179-false-d971405e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component
Item: (DemandeActeImagerie)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody" id="d958630e2217-false-d971615e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]) &gt;= 1">(DemandeActeImagerie): element hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]) &lt;= 1">(DemandeActeImagerie): element hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]) &gt;= 1">(DemandeActeImagerie): element hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]) &lt;= 1">(DemandeActeImagerie): element hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]) &gt;= 1">(DemandeActeImagerie): element hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]) &lt;= 1">(DemandeActeImagerie): element hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]) &lt;= 1">(DemandeActeImagerie): element hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]) &lt;= 1">(DemandeActeImagerie): element hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]" id="d958630e2218-false-d971645e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]) &gt;= 1">(DemandeActeImagerie): element hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]) &lt;= 1">(DemandeActeImagerie): element hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.205
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]
Item: (FR-DICOM-Informations-cliniques)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]" id="d971648e40-false-d971692e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="string(@classCode) = ('DOCSECT') or not(@classCode)">(FR-DICOM-Informations-cliniques): The value for classCode SHALL be 'DOCSECT'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="string(@moodCode) = ('EVN') or not(@moodCode)">(FR-DICOM-Informations-cliniques): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.2.205']) &gt;= 1">(FR-DICOM-Informations-cliniques): element hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.2.205']) &lt;= 1">(FR-DICOM-Informations-cliniques): element hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:templateId[@root = '1.2.840.10008.9.2']) &gt;= 1">(FR-DICOM-Informations-cliniques): element hl7:templateId[@root = '1.2.840.10008.9.2'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:templateId[@root = '1.2.840.10008.9.2']) &lt;= 1">(FR-DICOM-Informations-cliniques): element hl7:templateId[@root = '1.2.840.10008.9.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:id) &gt;= 1">(FR-DICOM-Informations-cliniques): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:id) &lt;= 1">(FR-DICOM-Informations-cliniques): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:code[(@code = '55752-0' and @codeSystem = '2.16.840.1.113883.6.1')]) &gt;= 1">(FR-DICOM-Informations-cliniques): element hl7:code[(@code = '55752-0' and @codeSystem = '2.16.840.1.113883.6.1')] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:code[(@code = '55752-0' and @codeSystem = '2.16.840.1.113883.6.1')]) &lt;= 1">(FR-DICOM-Informations-cliniques): element hl7:code[(@code = '55752-0' and @codeSystem = '2.16.840.1.113883.6.1')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:title[not(@nullFlavor)]) &gt;= 1">(FR-DICOM-Informations-cliniques): element hl7:title[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:title[not(@nullFlavor)]) &lt;= 1">(FR-DICOM-Informations-cliniques): element hl7:title[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:text[not(@nullFlavor)]) &gt;= 1">(FR-DICOM-Informations-cliniques): element hl7:text[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:text[not(@nullFlavor)]) &lt;= 1">(FR-DICOM-Informations-cliniques): element hl7:text[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:component[hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.211'] and hl7:templateId[@root = '1.2.840.10008.9.7']]]) &gt;= 1">(FR-DICOM-Informations-cliniques): element hl7:component[hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.211'] and hl7:templateId[@root = '1.2.840.10008.9.7']]] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:component[hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.211'] and hl7:templateId[@root = '1.2.840.10008.9.7']]]) &lt;= 1">(FR-DICOM-Informations-cliniques): element hl7:component[hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.211'] and hl7:templateId[@root = '1.2.840.10008.9.7']]] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:component[hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.213'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.22.2.39']]]) &gt;= 1">(FR-DICOM-Informations-cliniques): element hl7:component[hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.213'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.22.2.39']]] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="count(hl7:component[hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.213'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.22.2.39']]]) &lt;= 1">(FR-DICOM-Informations-cliniques): element hl7:component[hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.213'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.22.2.39']]] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.205
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.205']
Item: (FR-DICOM-Informations-cliniques)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.205']" id="d971648e46-false-d971788e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-DICOM-Informations-cliniques): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="string(@root) = ('1.2.250.1.213.1.1.2.205')">(FR-DICOM-Informations-cliniques): The value for root SHALL be '1.2.250.1.213.1.1.2.205'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.205
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:templateId[@root = '1.2.840.10008.9.2']
Item: (FR-DICOM-Informations-cliniques)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:templateId[@root = '1.2.840.10008.9.2']" id="d971648e52-false-d971802e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-DICOM-Informations-cliniques): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="string(@root) = ('1.2.840.10008.9.2')">(FR-DICOM-Informations-cliniques): The value for root SHALL be '1.2.840.10008.9.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.205
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:id
Item: (FR-DICOM-Informations-cliniques)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:id" id="d971648e58-false-d971815e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-DICOM-Informations-cliniques): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.205
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:code[(@code = '55752-0' and @codeSystem = '2.16.840.1.113883.6.1')]
Item: (FR-DICOM-Informations-cliniques)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:code[(@code = '55752-0' and @codeSystem = '2.16.840.1.113883.6.1')]" id="d971648e62-false-d971825e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-DICOM-Informations-cliniques): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="string(@code) = ('55752-0')">(FR-DICOM-Informations-cliniques): The value for code SHALL be '55752-0'. Found: "<value-of select="@code"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="string(@displayName) = ('Informations cliniques') or not(@displayName)">(FR-DICOM-Informations-cliniques): The value for displayName SHALL be 'Informations cliniques'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-DICOM-Informations-cliniques): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="string(@codeSystem) = ('2.16.840.1.113883.6.1')">(FR-DICOM-Informations-cliniques): The value for codeSystem SHALL be '2.16.840.1.113883.6.1'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="string(@codeSystemName) = ('LOINC') or not(@codeSystemName)">(FR-DICOM-Informations-cliniques): The value for codeSystemName SHALL be 'LOINC'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-DICOM-Informations-cliniques): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.205
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:title[not(@nullFlavor)]
Item: (FR-DICOM-Informations-cliniques)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:title[not(@nullFlavor)]" id="d971648e70-false-d971855e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(FR-DICOM-Informations-cliniques): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.205
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:text[not(@nullFlavor)]
Item: (FR-DICOM-Informations-cliniques)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:text[not(@nullFlavor)]" id="d971648e74-false-d971864e0">
        <extends rule="SD.TEXT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.205" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SD.TEXT')">(FR-DICOM-Informations-cliniques): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SD.TEXT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.205
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:component[hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.211'] and hl7:templateId[@root = '1.2.840.10008.9.7']]]
Item: (FR-DICOM-Informations-cliniques)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.205
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.205']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.205'] and hl7:templateId[@root = '1.2.840.10008.9.2']]/hl7:component[hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.213'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.22.2.39']]]
Item: (FR-DICOM-Informations-cliniques)
-->
<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]" id="d958630e2223-false-d971907e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]) &gt;= 1">(DemandeActeImagerie): element hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]) &lt;= 1">(DemandeActeImagerie): element hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]
Item: (FR-Education-du-patient)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]" id="d971910e19-false-d972072e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39']) &gt;= 1">(FR-Education-du-patient): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39']) &lt;= 1">(FR-Education-du-patient): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']) &gt;= 1">(FR-Education-du-patient): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']) &lt;= 1">(FR-Education-du-patient): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.2.107']) &lt;= 1">(FR-Education-du-patient): element hl7:templateId[@root = '1.2.250.1.213.1.1.2.107'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:id) &lt;= 1">(FR-Education-du-patient): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:code[(@code = '34895-3' and @codeSystem = '2.16.840.1.113883.6.1')]) &gt;= 1">(FR-Education-du-patient): element hl7:code[(@code = '34895-3' and @codeSystem = '2.16.840.1.113883.6.1')] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:code[(@code = '34895-3' and @codeSystem = '2.16.840.1.113883.6.1')]) &lt;= 1">(FR-Education-du-patient): element hl7:code[(@code = '34895-3' and @codeSystem = '2.16.840.1.113883.6.1')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:title) &lt;= 1">(FR-Education-du-patient): element hl7:title appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:text) &gt;= 1">(FR-Education-du-patient): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="count(hl7:text) &lt;= 1">(FR-Education-du-patient): element hl7:text appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39']
Item: (FR-Education-du-patient)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39']" id="d971910e23-false-d972217e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Education-du-patient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.1.9.39')">(FR-Education-du-patient): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']
Item: (FR-Education-du-patient)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']" id="d971910e25-false-d972231e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Education-du-patient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.1.9.38')">(FR-Education-du-patient): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.1.9.38'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.107']
Item: (FR-Education-du-patient)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.107']" id="d971910e27-false-d972245e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Education-du-patient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="string(@root) = ('1.2.250.1.213.1.1.2.107')">(FR-Education-du-patient): The value for root SHALL be '1.2.250.1.213.1.1.2.107'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:id
Item: (FR-Education-du-patient)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:id" id="d971910e29-false-d972258e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Education-du-patient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:code[(@code = '34895-3' and @codeSystem = '2.16.840.1.113883.6.1')]
Item: (FR-Education-du-patient)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:code[(@code = '34895-3' and @codeSystem = '2.16.840.1.113883.6.1')]" id="d971910e33-false-d972268e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Education-du-patient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="string(@code) = ('34895-3')">(FR-Education-du-patient): The value for code SHALL be '34895-3'. Found: "<value-of select="@code"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="string(@displayName) = ('Education du patient') or not(@displayName)">(FR-Education-du-patient): The value for displayName SHALL be 'Education du patient'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Education-du-patient): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="string(@codeSystem) = ('2.16.840.1.113883.6.1')">(FR-Education-du-patient): The value for codeSystem SHALL be '2.16.840.1.113883.6.1'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="string(@codeSystemName) = ('LOINC') or not(@codeSystemName)">(FR-Education-du-patient): The value for codeSystemName SHALL be 'LOINC'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Education-du-patient): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:title
Item: (FR-Education-du-patient)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:title" id="d971910e41-false-d972298e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(FR-Education-du-patient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:text
Item: (FR-Education-du-patient)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:text" id="d971910e45-false-d972307e0">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.107" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Education-du-patient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]
Item: (FR-Education-du-patient)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]
Item: (FR-Acte)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@classCode) = ('PROC')">(FR-Acte): The value for classCode SHALL be 'PROC'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="@moodCode">(FR-Acte): attribute @moodCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="not(@moodCode) or (string-length(@moodCode) &gt; 0 and not(matches(@moodCode,'\s')))">(FR-Acte): Attribute @moodCode SHALL be of data type 'cs'  - '<value-of select="@moodCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="@moodCode='EVN' or @moodCode='INT'">(FR-Acte): The moodCode attribute SHALL have the value EVN or INT</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="(@moodCode='EVN' and hl7:templateId/@root='2.16.840.1.113883.10.20.1.29') or (@moodCode='INT' and hl7:templateId/@root='2.16.840.1.113883.10.20.1.25')">(FR-Acte): When the procedure is in event mood (moodCode='EVN'), this entry conforms to the CCD template 2.16.840.1.113883.10.20.1.29, and when in intent mood, this entry conforms to the CCD template 2.16.840.1.113883.10.20.1.25</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="((@moodCode='INT') and (hl7:effectiveTime or hl7:priorityCode)) or (@moodCode='EVN')">(FR-Acte): priorityCode shall be present in INT mood when effectiveTime is not provided, it may be present in other moods.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']) &gt;= 1">(FR-Acte): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']) &lt;= 1">(FR-Acte): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:templateId[@root = '2.16.840.1.113883.10.20.1.29']) &lt;= 1">(FR-Acte): element hl7:templateId[@root = '2.16.840.1.113883.10.20.1.29'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25']) &lt;= 1">(FR-Acte): element hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.62']) &lt;= 1">(FR-Acte): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.62'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:id) &gt;= 1">(FR-Acte): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:code) &gt;= 1">(FR-Acte): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:code) &lt;= 1">(FR-Acte): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:text[not(@nullFlavor)]) &gt;= 1">(FR-Acte): element hl7:text[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:text[not(@nullFlavor)]) &lt;= 1">(FR-Acte): element hl7:text[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code]) &gt;= 1">(FR-Acte): element hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code]) &lt;= 1">(FR-Acte): element hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:effectiveTime) &lt;= 1">(FR-Acte): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:priorityCode) &lt;= 1">(FR-Acte): element hl7:priorityCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']) &lt;= 1">(FR-Acte): element hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false'] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.19')">(FR-Acte): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.19'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:templateId[@root = '2.16.840.1.113883.10.20.1.29']
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:templateId[@root = '2.16.840.1.113883.10.20.1.29']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@root) = ('2.16.840.1.113883.10.20.1.29')">(FR-Acte): The value for root SHALL be '2.16.840.1.113883.10.20.1.29'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25']
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@root) = ('2.16.840.1.113883.10.20.1.25')">(FR-Acte): The value for root SHALL be '2.16.840.1.113883.10.20.1.25'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.62']
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.62']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@root) = ('1.2.250.1.213.1.1.3.62')">(FR-Acte): The value for root SHALL be '1.2.250.1.213.1.1.3.62'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:id
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:code
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:code">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:text[not(@nullFlavor)]
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:text[not(@nullFlavor)]">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:reference[not(@nullFlavor)]) &gt;= 1">(FR-Acte): element hl7:reference[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:reference[not(@nullFlavor)]) &lt;= 1">(FR-Acte): element hl7:reference[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:text[not(@nullFlavor)]/hl7:reference[not(@nullFlavor)]
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:text[not(@nullFlavor)]/hl7:reference[not(@nullFlavor)]">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code]
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code]">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="@nullFlavor or exists(doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/concept[@code = $theCode] or completeCodeSystem)">(FR-Acte): The element value SHALL be one of '2.16.840.1.113883.1.11.15933 JDV_HL7_ActStatus-CISIS (DYNAMIC)'.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:effectiveTime
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:effectiveTime">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:priorityCode
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:priorityCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="count(hl7:originalText) &lt;= 1">(FR-Acte): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:priorityCode/hl7:originalText
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:priorityCode/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:targetSiteCode
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:targetSiteCode">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Acte): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="not(@typeCode) or (string-length(@typeCode) &gt; 0 and not(matches(@typeCode,'\s')))">(FR-Performer): Attribute @typeCode SHALL be of data type 'cs'  - '<value-of select="@typeCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:templateId) &lt;= 1">(FR-Performer): element hl7:templateId appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:time) &lt;= 1">(FR-Performer): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]) &gt;= 1">(FR-Performer): element hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]) &lt;= 1">(FR-Performer): element hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:templateId
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="string(@root) = ('1.2.250.1.213.1.1.1.99.99.10.85') or not(@root)">(FR-Performer): The value for root SHALL be '1.2.250.1.213.1.1.1.99.99.10.85'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:templateId
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(FR-Performer): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:time
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:time">
        <extends rule="ANY"/>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="string(@classCode) = ('ASSIGNED')">(FR-Performer): The value for classCode SHALL be 'ASSIGNED'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:id) &gt;= 1">(FR-Performer): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(FR-Performer): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:assignedPerson) &lt;= 1">(FR-Performer): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:representedOrganization) &lt;= 1">(FR-Performer): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:templateId
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:id
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(FR-Performer): The element value SHALL be one of '1.2.250.1.213.1.1.5.461 JDV_J01-XdsAuthorSpecialty-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.5.123 JDV_J48-ProfessionNonPS-CISIS (DYNAMIC)'.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:assignedPerson
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:assignedPerson/hl7:templateId
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:assignedPerson/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:assignedPerson/hl7:name
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:standardIndustryClassCode) &lt;= 1">(FR-Performer): element hl7:standardIndustryClassCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:asOrganizationPartOf) &lt;= 1">(FR-Performer): element hl7:asOrganizationPartOf appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:templateId
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:id
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:name
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:telecom
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:standardIndustryClassCode
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:standardIndustryClassCode">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:asOrganizationPartOf
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &gt;= 1">(CI-SISAuthor): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &lt;= 1">(CI-SISAuthor): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &gt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 JDV_HL7_ParticipationFunction-CISIS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:originalText) &lt;= 1">(CI-SISAuthor): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:time
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:time">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(*)">(CI-SISAuthor): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@value">(CI-SISAuthor): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthor): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id) &lt;= 1">(CI-SISAuthor): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:assignedPerson | hl7:assignedAuthoringDevice)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="$elmcount &lt;= 1">(CI-SISAuthor): choice (hl7:assignedPerson  or  hl7:assignedAuthoringDevice) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthor): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthoringDevice) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthoringDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthor): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &gt;= 1">(CI-SISAuthor): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &lt;= 1">(CI-SISAuthor): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:given) &lt;= 1">(CI-SISAuthor): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthor): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthor): element hl7:suffix appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:manufacturerModelName) &lt;= 1">(CI-SISAuthor): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:softwareName) &lt;= 1">(CI-SISAuthor): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthor): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name) &lt;= 1">(CI-SISAuthor): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@extension">(CI-SISAuthor): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthor): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthor): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:name
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.12
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant
Item: (CI-SISInformant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant">
        <let name="elmcount" value="count(hl7:assignedEntity | hl7:relatedEntity[@classCode][hl7:relatedPerson])"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.12" test="$elmcount &gt;= 1">(CI-SISInformant): choice (hl7:assignedEntity  or  hl7:relatedEntity[@classCode][hl7:relatedPerson]) does not contain enough elements [min 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.12" test="$elmcount &lt;= 1">(CI-SISInformant): choice (hl7:assignedEntity  or  hl7:relatedEntity[@classCode][hl7:relatedPerson]) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.12" test="count(hl7:assignedEntity) &lt;= 1">(CI-SISInformant): element hl7:assignedEntity appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.12" test="count(hl7:relatedEntity[@classCode][hl7:relatedPerson]) &lt;= 1">(CI-SISInformant): element hl7:relatedEntity[@classCode][hl7:relatedPerson] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:id) &gt;= 1">(CI-SISAssignedEntity): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:id) &lt;= 1">(CI-SISAssignedEntity): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISAssignedEntity): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAssignedEntity): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAssignedEntity): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:id
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@root">(CI-SISAssignedEntity): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISAssignedEntity): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@extension">(CI-SISAssignedEntity): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAssignedEntity): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAssignedEntity): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(CI-SISAssignedEntity): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAssignedEntity): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAssignedEntity): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAssignedEntity): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAssignedEntity): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAssignedEntity): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:prefix) &lt;= 1">(CI-SISAssignedEntity): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:given) &lt;= 1">(CI-SISAssignedEntity): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:family) &gt;= 1">(CI-SISAssignedEntity): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:family) &lt;= 1">(CI-SISAssignedEntity): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:suffix) &lt;= 1">(CI-SISAssignedEntity): element hl7:suffix appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAssignedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAssignedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAssignedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAssignedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAssignedEntity): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:name) &lt;= 1">(CI-SISAssignedEntity): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAssignedEntity): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@extension">(CI-SISAssignedEntity): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAssignedEntity): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAssignedEntity): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:name
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:name">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ON')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.14
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAssignedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAssignedEntity): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@code">(CI-SISAssignedEntity): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAssignedEntity): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@displayName">(CI-SISAssignedEntity): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAssignedEntity): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="@codeSystem">(CI-SISAssignedEntity): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAssignedEntity): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]
Item: (CI-SISRelatedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@classCode">(CI-SISRelatedEntity): attribute @classCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(CI-SISRelatedEntity): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@classCode='ECON' or @classCode='NOK' or @classCode='CON' or @classCode='CAREGIVER' or @classCode='PAT'">(CI-SISRelatedEntity): 
              @classCode doit être renseigné avec une de ces valeurs :
      			"ECON" pour personne à prévenir en cas d'urgence, 
      "NOK" pour personne de confiance, 
      "CON" pour informateur, 
          "CAREGIVER" pour un aidant, 
              "PAT" pour une personne aidée.
          </assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISRelatedEntity): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:relatedPerson) &gt;= 1">(CI-SISRelatedEntity): element hl7:relatedPerson is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:relatedPerson) &lt;= 1">(CI-SISRelatedEntity): element hl7:relatedPerson appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISRelatedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISRelatedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@nullFlavor or exists(doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISRelatedEntity): The element value SHALL be one of '2.16.840.1.113883.5.111 TRE_R216-HL7RoleCode (DYNAMIC) or 1.2.250.1.213.1.1.4.327 TRE_R217-ProtectionJuridique (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@displayName">(CI-SISRelatedEntity): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISRelatedEntity): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@codeSystem">(CI-SISRelatedEntity): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISRelatedEntity): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="@code">(CI-SISRelatedEntity): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISRelatedEntity): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:originalText) &lt;= 1">(CI-SISRelatedEntity): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISRelatedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISRelatedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson
Item: (CI-SISRelatedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISRelatedEntity): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISRelatedEntity): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]
Item: (CI-SISRelatedEntity)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISRelatedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:family) &gt;= 1">(CI-SISRelatedEntity): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:family) &lt;= 1">(CI-SISRelatedEntity): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:given) &lt;= 1">(CI-SISRelatedEntity): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:prefix) &lt;= 1">(CI-SISRelatedEntity): element hl7:prefix appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISRelatedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISRelatedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.13
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISRelatedEntity)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="@typeCode">(FR-Participant): attribute @typeCode SHALL be present.</assert>
        <let name="theAttValue" value="distinct-values(tokenize(normalize-space(@typeCode),'\s'))"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="not(@typeCode) or empty($theAttValue[not(. = (doc('include/voc-2.16.840.1.113883.1.11.10901-DYNAMIC.xml')/*/valueSet/conceptList/concept/@code))])">(FR-Participant): The value for typeCode SHALL be selected from value set '2.16.840.1.113883.1.11.10901' JDV_HL7_ParticipationType-CISIS (DYNAMIC).</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:templateId[@root='1.2.250.1.213.1.1.3.109']) &lt;= 1">(FR-Participant): element hl7:templateId[@root='1.2.250.1.213.1.1.3.109'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:time) &lt;= 1">(FR-Participant): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:participantRole) &gt;= 1">(FR-Participant): element hl7:participantRole is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:participantRole) &lt;= 1">(FR-Participant): element hl7:participantRole appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:templateId[@root='1.2.250.1.213.1.1.3.109']
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:templateId[@root='1.2.250.1.213.1.1.3.109']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="string(@root) = ('1.2.250.1.213.1.1.3.109') or not(@root)">(FR-Participant): The value for root SHALL be '1.2.250.1.213.1.1.3.109'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:templateId[@root!='1.2.250.1.213.1.1.3.109']
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:templateId[@root!='1.2.250.1.213.1.1.3.109']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:time
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:time">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:low) &lt;= 1">(FR-Participant): element hl7:low appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:high) &lt;= 1">(FR-Participant): element hl7:high appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:time/hl7:low
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:time/hl7:low">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVXB_TS')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:time/hl7:high
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:time/hl7:high">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVXB_TS')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(FR-Participant): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:typeId) &lt;= 1">(FR-Participant): element hl7:typeId appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:code) &lt;= 1">(FR-Participant): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:playingDevice) &lt;= 1">(FR-Participant): element hl7:playingDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:playingEntity) &lt;= 1">(FR-Participant): element hl7:playingEntity appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:scopingEntity) &lt;= 1">(FR-Participant): element hl7:scopingEntity appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:typeId
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:typeId">
        <extends rule="ANY"/>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:templateId
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:id
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:code
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:code">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingDevice
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingDevice">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:code) &lt;= 1">(FR-Participant): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:manufacturerModelName) &lt;= 1">(FR-Participant): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:softwareName) &lt;= 1">(FR-Participant): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingDevice/hl7:code
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingDevice/hl7:code">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingDevice/hl7:manufacturerModelName
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingDevice/hl7:manufacturerModelName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingDevice/hl7:softwareName
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingDevice/hl7:softwareName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingEntity
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingEntity">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:code) &lt;= 1">(FR-Participant): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:desc) &lt;= 1">(FR-Participant): element hl7:desc appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingEntity/hl7:code
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingEntity/hl7:code">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingEntity/hl7:name
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingEntity/hl7:name">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingEntity/hl7:desc
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:playingEntity/hl7:desc">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:scopingEntity
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:scopingEntity">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:typeId) &lt;= 1">(FR-Participant): element hl7:typeId appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:id) &lt;= 1">(FR-Participant): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:code) &lt;= 1">(FR-Participant): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="count(hl7:desc) &lt;= 1">(FR-Participant): element hl7:desc appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:scopingEntity/hl7:typeId
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:scopingEntity/hl7:typeId">
        <extends rule="ANY"/>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:scopingEntity/hl7:id
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:scopingEntity/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:scopingEntity/hl7:code
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:scopingEntity/hl7:code">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.109
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:scopingEntity/hl7:desc
Item: (FR-Participant)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:participant[@typeCode][hl7:participantRole]/hl7:participantRole/hl7:scopingEntity/hl7:desc">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.109" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Participant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@typeCode) = ('COMP')">(FR-Acte): The value for typeCode SHALL be 'COMP'. Found: "<value-of select="@typeCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@inversionInd) = ('true') or not(@inversionInd)">(FR-Acte): The value for inversionInd SHALL be 'true'. Found: "<value-of select="@inversionInd"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']
Item: (FR-Reference-interne)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="@classCode">(FR-Reference-interne): attribute @classCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(FR-Reference-interne): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="@moodCode">(FR-Reference-interne): attribute @moodCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="not(@moodCode) or (string-length(@moodCode) &gt; 0 and not(matches(@moodCode,'\s')))">(FR-Reference-interne): Attribute @moodCode SHALL be of data type 'cs'  - '<value-of select="@moodCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']) &gt;= 1">(FR-Reference-interne): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']) &lt;= 1">(FR-Reference-interne): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.36']) &lt;= 1">(FR-Reference-interne): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.36'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:id) &gt;= 1">(FR-Reference-interne): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:id) &lt;= 1">(FR-Reference-interne): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:code) &gt;= 1">(FR-Reference-interne): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:code) &lt;= 1">(FR-Reference-interne): element hl7:code appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.4.1')">(FR-Reference-interne): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.4.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.36']
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.36']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="string(@root) = ('1.2.250.1.213.1.1.3.36')">(FR-Reference-interne): The value for root SHALL be '1.2.250.1.213.1.1.3.36'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:id
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:code
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='true']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:code">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="string(@nullFlavor) = ('NA') or not(@nullFlavor)">(FR-Reference-interne): The value for nullFlavor SHALL be 'NA'. Found: "<value-of select="@nullFlavor"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@inversionInd) = ('false') or not(@inversionInd)">(FR-Acte): The value for inversionInd SHALL be 'false'. Found: "<value-of select="@inversionInd"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@typeCode) = ('RSON')">(FR-Acte): The value for typeCode SHALL be 'RSON'. Found: "<value-of select="@typeCode"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']
Item: (FR-Reference-interne)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="@classCode">(FR-Reference-interne): attribute @classCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(FR-Reference-interne): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="@moodCode">(FR-Reference-interne): attribute @moodCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="not(@moodCode) or (string-length(@moodCode) &gt; 0 and not(matches(@moodCode,'\s')))">(FR-Reference-interne): Attribute @moodCode SHALL be of data type 'cs'  - '<value-of select="@moodCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']) &gt;= 1">(FR-Reference-interne): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']) &lt;= 1">(FR-Reference-interne): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.36']) &lt;= 1">(FR-Reference-interne): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.36'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:id) &gt;= 1">(FR-Reference-interne): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:id) &lt;= 1">(FR-Reference-interne): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:code) &gt;= 1">(FR-Reference-interne): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:code) &lt;= 1">(FR-Reference-interne): element hl7:code appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.4.1')">(FR-Reference-interne): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.4.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.36']
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.36']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="string(@root) = ('1.2.250.1.213.1.1.3.36')">(FR-Reference-interne): The value for root SHALL be '1.2.250.1.213.1.1.3.36'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:id
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:code
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='RSON']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:code">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="string(@nullFlavor) = ('NA') or not(@nullFlavor)">(FR-Reference-interne): The value for nullFlavor SHALL be 'NA'. Found: "<value-of select="@nullFlavor"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@inversionInd) = ('false') or not(@inversionInd)">(FR-Acte): The value for inversionInd SHALL be 'false'. Found: "<value-of select="@inversionInd"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@typeCode) = ('REFR')">(FR-Acte): The value for typeCode SHALL be 'REFR'. Found: "<value-of select="@typeCode"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']
Item: (FR-Reference-interne)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="@classCode">(FR-Reference-interne): attribute @classCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(FR-Reference-interne): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="@moodCode">(FR-Reference-interne): attribute @moodCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="not(@moodCode) or (string-length(@moodCode) &gt; 0 and not(matches(@moodCode,'\s')))">(FR-Reference-interne): Attribute @moodCode SHALL be of data type 'cs'  - '<value-of select="@moodCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']) &gt;= 1">(FR-Reference-interne): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']) &lt;= 1">(FR-Reference-interne): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.36']) &lt;= 1">(FR-Reference-interne): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.36'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:id) &gt;= 1">(FR-Reference-interne): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:id) &lt;= 1">(FR-Reference-interne): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:code) &gt;= 1">(FR-Reference-interne): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="count(hl7:code) &lt;= 1">(FR-Reference-interne): element hl7:code appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.4.1')">(FR-Reference-interne): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.4.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.36']
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.36']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="string(@root) = ('1.2.250.1.213.1.1.3.36')">(FR-Reference-interne): The value for root SHALL be '1.2.250.1.213.1.1.3.36'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:id
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:code
Item: (FR-Reference-interne)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='REFR' and @inversionInd='false']/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4.1']]/hl7:code">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Reference-interne): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.36" test="string(@nullFlavor) = ('NA') or not(@nullFlavor)">(FR-Reference-interne): The value for nullFlavor SHALL be 'NA'. Found: "<value-of select="@nullFlavor"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']">
        <extends rule="d977319e0-false-d977322e0"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@typeCode) = ('COMP')">(FR-Acte): The value for typeCode SHALL be 'COMP'. Found: "<value-of select="@typeCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@inversionInd) = ('false') or not(@inversionInd)">(FR-Acte): The value for inversionInd SHALL be 'false'. Found: "<value-of select="@inversionInd"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" id="d977319e0-false-d977322e0" abstract="true">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]) &lt;= 1">(FR-Simple-Observation): element hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@classCode) = ('OBS')">(FR-Simple-Observation): The value for classCode SHALL be 'OBS'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@moodCode) = ('EVN')">(FR-Simple-Observation): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &gt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &gt;= 1">(FR-Simple-Observation): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &lt;= 1">(FR-Simple-Observation): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &gt;= 1">(FR-Simple-Observation): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &lt;= 1">(FR-Simple-Observation): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &gt;= 1">(FR-Simple-Observation): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &lt;= 1">(FR-Simple-Observation): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &gt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &lt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:effectiveTime) &lt;= 1">(FR-Simple-Observation): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:repeatNumber) &lt;= 1">(FR-Simple-Observation): element hl7:repeatNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:interpretationCode) &lt;= 1">(FR-Simple-Observation): element hl7:interpretationCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:methodCode) &lt;= 1">(FR-Simple-Observation): element hl7:methodCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:targetSiteCode) &lt;= 1">(FR-Simple-Observation): element hl7:targetSiteCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:author[hl7:assignedAuthor]) &lt;= 1">(FR-Simple-Observation): element hl7:author[hl7:assignedAuthor] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.13')">(FR-Simple-Observation): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.13'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.2.250.1.213.1.1.3.48')">(FR-Simple-Observation): The value for root SHALL be '1.2.250.1.213.1.1.3.48'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &gt;= 1">(FR-Simple-Observation): element hl7:reference is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &lt;= 1">(FR-Simple-Observation): element hl7:reference appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@code) = ('completed')">(FR-Simple-Observation): The value for code SHALL be 'completed'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber">
        <extends rule="IVL_INT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_INT')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_INT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value">
        <extends rule="ANY"/>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &gt;= 1">(CI-SISAuthor): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &lt;= 1">(CI-SISAuthor): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &gt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 JDV_HL7_ParticipationFunction-CISIS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:originalText) &lt;= 1">(CI-SISAuthor): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(*)">(CI-SISAuthor): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@value">(CI-SISAuthor): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthor): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id) &lt;= 1">(CI-SISAuthor): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:assignedPerson | hl7:assignedAuthoringDevice)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="$elmcount &lt;= 1">(CI-SISAuthor): choice (hl7:assignedPerson  or  hl7:assignedAuthoringDevice) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthor): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthoringDevice) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthoringDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthor): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &gt;= 1">(CI-SISAuthor): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &lt;= 1">(CI-SISAuthor): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:given) &lt;= 1">(CI-SISAuthor): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthor): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthor): element hl7:suffix appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:manufacturerModelName) &lt;= 1">(CI-SISAuthor): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:softwareName) &lt;= 1">(CI-SISAuthor): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthor): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name) &lt;= 1">(CI-SISAuthor): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@extension">(CI-SISAuthor): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthor): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthor): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:name
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[hl7:observation/hl7:code[@code='GEN-023'] and @typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.62
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']
Item: (FR-Acte)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']">
        <extends rule="d978709e0-false-d978712e0"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@inversionInd) = ('false') or not(@inversionInd)">(FR-Acte): The value for inversionInd SHALL be 'false'. Found: "<value-of select="@inversionInd"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.62" test="string(@typeCode) = ('COMP')">(FR-Acte): The value for typeCode SHALL be 'COMP'. Found: "<value-of select="@typeCode"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" id="d978709e0-false-d978712e0" abstract="true">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]) &lt;= 1">(FR-Simple-Observation): element hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@classCode) = ('OBS')">(FR-Simple-Observation): The value for classCode SHALL be 'OBS'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@moodCode) = ('EVN')">(FR-Simple-Observation): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &gt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &gt;= 1">(FR-Simple-Observation): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &lt;= 1">(FR-Simple-Observation): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &gt;= 1">(FR-Simple-Observation): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &lt;= 1">(FR-Simple-Observation): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &gt;= 1">(FR-Simple-Observation): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &lt;= 1">(FR-Simple-Observation): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &gt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &lt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:effectiveTime) &lt;= 1">(FR-Simple-Observation): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:repeatNumber) &lt;= 1">(FR-Simple-Observation): element hl7:repeatNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:interpretationCode) &lt;= 1">(FR-Simple-Observation): element hl7:interpretationCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:methodCode) &lt;= 1">(FR-Simple-Observation): element hl7:methodCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:targetSiteCode) &lt;= 1">(FR-Simple-Observation): element hl7:targetSiteCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:author[hl7:assignedAuthor]) &lt;= 1">(FR-Simple-Observation): element hl7:author[hl7:assignedAuthor] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.13')">(FR-Simple-Observation): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.13'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.2.250.1.213.1.1.3.48')">(FR-Simple-Observation): The value for root SHALL be '1.2.250.1.213.1.1.3.48'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &gt;= 1">(FR-Simple-Observation): element hl7:reference is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &lt;= 1">(FR-Simple-Observation): element hl7:reference appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@code) = ('completed')">(FR-Simple-Observation): The value for code SHALL be 'completed'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber">
        <extends rule="IVL_INT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_INT')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_INT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value">
        <extends rule="ANY"/>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &gt;= 1">(CI-SISAuthor): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &lt;= 1">(CI-SISAuthor): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &gt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 JDV_HL7_ParticipationFunction-CISIS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:originalText) &lt;= 1">(CI-SISAuthor): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(*)">(CI-SISAuthor): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@value">(CI-SISAuthor): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthor): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id) &lt;= 1">(CI-SISAuthor): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:assignedPerson | hl7:assignedAuthoringDevice)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="$elmcount &lt;= 1">(CI-SISAuthor): choice (hl7:assignedPerson  or  hl7:assignedAuthoringDevice) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthor): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthoringDevice) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthoringDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthor): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &gt;= 1">(CI-SISAuthor): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &lt;= 1">(CI-SISAuthor): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:given) &lt;= 1">(CI-SISAuthor): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthor): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthor): element hl7:suffix appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:manufacturerModelName) &lt;= 1">(CI-SISAuthor): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:softwareName) &lt;= 1">(CI-SISAuthor): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthor): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name) &lt;= 1">(CI-SISAuthor): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@extension">(CI-SISAuthor): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthor): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthor): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:name
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]]/hl7:procedure[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.19']]/hl7:entryRelationship[@typeCode='COMP' and @inversionInd='false']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]
Item: (FR-Education-du-patient)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]) &lt;= 1">(FR-Simple-Observation): element hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@classCode) = ('OBS')">(FR-Simple-Observation): The value for classCode SHALL be 'OBS'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@moodCode) = ('EVN')">(FR-Simple-Observation): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &gt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &gt;= 1">(FR-Simple-Observation): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &lt;= 1">(FR-Simple-Observation): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &gt;= 1">(FR-Simple-Observation): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &lt;= 1">(FR-Simple-Observation): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &gt;= 1">(FR-Simple-Observation): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &lt;= 1">(FR-Simple-Observation): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &gt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &lt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:effectiveTime) &lt;= 1">(FR-Simple-Observation): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:repeatNumber) &lt;= 1">(FR-Simple-Observation): element hl7:repeatNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:interpretationCode) &lt;= 1">(FR-Simple-Observation): element hl7:interpretationCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:methodCode) &lt;= 1">(FR-Simple-Observation): element hl7:methodCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:targetSiteCode) &lt;= 1">(FR-Simple-Observation): element hl7:targetSiteCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:author[hl7:assignedAuthor]) &lt;= 1">(FR-Simple-Observation): element hl7:author[hl7:assignedAuthor] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.13')">(FR-Simple-Observation): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.13'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.2.250.1.213.1.1.3.48')">(FR-Simple-Observation): The value for root SHALL be '1.2.250.1.213.1.1.3.48'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &gt;= 1">(FR-Simple-Observation): element hl7:reference is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &lt;= 1">(FR-Simple-Observation): element hl7:reference appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@code) = ('completed')">(FR-Simple-Observation): The value for code SHALL be 'completed'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber">
        <extends rule="IVL_INT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_INT')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_INT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value">
        <extends rule="ANY"/>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &gt;= 1">(CI-SISAuthor): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &lt;= 1">(CI-SISAuthor): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &gt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 JDV_HL7_ParticipationFunction-CISIS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:originalText) &lt;= 1">(CI-SISAuthor): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(*)">(CI-SISAuthor): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@value">(CI-SISAuthor): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthor): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id) &lt;= 1">(CI-SISAuthor): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:assignedPerson | hl7:assignedAuthoringDevice)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="$elmcount &lt;= 1">(CI-SISAuthor): choice (hl7:assignedPerson  or  hl7:assignedAuthoringDevice) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthor): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthoringDevice) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthoringDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthor): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &gt;= 1">(CI-SISAuthor): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &lt;= 1">(CI-SISAuthor): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:given) &lt;= 1">(CI-SISAuthor): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthor): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthor): element hl7:suffix appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:manufacturerModelName) &lt;= 1">(CI-SISAuthor): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:softwareName) &lt;= 1">(CI-SISAuthor): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthor): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name) &lt;= 1">(CI-SISAuthor): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@extension">(CI-SISAuthor): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthor): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthor): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:name
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.107
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]
Item: (FR-Education-du-patient)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]
Item: (FR-References-externes)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="string(@classCode) = ('ACT')">(FR-References-externes): The value for classCode SHALL be 'ACT'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="string(@moodCode) = ('EVN')">(FR-References-externes): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']) &gt;= 1">(FR-References-externes): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']) &lt;= 1">(FR-References-externes): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.35']) &lt;= 1">(FR-References-externes): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.35'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(FR-References-externes): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(FR-References-externes): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:code[@nullFlavor = 'NA']) &gt;= 1">(FR-References-externes): element hl7:code[@nullFlavor = 'NA'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:code[@nullFlavor = 'NA']) &lt;= 1">(FR-References-externes): element hl7:code[@nullFlavor = 'NA'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:text) &gt;= 1">(FR-References-externes): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:text) &lt;= 1">(FR-References-externes): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]) &gt;= 1">(FR-References-externes): element hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']] is required [min 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-References-externes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.4')">(FR-References-externes): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.4'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.35']
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.35']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-References-externes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="string(@root) = ('1.2.250.1.213.1.1.3.35')">(FR-References-externes): The value for root SHALL be '1.2.250.1.213.1.1.3.35'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:id[not(@nullFlavor)]
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:id[not(@nullFlavor)]">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-References-externes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:code[@nullFlavor = 'NA']
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:code[@nullFlavor = 'NA']">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-References-externes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="string(@nullFlavor) = ('NA')">(FR-References-externes): The value for nullFlavor SHALL be 'NA'. Found: "<value-of select="@nullFlavor"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:text
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:text">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-References-externes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="@typeCode">(FR-References-externes): attribute @typeCode SHALL be present.</assert>
        <let name="theAttValue" value="distinct-values(tokenize(normalize-space(@typeCode),'\s'))"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="not(@typeCode) or empty($theAttValue[not(. = (('SPRT','REFR')))])">(FR-References-externes): The value for typeCode SHALL be 'code SPRT or code REFR'. Found: "<value-of select="@typeCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']) &gt;= 1">(FR-References-externes): element hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']) &lt;= 1">(FR-References-externes): element hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN'] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]/hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]/hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="string(@classCode) = ('DOC')">(FR-References-externes): The value for classCode SHALL be 'DOC'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="string(@moodCode) = ('EVN')">(FR-References-externes): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(FR-References-externes): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(FR-References-externes): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:text) &lt;= 1">(FR-References-externes): element hl7:text appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]/hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']/hl7:id[not(@nullFlavor)]
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]/hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']/hl7:id[not(@nullFlavor)]">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-References-externes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]/hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']/hl7:text
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]/hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']/hl7:text">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-References-externes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="count(hl7:reference) &lt;= 1">(FR-References-externes): element hl7:reference appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.35
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]/hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']/hl7:text/hl7:reference
Item: (FR-References-externes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.107']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.39'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.9.38']]/hl7:entry[hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]]/hl7:act[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.4']]/hl7:reference[@typeCode = ('SPRT', 'REFR')][hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']]/hl7:externalDocument[@classCode = 'DOC'][@moodCode = 'EVN']/hl7:text/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.35" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-References-externes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]" id="d958630e2228-false-d981724e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]) &gt;= 1">(DemandeActeImagerie): element hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]) &lt;= 1">(DemandeActeImagerie): element hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.158.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]
Item: (FR-Plan-de-soins-IMG-DA)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]" id="d981727e18-false-d981811e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36']) &gt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36']) &lt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10']) &gt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10']) &lt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3']) &gt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3']) &lt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']) &gt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:templateId[@root = '1.2.250.1.213.1.1.2.158'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']) &lt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:templateId[@root = '1.2.250.1.213.1.1.2.158'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:id) &gt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:id) &lt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:code[(@code = '18776-5' and @codeSystem = '2.16.840.1.113883.6.1')]) &gt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:code[(@code = '18776-5' and @codeSystem = '2.16.840.1.113883.6.1')] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:code[(@code = '18776-5' and @codeSystem = '2.16.840.1.113883.6.1')]) &lt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:code[(@code = '18776-5' and @codeSystem = '2.16.840.1.113883.6.1')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:title) &gt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:title is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:title) &lt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:title appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:text) &gt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:text) &lt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="count(hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]) &gt;= 1">(FR-Plan-de-soins-IMG-DA): element hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]] is required [min 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.158.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36']
Item: (FR-Plan-de-soins-IMG-DA)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36']" id="d981727e22-false-d981925e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Plan-de-soins-IMG-DA): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.3.36')">(FR-Plan-de-soins-IMG-DA): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.3.36'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.158.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10']
Item: (FR-Plan-de-soins-IMG-DA)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10']" id="d981727e24-false-d981939e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Plan-de-soins-IMG-DA): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="string(@root) = ('2.16.840.1.113883.10.20.1.10')">(FR-Plan-de-soins-IMG-DA): The value for root SHALL be '2.16.840.1.113883.10.20.1.10'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.158.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3']
Item: (FR-Plan-de-soins-IMG-DA)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3']" id="d981727e26-false-d981953e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Plan-de-soins-IMG-DA): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="string(@root) = ('1.2.250.1.213.1.1.2.158.3')">(FR-Plan-de-soins-IMG-DA): The value for root SHALL be '1.2.250.1.213.1.1.2.158.3'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.158.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']
Item: (FR-Plan-de-soins-IMG-DA)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']" id="d981727e28-false-d981967e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Plan-de-soins-IMG-DA): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="string(@root) = ('1.2.250.1.213.1.1.2.158')">(FR-Plan-de-soins-IMG-DA): The value for root SHALL be '1.2.250.1.213.1.1.2.158'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.158.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:id
Item: (FR-Plan-de-soins-IMG-DA)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:id" id="d981727e30-false-d981980e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Plan-de-soins-IMG-DA): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.158.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:code[(@code = '18776-5' and @codeSystem = '2.16.840.1.113883.6.1')]
Item: (FR-Plan-de-soins-IMG-DA)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:code[(@code = '18776-5' and @codeSystem = '2.16.840.1.113883.6.1')]" id="d981727e31-false-d981990e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Plan-de-soins-IMG-DA): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="string(@code) = ('18776-5')">(FR-Plan-de-soins-IMG-DA): The value for code SHALL be '18776-5'. Found: "<value-of select="@code"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="string(@displayName) = ('Plan de soins') or not(@displayName)">(FR-Plan-de-soins-IMG-DA): The value for displayName SHALL be 'Plan de soins'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Plan-de-soins-IMG-DA): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="string(@codeSystem) = ('2.16.840.1.113883.6.1')">(FR-Plan-de-soins-IMG-DA): The value for codeSystem SHALL be '2.16.840.1.113883.6.1'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="string(@codeSystemName) = ('LOINC') or not(@codeSystemName)">(FR-Plan-de-soins-IMG-DA): The value for codeSystemName SHALL be 'LOINC'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Plan-de-soins-IMG-DA): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.158.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:title
Item: (FR-Plan-de-soins-IMG-DA)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:title" id="d981727e36-false-d982020e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(FR-Plan-de-soins-IMG-DA): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.158.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:text
Item: (FR-Plan-de-soins-IMG-DA)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:text" id="d981727e40-false-d982029e0">
        <extends rule="SD.TEXT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.158.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SD.TEXT')">(FR-Plan-de-soins-IMG-DA): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SD.TEXT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.158.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]
Item: (FR-Plan-de-soins-IMG-DA)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@classCode) = ('OBS')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for classCode SHALL be 'OBS'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="@moodCode">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): attribute @moodCode SHALL be present.</assert>
        <let name="theAttValue" value="distinct-values(tokenize(normalize-space(@moodCode),'\s'))"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="not(@moodCode) or empty($theAttValue[not(. = (('PRP','INT','GOL')))])">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for moodCode SHALL be 'code PRP or code INT or code GOL'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="@moodCode='INT' or @moodCode='PRP' or @moodCode='GOL'">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): moodCode SHALL be from { INT, PRP, GOL }</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="((//hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.27.3']/hl7:code/@code='PT' or //hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.27.3']/hl7:code/@code='NM') and //hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.27.3']//hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.48' and hl7:code/@code='MED-1133']) or ((//hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.27.3']/hl7:code/@code!='PT' and //hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.27.3']/hl7:code/@code!='NM') and not(//hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.27.3']//hl7:observation[hl7:templateId/@root='1.2.250.1.213.1.1.3.48' and hl7:code/@code='MED-1133']))">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ):  L'entrée "FR-Demande-d-examen-ou-de-suivi" (1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1) doit obligatoirement contenir une entrée FR-Simple-Observation (fonction étudiée : code/@code='MED-1133') si la modalité de l’examen demandée = "TEP" ou "Scintigraphie".</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1']) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1']) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25']) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25']) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.27']) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.27']) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:text[not(@nullFlavor)]) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:text[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:text[not(@nullFlavor)]) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:text[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code]) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code]) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:effectiveTime) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:effectiveTime is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:effectiveTime) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:priorityCode[(@code = 'UR' and @codeSystem = '2.16.840.1.113883.5.7')]) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:priorityCode[(@code = 'UR' and @codeSystem = '2.16.840.1.113883.5.7')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:targetSiteCode[not(@nullFlavor)]) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:targetSiteCode[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:performer) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:performer appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:entryRelationship[hl7:code/@code='GEN-297']) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:entryRelationship[hl7:code/@code='GEN-297'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:entryRelationship[hl7:code/@code='GEN-296']) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:entryRelationship[hl7:code/@code='GEN-296'] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1']
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25']
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@root) = ('2.16.840.1.113883.10.20.1.25')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for root SHALL be '2.16.840.1.113883.10.20.1.25'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.27']
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.27']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@root) = ('1.2.250.1.213.1.1.3.27')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for root SHALL be '1.2.250.1.213.1.1.3.27'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@root) = ('1.2.250.1.213.1.1.3.27.3')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for root SHALL be '1.2.250.1.213.1.1.3.27.3'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:id[not(@nullFlavor)]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:id[not(@nullFlavor)]">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The element value SHALL be one of '1.2.250.1.213.1.1.5.660 JDV_modalite-demandeActeImagerie-CISIS (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:qualifier) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:qualifier appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:originalText) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:qualifier
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:qualifier">
        <extends rule="CR"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CR')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CR". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.670-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.670-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:qualifier/hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.670-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:qualifier/hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.670-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.5.670-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The element value SHALL be one of '1.2.250.1.213.1.1.5.670 JDV_InjectionPDC_TEP-CISIS (DYNAMIC)'.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.660-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:text[not(@nullFlavor)]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:text[not(@nullFlavor)]">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:reference[not(@nullFlavor)]) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:reference[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:reference[not(@nullFlavor)]) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:reference[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:text[not(@nullFlavor)]/hl7:reference[not(@nullFlavor)]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:text[not(@nullFlavor)]/hl7:reference[not(@nullFlavor)]">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:statusCode[@code = doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code]">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="@nullFlavor or exists(doc('include/voc-2.16.840.1.113883.1.11.15933-DYNAMIC.xml')//valueSet[1]/conceptList/concept[@code = $theCode] or completeCodeSystem)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The element value SHALL be one of '2.16.840.1.113883.1.11.15933 JDV_HL7_ActStatus-CISIS (DYNAMIC)'.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:effectiveTime
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:effectiveTime">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:priorityCode[(@code = 'UR' and @codeSystem = '2.16.840.1.113883.5.7')]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:priorityCode[(@code = 'UR' and @codeSystem = '2.16.840.1.113883.5.7')]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@codeSystemName) = ('HL7:ActPriority') or not(@codeSystemName)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for codeSystemName SHALL be 'HL7:ActPriority'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@codeSystem) = ('2.16.840.1.113883.5.7')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for codeSystem SHALL be '2.16.840.1.113883.5.7'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@displayName) = ('Urgent') or not(@displayName)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for displayName SHALL be 'Urgent'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@code) = ('UR')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for code SHALL be 'UR'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:priorityCode[(@code = 'UR' and @codeSystem = '2.16.840.1.113883.5.7')]/hl7:originalText
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:priorityCode[(@code = 'UR' and @codeSystem = '2.16.840.1.113883.5.7')]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:priorityCode[(@code = 'UR' and @codeSystem = '2.16.840.1.113883.5.7')]/hl7:originalText/hl7:reference
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:priorityCode[(@code = 'UR' and @codeSystem = '2.16.840.1.113883.5.7')]/hl7:originalText/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:targetSiteCode[not(@nullFlavor)]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:targetSiteCode[not(@nullFlavor)]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:originalText) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:targetSiteCode[not(@nullFlavor)]/hl7:qualifier[hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')]]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:targetSiteCode[not(@nullFlavor)]/hl7:qualifier[hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')]]">
        <extends rule="CR"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CR')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CR". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')]) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')]) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.688-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &gt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.688-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="count(hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.688-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): element hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.688-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:targetSiteCode[not(@nullFlavor)]/hl7:qualifier[hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')]]/hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:targetSiteCode[not(@nullFlavor)]/hl7:qualifier[hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')]]/hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')]">
        <extends rule="CV"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CV')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CV". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@codeSystemName) = ('SNOMED CT') or not(@codeSystemName)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for codeSystemName SHALL be 'SNOMED CT'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@codeSystem) = ('2.16.840.1.113883.6.96')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for codeSystem SHALL be '2.16.840.1.113883.6.96'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@displayName) = ('modificateur topographique') or not(@displayName)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for displayName SHALL be 'modificateur topographique'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@code) = ('106233006')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for code SHALL be '106233006'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:targetSiteCode[not(@nullFlavor)]/hl7:qualifier[hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')]]/hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.688-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:targetSiteCode[not(@nullFlavor)]/hl7:qualifier[hl7:name[(@code = '106233006' and @codeSystem = '2.16.840.1.113883.6.96')]]/hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.688-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.5.688-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The element value SHALL be one of '1.2.250.1.213.1.1.5.688 JDV_ModificateurTopographique-CISIS (DYNAMIC)'.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:targetSiteCode[not(@nullFlavor)]/hl7:originalText
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:targetSiteCode[not(@nullFlavor)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="not(@typeCode) or (string-length(@typeCode) &gt; 0 and not(matches(@typeCode,'\s')))">(FR-Performer): Attribute @typeCode SHALL be of data type 'cs'  - '<value-of select="@typeCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:templateId) &lt;= 1">(FR-Performer): element hl7:templateId appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:time) &lt;= 1">(FR-Performer): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]) &gt;= 1">(FR-Performer): element hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]) &lt;= 1">(FR-Performer): element hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:templateId
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="string(@root) = ('1.2.250.1.213.1.1.1.99.99.10.85') or not(@root)">(FR-Performer): The value for root SHALL be '1.2.250.1.213.1.1.1.99.99.10.85'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:templateId
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(FR-Performer): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:time
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:time">
        <extends rule="ANY"/>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="string(@classCode) = ('ASSIGNED')">(FR-Performer): The value for classCode SHALL be 'ASSIGNED'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:id) &gt;= 1">(FR-Performer): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(FR-Performer): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:assignedPerson) &lt;= 1">(FR-Performer): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:representedOrganization) &lt;= 1">(FR-Performer): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:templateId
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:id
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.5.461-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(FR-Performer): The element value SHALL be one of '1.2.250.1.213.1.1.5.461 JDV_J01-XdsAuthorSpecialty-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.5.123 JDV_J48-ProfessionNonPS-CISIS (DYNAMIC)'.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:assignedPerson
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:assignedPerson/hl7:templateId
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:assignedPerson/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:assignedPerson/hl7:name
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:standardIndustryClassCode) &lt;= 1">(FR-Performer): element hl7:standardIndustryClassCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="count(hl7:asOrganizationPartOf) &lt;= 1">(FR-Performer): element hl7:asOrganizationPartOf appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:templateId
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:templateId">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:id
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:name
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:telecom
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:standardIndustryClassCode
Item: (FR-Performer)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:standardIndustryClassCode">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.99.99.10.85" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Performer): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.99.99.10.85
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:performer/hl7:assignedEntity[@classCode = 'ASSIGNED'][hl7:id]/hl7:representedOrganization/hl7:asOrganizationPartOf
Item: (FR-Performer)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@inversionInd) = ('true') or not(@inversionInd)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for inversionInd SHALL be 'true'. Found: "<value-of select="@inversionInd"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@typeCode) = ('SUBJ') or not(@typeCode)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for typeCode SHALL be 'SUBJ'. Found: "<value-of select="@typeCode"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.32
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]
Item: (FR-Commentaire-ER)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.32
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]
Item: (FR-Commentaire-ER)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="string(@classCode) = ('ACT')">(FR-Commentaire-ER): The value for classCode SHALL be 'ACT'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="string(@moodCode) = ('EVN')">(FR-Commentaire-ER): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40']) &gt;= 1">(FR-Commentaire-ER): element hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40']) &lt;= 1">(FR-Commentaire-ER): element hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']) &gt;= 1">(FR-Commentaire-ER): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']) &lt;= 1">(FR-Commentaire-ER): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.32']) &lt;= 1">(FR-Commentaire-ER): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.32'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:code[not(@nullFlavor)]) &gt;= 1">(FR-Commentaire-ER): element hl7:code[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:code[not(@nullFlavor)]) &lt;= 1">(FR-Commentaire-ER): element hl7:code[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:text[not(@nullFlavor)]) &gt;= 1">(FR-Commentaire-ER): element hl7:text[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:text[not(@nullFlavor)]) &lt;= 1">(FR-Commentaire-ER): element hl7:text[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:statusCode[@code = 'completed']) &gt;= 1">(FR-Commentaire-ER): element hl7:statusCode[@code = 'completed'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:statusCode[@code = 'completed']) &lt;= 1">(FR-Commentaire-ER): element hl7:statusCode[@code = 'completed'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:author[hl7:assignedAuthor]) &lt;= 1">(FR-Commentaire-ER): element hl7:author[hl7:assignedAuthor] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.32
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40']
Item: (FR-Commentaire-ER)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Commentaire-ER): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="string(@root) = ('2.16.840.1.113883.10.20.1.40')">(FR-Commentaire-ER): The value for root SHALL be '2.16.840.1.113883.10.20.1.40'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.32
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']
Item: (FR-Commentaire-ER)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Commentaire-ER): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.2')">(FR-Commentaire-ER): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.32
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.32']
Item: (FR-Commentaire-ER)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.32']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Commentaire-ER): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="string(@root) = ('1.2.250.1.213.1.1.3.32')">(FR-Commentaire-ER): The value for root SHALL be '1.2.250.1.213.1.1.3.32'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.32
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:code[not(@nullFlavor)]
Item: (FR-Commentaire-ER)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:code[not(@nullFlavor)]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Commentaire-ER): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="string(@codeSystemName) = ('LOINC') or not(@codeSystemName)">(FR-Commentaire-ER): The value for codeSystemName SHALL be 'LOINC'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Commentaire-ER): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="string(@displayName) = ('Commentaire') or not(@displayName)">(FR-Commentaire-ER): The value for displayName SHALL be 'Commentaire'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Commentaire-ER): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="string(@codeSystem) = ('2.16.840.1.113883.6.1') or not(@codeSystem)">(FR-Commentaire-ER): The value for codeSystem SHALL be '2.16.840.1.113883.6.1'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="string(@code) = ('48767-8') or not(@code)">(FR-Commentaire-ER): The value for code SHALL be '48767-8'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.32
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:text[not(@nullFlavor)]
Item: (FR-Commentaire-ER)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:text[not(@nullFlavor)]">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Commentaire-ER): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:reference[not(@nullFlavor)]) &gt;= 1">(FR-Commentaire-ER): element hl7:reference[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="count(hl7:reference[not(@nullFlavor)]) &lt;= 1">(FR-Commentaire-ER): element hl7:reference[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.32
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:text[not(@nullFlavor)]/hl7:reference[not(@nullFlavor)]
Item: (FR-Commentaire-ER)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:text[not(@nullFlavor)]/hl7:reference[not(@nullFlavor)]">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Commentaire-ER): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.32
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:statusCode[@code = 'completed']
Item: (FR-Commentaire-ER)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:statusCode[@code = 'completed']">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Commentaire-ER): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.32" test="string(@code) = ('completed')">(FR-Commentaire-ER): The value for code SHALL be 'completed'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &gt;= 1">(CI-SISAuthor): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &lt;= 1">(CI-SISAuthor): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &gt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 JDV_HL7_ParticipationFunction-CISIS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:originalText) &lt;= 1">(CI-SISAuthor): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:time
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:time">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(*)">(CI-SISAuthor): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@value">(CI-SISAuthor): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthor): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id) &lt;= 1">(CI-SISAuthor): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:assignedPerson | hl7:assignedAuthoringDevice)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="$elmcount &lt;= 1">(CI-SISAuthor): choice (hl7:assignedPerson  or  hl7:assignedAuthoringDevice) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthor): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthoringDevice) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthoringDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthor): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &gt;= 1">(CI-SISAuthor): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &lt;= 1">(CI-SISAuthor): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:given) &lt;= 1">(CI-SISAuthor): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthor): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthor): element hl7:suffix appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:manufacturerModelName) &lt;= 1">(CI-SISAuthor): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:softwareName) &lt;= 1">(CI-SISAuthor): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthor): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name) &lt;= 1">(CI-SISAuthor): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@extension">(CI-SISAuthor): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthor): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthor): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:name
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]]/hl7:act[hl7:templateId[@root = '2.16.840.1.113883.10.20.1.40'] and hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.2']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@inversionInd) = ('false') or not(@inversionInd)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for inversionInd SHALL be 'false'. Found: "<value-of select="@inversionInd"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@typeCode) = ('COMP') or not(@typeCode)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for typeCode SHALL be 'COMP'. Found: "<value-of select="@typeCode"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']
Item: (FR-Fonction-etudiee)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="string(@classCode) = ('OBS')">(FR-Fonction-etudiee): The value for classCode SHALL be 'OBS'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="string(@moodCode) = ('EVN')">(FR-Fonction-etudiee): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &gt;= 1">(FR-Fonction-etudiee): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &lt;= 1">(FR-Fonction-etudiee): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']) &gt;= 1">(FR-Fonction-etudiee): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']) &lt;= 1">(FR-Fonction-etudiee): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']) &gt;= 1">(FR-Fonction-etudiee): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']) &lt;= 1">(FR-Fonction-etudiee): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:id) &gt;= 1">(FR-Fonction-etudiee): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:id) &lt;= 1">(FR-Fonction-etudiee): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:code[(@code = 'MED-1133' and @codeSystem = '1.2.250.1.213.1.1.4.322')]) &gt;= 1">(FR-Fonction-etudiee): element hl7:code[(@code = 'MED-1133' and @codeSystem = '1.2.250.1.213.1.1.4.322')] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:code[(@code = 'MED-1133' and @codeSystem = '1.2.250.1.213.1.1.4.322')]) &lt;= 1">(FR-Fonction-etudiee): element hl7:code[(@code = 'MED-1133' and @codeSystem = '1.2.250.1.213.1.1.4.322')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:text) &gt;= 1">(FR-Fonction-etudiee): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:text) &lt;= 1">(FR-Fonction-etudiee): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:statusCode[@code = 'completed']) &gt;= 1">(FR-Fonction-etudiee): element hl7:statusCode[@code = 'completed'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:statusCode[@code = 'completed']) &lt;= 1">(FR-Fonction-etudiee): element hl7:statusCode[@code = 'completed'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:effectiveTime) &lt;= 1">(FR-Fonction-etudiee): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.669-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.668-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(FR-Fonction-etudiee): element hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.669-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.668-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Fonction-etudiee): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.13')">(FR-Fonction-etudiee): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.13'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Fonction-etudiee): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="string(@root) = ('1.2.250.1.213.1.1.3.48')">(FR-Fonction-etudiee): The value for root SHALL be '1.2.250.1.213.1.1.3.48'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Fonction-etudiee): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="string(@root) = ('1.2.250.1.213.1.1.3.48.36')">(FR-Fonction-etudiee): The value for root SHALL be '1.2.250.1.213.1.1.3.48.36'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:id
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Fonction-etudiee): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:code[(@code = 'MED-1133' and @codeSystem = '1.2.250.1.213.1.1.4.322')]
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:code[(@code = 'MED-1133' and @codeSystem = '1.2.250.1.213.1.1.4.322')]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Fonction-etudiee): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="string(@codeSystem) = ('1.2.250.1.213.1.1.4.322')">(FR-Fonction-etudiee): The value for codeSystem SHALL be '1.2.250.1.213.1.1.4.322'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="string(@codeSystemName) = ('TA_ASIP') or not(@codeSystemName)">(FR-Fonction-etudiee): The value for codeSystemName SHALL be 'TA_ASIP'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Fonction-etudiee): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="string(@displayName) = ('Fonction étudiée') or not(@displayName)">(FR-Fonction-etudiee): The value for displayName SHALL be 'Fonction étudiée'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Fonction-etudiee): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="string(@code) = ('MED-1133')">(FR-Fonction-etudiee): The value for code SHALL be 'MED-1133'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:text
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:text">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Fonction-etudiee): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="count(hl7:reference) &lt;= 1">(FR-Fonction-etudiee): element hl7:reference appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:text/hl7:reference
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:text/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Fonction-etudiee): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:statusCode[@code = 'completed']
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:statusCode[@code = 'completed']">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Fonction-etudiee): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="string(@code) = ('completed')">(FR-Fonction-etudiee): The value for code SHALL be 'completed'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:effectiveTime
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:effectiveTime">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Fonction-etudiee): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.36
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.669-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.668-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]
Item: (FR-Fonction-etudiee)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:templateId/@root='1.2.250.1.213.1.1.3.48.36']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.36']]/hl7:value[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.669-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.5.668-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Fonction-etudiee): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.36" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.5.669-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.5.668-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(FR-Fonction-etudiee): The element value SHALL be one of '1.2.250.1.213.1.1.5.669 JDV_FonctionEtudieeScintigraphie-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.5.668 JDV_FonctionEtudieeTEP-CISIS (DYNAMIC)'.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']">
        <extends rule="d985273e0-false-d985276e0"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@inversionInd) = ('false') or not(@inversionInd)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for inversionInd SHALL be 'false'. Found: "<value-of select="@inversionInd"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@typeCode) = ('COMP') or not(@typeCode)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for typeCode SHALL be 'COMP'. Found: "<value-of select="@typeCode"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" id="d985273e0-false-d985276e0" abstract="true">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]) &lt;= 1">(FR-Simple-Observation): element hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@classCode) = ('OBS')">(FR-Simple-Observation): The value for classCode SHALL be 'OBS'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@moodCode) = ('EVN')">(FR-Simple-Observation): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &gt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &gt;= 1">(FR-Simple-Observation): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &lt;= 1">(FR-Simple-Observation): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &gt;= 1">(FR-Simple-Observation): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &lt;= 1">(FR-Simple-Observation): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &gt;= 1">(FR-Simple-Observation): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &lt;= 1">(FR-Simple-Observation): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &gt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &lt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:effectiveTime) &lt;= 1">(FR-Simple-Observation): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:repeatNumber) &lt;= 1">(FR-Simple-Observation): element hl7:repeatNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:interpretationCode) &lt;= 1">(FR-Simple-Observation): element hl7:interpretationCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:methodCode) &lt;= 1">(FR-Simple-Observation): element hl7:methodCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:targetSiteCode) &lt;= 1">(FR-Simple-Observation): element hl7:targetSiteCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:author[hl7:assignedAuthor]) &lt;= 1">(FR-Simple-Observation): element hl7:author[hl7:assignedAuthor] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.13')">(FR-Simple-Observation): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.13'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.2.250.1.213.1.1.3.48')">(FR-Simple-Observation): The value for root SHALL be '1.2.250.1.213.1.1.3.48'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &gt;= 1">(FR-Simple-Observation): element hl7:reference is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &lt;= 1">(FR-Simple-Observation): element hl7:reference appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@code) = ('completed')">(FR-Simple-Observation): The value for code SHALL be 'completed'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber">
        <extends rule="IVL_INT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_INT')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_INT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value">
        <extends rule="ANY"/>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &gt;= 1">(CI-SISAuthor): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &lt;= 1">(CI-SISAuthor): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &gt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 JDV_HL7_ParticipationFunction-CISIS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:originalText) &lt;= 1">(CI-SISAuthor): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(*)">(CI-SISAuthor): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@value">(CI-SISAuthor): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthor): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id) &lt;= 1">(CI-SISAuthor): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:assignedPerson | hl7:assignedAuthoringDevice)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="$elmcount &lt;= 1">(CI-SISAuthor): choice (hl7:assignedPerson  or  hl7:assignedAuthoringDevice) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthor): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthoringDevice) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthoringDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthor): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &gt;= 1">(CI-SISAuthor): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &lt;= 1">(CI-SISAuthor): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:given) &lt;= 1">(CI-SISAuthor): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthor): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthor): element hl7:suffix appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:manufacturerModelName) &lt;= 1">(CI-SISAuthor): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:softwareName) &lt;= 1">(CI-SISAuthor): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthor): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name) &lt;= 1">(CI-SISAuthor): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@extension">(CI-SISAuthor): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthor): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthor): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:name
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-297']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.27.3
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']
Item: (FR-Demande-d-examen-ou-de-suivi-IMG-DA )
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']">
        <extends rule="d986663e0-false-d986666e0"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@inversionInd) = ('false') or not(@inversionInd)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for inversionInd SHALL be 'false'. Found: "<value-of select="@inversionInd"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.27.3" test="string(@typeCode) = ('COMP') or not(@typeCode)">(FR-Demande-d-examen-ou-de-suivi-IMG-DA ): The value for typeCode SHALL be 'COMP'. Found: "<value-of select="@typeCode"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" id="d986663e0-false-d986666e0" abstract="true">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]) &lt;= 1">(FR-Simple-Observation): element hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@classCode) = ('OBS')">(FR-Simple-Observation): The value for classCode SHALL be 'OBS'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@moodCode) = ('EVN')">(FR-Simple-Observation): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &gt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &gt;= 1">(FR-Simple-Observation): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &lt;= 1">(FR-Simple-Observation): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &gt;= 1">(FR-Simple-Observation): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &lt;= 1">(FR-Simple-Observation): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &gt;= 1">(FR-Simple-Observation): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &lt;= 1">(FR-Simple-Observation): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &gt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &lt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:effectiveTime) &lt;= 1">(FR-Simple-Observation): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:repeatNumber) &lt;= 1">(FR-Simple-Observation): element hl7:repeatNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:interpretationCode) &lt;= 1">(FR-Simple-Observation): element hl7:interpretationCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:methodCode) &lt;= 1">(FR-Simple-Observation): element hl7:methodCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:targetSiteCode) &lt;= 1">(FR-Simple-Observation): element hl7:targetSiteCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:author[hl7:assignedAuthor]) &lt;= 1">(FR-Simple-Observation): element hl7:author[hl7:assignedAuthor] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.13')">(FR-Simple-Observation): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.13'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.2.250.1.213.1.1.3.48')">(FR-Simple-Observation): The value for root SHALL be '1.2.250.1.213.1.1.3.48'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &gt;= 1">(FR-Simple-Observation): element hl7:reference is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &lt;= 1">(FR-Simple-Observation): element hl7:reference appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@code) = ('completed')">(FR-Simple-Observation): The value for code SHALL be 'completed'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber">
        <extends rule="IVL_INT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_INT')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_INT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value">
        <extends rule="ANY"/>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &gt;= 1">(CI-SISAuthor): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &lt;= 1">(CI-SISAuthor): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &gt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 JDV_HL7_ParticipationFunction-CISIS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:originalText) &lt;= 1">(CI-SISAuthor): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(*)">(CI-SISAuthor): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@value">(CI-SISAuthor): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthor): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id) &lt;= 1">(CI-SISAuthor): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:assignedPerson | hl7:assignedAuthoringDevice)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="$elmcount &lt;= 1">(CI-SISAuthor): choice (hl7:assignedPerson  or  hl7:assignedAuthoringDevice) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthor): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthoringDevice) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthoringDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthor): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &gt;= 1">(CI-SISAuthor): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &lt;= 1">(CI-SISAuthor): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:given) &lt;= 1">(CI-SISAuthor): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthor): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthor): element hl7:suffix appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:manufacturerModelName) &lt;= 1">(CI-SISAuthor): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:softwareName) &lt;= 1">(CI-SISAuthor): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthor): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name) &lt;= 1">(CI-SISAuthor): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@extension">(CI-SISAuthor): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthor): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthor): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:name
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.158.3']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.36'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.10'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158.3'] and hl7:templateId[@root = '1.2.250.1.213.1.1.2.158']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.1.20.3.1'] and hl7:templateId[@root = '2.16.840.1.113883.10.20.1.25'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27'] and hl7:templateId[@root = '1.2.250.1.213.1.1.3.27.3']]/hl7:entryRelationship[hl7:code/@code='GEN-296']/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]" id="d958630e2233-false-d988039e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]) &lt;= 1">(DemandeActeImagerie): element hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.150
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]
Item: (FR-Resultats-examens-non-code)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]" id="d988042e17-false-d988061e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']) &gt;= 1">(FR-Resultats-examens-non-code): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']) &lt;= 1">(FR-Resultats-examens-non-code): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.2.150']) &lt;= 1">(FR-Resultats-examens-non-code): element hl7:templateId[@root = '1.2.250.1.213.1.1.2.150'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="count(hl7:id) &lt;= 1">(FR-Resultats-examens-non-code): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="count(hl7:code[(@code = '30954-2' and @codeSystem = '2.16.840.1.113883.6.1')]) &gt;= 1">(FR-Resultats-examens-non-code): element hl7:code[(@code = '30954-2' and @codeSystem = '2.16.840.1.113883.6.1')] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="count(hl7:code[(@code = '30954-2' and @codeSystem = '2.16.840.1.113883.6.1')]) &lt;= 1">(FR-Resultats-examens-non-code): element hl7:code[(@code = '30954-2' and @codeSystem = '2.16.840.1.113883.6.1')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="count(hl7:title) &lt;= 1">(FR-Resultats-examens-non-code): element hl7:title appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="count(hl7:text[not(@nullFlavor)]) &gt;= 1">(FR-Resultats-examens-non-code): element hl7:text[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="count(hl7:text[not(@nullFlavor)]) &lt;= 1">(FR-Resultats-examens-non-code): element hl7:text[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.150
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']
Item: (FR-Resultats-examens-non-code)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']" id="d988042e21-false-d988114e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Resultats-examens-non-code): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.3.27')">(FR-Resultats-examens-non-code): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.3.27'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.150
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.150']
Item: (FR-Resultats-examens-non-code)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.150']" id="d988042e23-false-d988128e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Resultats-examens-non-code): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="string(@root) = ('1.2.250.1.213.1.1.2.150')">(FR-Resultats-examens-non-code): The value for root SHALL be '1.2.250.1.213.1.1.2.150'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.150
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:id
Item: (FR-Resultats-examens-non-code)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.150
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:code[(@code = '30954-2' and @codeSystem = '2.16.840.1.113883.6.1')]
Item: (FR-Resultats-examens-non-code)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:code[(@code = '30954-2' and @codeSystem = '2.16.840.1.113883.6.1')]" id="d988042e26-false-d988149e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Resultats-examens-non-code): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="string(@code) = ('30954-2')">(FR-Resultats-examens-non-code): The value for code SHALL be '30954-2'. Found: "<value-of select="@code"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="string(@displayName) = ('Résultats d''examens') or not(@displayName)">(FR-Resultats-examens-non-code): The value for displayName SHALL be 'Résultats d''examens'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Resultats-examens-non-code): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="string(@codeSystem) = ('2.16.840.1.113883.6.1')">(FR-Resultats-examens-non-code): The value for codeSystem SHALL be '2.16.840.1.113883.6.1'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="string(@codeSystemName) = ('LOINC') or not(@codeSystemName)">(FR-Resultats-examens-non-code): The value for codeSystemName SHALL be 'LOINC'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Resultats-examens-non-code): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.150
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:title
Item: (FR-Resultats-examens-non-code)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:title" id="d988042e31-false-d988179e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(FR-Resultats-examens-non-code): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.150
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:text[not(@nullFlavor)]
Item: (FR-Resultats-examens-non-code)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.150']]]/hl7:section[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.3.27']]/hl7:text[not(@nullFlavor)]" id="d988042e35-false-d988188e0">
        <extends rule="SD.TEXT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.150" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SD.TEXT')">(FR-Resultats-examens-non-code): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SD.TEXT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.47
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]
Item: (DemandeActeImagerie)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]" id="d958630e2238-false-d988195e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.47" test="count(hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]) &lt;= 1">(DemandeActeImagerie): element hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.37
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]
Item: (FR-Documents-ajoutes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]" id="d988198e17-false-d988256e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']) &gt;= 1">(FR-Documents-ajoutes): element hl7:templateId[@root = '1.2.250.1.213.1.1.2.37'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']) &lt;= 1">(FR-Documents-ajoutes): element hl7:templateId[@root = '1.2.250.1.213.1.1.2.37'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="count(hl7:id) &lt;= 1">(FR-Documents-ajoutes): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="count(hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')]) &gt;= 1">(FR-Documents-ajoutes): element hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="count(hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')]) &lt;= 1">(FR-Documents-ajoutes): element hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="count(hl7:title) &lt;= 1">(FR-Documents-ajoutes): element hl7:title appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="count(hl7:text) &gt;= 1">(FR-Documents-ajoutes): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="count(hl7:text) &lt;= 1">(FR-Documents-ajoutes): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="count(hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]) &lt;= 1">(FR-Documents-ajoutes): element hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="count(hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]) &gt;= 1">(FR-Documents-ajoutes): element hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]] is mandatory [min 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.37
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']
Item: (FR-Documents-ajoutes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']" id="d988198e21-false-d988334e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Documents-ajoutes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="string(@root) = ('1.2.250.1.213.1.1.2.37')">(FR-Documents-ajoutes): The value for root SHALL be '1.2.250.1.213.1.1.2.37'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.37
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:id
Item: (FR-Documents-ajoutes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:id" id="d988198e27-false-d988347e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Documents-ajoutes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.37
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')]
Item: (FR-Documents-ajoutes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')]" id="d988198e31-false-d988357e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Documents-ajoutes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="string(@code) = ('55107-7')">(FR-Documents-ajoutes): The value for code SHALL be '55107-7'. Found: "<value-of select="@code"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="string(@displayName) = ('Documents ajoutés') or not(@displayName)">(FR-Documents-ajoutes): The value for displayName SHALL be 'Documents ajoutés'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Documents-ajoutes): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="string(@codeSystem) = ('2.16.840.1.113883.6.1')">(FR-Documents-ajoutes): The value for codeSystem SHALL be '2.16.840.1.113883.6.1'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="string(@codeSystemName) = ('LOINC') or not(@codeSystemName)">(FR-Documents-ajoutes): The value for codeSystemName SHALL be 'LOINC'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Documents-ajoutes): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.37
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:title
Item: (FR-Documents-ajoutes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:title" id="d988198e39-false-d988387e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(FR-Documents-ajoutes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.37
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:text
Item: (FR-Documents-ajoutes)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:text" id="d988198e43-false-d988396e0">
        <extends rule="SD.TEXT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.2.37" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SD.TEXT')">(FR-Documents-ajoutes): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SD.TEXT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.37
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]
Item: (FR-Documents-ajoutes)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]) &lt;= 1">(FR-Simple-Observation): element hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@classCode) = ('OBS')">(FR-Simple-Observation): The value for classCode SHALL be 'OBS'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@moodCode) = ('EVN')">(FR-Simple-Observation): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &gt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']) &lt;= 1">(FR-Simple-Observation): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &gt;= 1">(FR-Simple-Observation): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:id) &lt;= 1">(FR-Simple-Observation): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &gt;= 1">(FR-Simple-Observation): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:code) &lt;= 1">(FR-Simple-Observation): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &gt;= 1">(FR-Simple-Observation): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:text) &lt;= 1">(FR-Simple-Observation): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &gt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:statusCode[@code = 'completed']) &lt;= 1">(FR-Simple-Observation): element hl7:statusCode[@code = 'completed'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:effectiveTime) &lt;= 1">(FR-Simple-Observation): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:repeatNumber) &lt;= 1">(FR-Simple-Observation): element hl7:repeatNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:interpretationCode) &lt;= 1">(FR-Simple-Observation): element hl7:interpretationCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:methodCode) &lt;= 1">(FR-Simple-Observation): element hl7:methodCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:targetSiteCode) &lt;= 1">(FR-Simple-Observation): element hl7:targetSiteCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:author[hl7:assignedAuthor]) &lt;= 1">(FR-Simple-Observation): element hl7:author[hl7:assignedAuthor] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.13')">(FR-Simple-Observation): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.13'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@root) = ('1.2.250.1.213.1.1.3.48')">(FR-Simple-Observation): The value for root SHALL be '1.2.250.1.213.1.1.3.48'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &gt;= 1">(FR-Simple-Observation): element hl7:reference is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="count(hl7:reference) &lt;= 1">(FR-Simple-Observation): element hl7:reference appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="string(@code) = ('completed')">(FR-Simple-Observation): The value for code SHALL be 'completed'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:repeatNumber">
        <extends rule="IVL_INT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_INT')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_INT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value">
        <extends rule="ANY"/>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:interpretationCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:methodCode">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode
Item: (FR-Simple-Observation)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:targetSiteCode">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Simple-Observation): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &gt;= 1">(CI-SISAuthor): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &lt;= 1">(CI-SISAuthor): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &gt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 JDV_HL7_ParticipationFunction-CISIS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:originalText) &lt;= 1">(CI-SISAuthor): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:time">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(*)">(CI-SISAuthor): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@value">(CI-SISAuthor): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthor): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id) &lt;= 1">(CI-SISAuthor): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:assignedPerson | hl7:assignedAuthoringDevice)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="$elmcount &lt;= 1">(CI-SISAuthor): choice (hl7:assignedPerson  or  hl7:assignedAuthoringDevice) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthor): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthoringDevice) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthoringDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthor): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'PN')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &gt;= 1">(CI-SISAuthor): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &lt;= 1">(CI-SISAuthor): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:given) &lt;= 1">(CI-SISAuthor): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthor): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthor): element hl7:suffix appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:family
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:given
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:prefix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/hl7:suffix
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:manufacturerModelName) &lt;= 1">(CI-SISAuthor): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:softwareName) &lt;= 1">(CI-SISAuthor): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'SC')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthor): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name) &lt;= 1">(CI-SISAuthor): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@extension">(CI-SISAuthor): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthor): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthor): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:name
Item: (CI-SISAuthor)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization
Item: (CI-SISAddr)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'AD')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine
Item: (CI-SISAddr)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ST')">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.19
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom
Item: (CI-SISTelecom)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.1.1.10.7
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]
Item: (CI-SISAuthor)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CE')">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.2.37
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]
Item: (FR-Documents-ajoutes)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]) &gt;= 1">(FR-Document-attache): element hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]) &lt;= 1">(FR-Document-attache): element hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="string(@moodCode) = ('EVN') or not(@moodCode)">(FR-Document-attache): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="string(@classCode) = ('CLUSTER') or not(@classCode)">(FR-Document-attache): The value for classCode SHALL be 'CLUSTER'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']) &gt;= 1">(FR-Document-attache): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.18'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']) &lt;= 1">(FR-Document-attache): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.18'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:id) &gt;= 1">(FR-Document-attache): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:id) &lt;= 1">(FR-Document-attache): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')]) &gt;= 1">(FR-Document-attache): element hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')]) &lt;= 1">(FR-Document-attache): element hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:statusCode) &gt;= 1">(FR-Document-attache): element hl7:statusCode is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:statusCode) &lt;= 1">(FR-Document-attache): element hl7:statusCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:effectiveTime) &lt;= 1">(FR-Document-attache): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:component[hl7:observation]) &gt;= 1">(FR-Document-attache): element hl7:component[hl7:observation] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:component[hl7:observation]) &lt;= 1">(FR-Document-attache): element hl7:component[hl7:observation] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:component[hl7:observationMedia]) &gt;= 1">(FR-Document-attache): element hl7:component[hl7:observationMedia] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:component[hl7:observationMedia]) &lt;= 1">(FR-Document-attache): element hl7:component[hl7:observationMedia] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="string(@root) = ('1.2.250.1.213.1.1.3.18')">(FR-Document-attache): The value for root SHALL be '1.2.250.1.213.1.1.3.18'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:id
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')]
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:code[(@code = '55107-7' and @codeSystem = '2.16.840.1.113883.6.1')]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="string(@code) = ('55107-7')">(FR-Document-attache): The value for code SHALL be '55107-7'. Found: "<value-of select="@code"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="string(@displayName) = ('Document attaché') or not(@displayName)">(FR-Document-attache): The value for displayName SHALL be 'Document attaché'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Document-attache): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="string(@codeSystem) = ('2.16.840.1.113883.6.1')">(FR-Document-attache): The value for codeSystem SHALL be '2.16.840.1.113883.6.1'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="string(@codeSystemName) = ('LOINC') or not(@codeSystemName)">(FR-Document-attache): The value for codeSystemName SHALL be 'LOINC'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Document-attache): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:statusCode
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:statusCode">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="string(@code) = ('completed') or not(@code)">(FR-Document-attache): The value for code SHALL be 'completed'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:effectiveTime
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:effectiveTime">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TS')">(FR-Document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="not(*)">(FR-Document-attache): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]
Item: (FR-Document-attache)
-->

<!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]) &lt;= 1">(FR-Type-document-attache): element hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']] appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="string(@classCode) = ('OBS')">(FR-Type-document-attache): The value for classCode SHALL be 'OBS'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="string(@moodCode) = ('EVN')">(FR-Type-document-attache): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &gt;= 1">(FR-Type-document-attache): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']) &lt;= 1">(FR-Type-document-attache): element hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']) &lt;= 1">(FR-Type-document-attache): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.18']) &lt;= 1">(FR-Type-document-attache): element hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.18'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:id) &gt;= 1">(FR-Type-document-attache): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:id) &lt;= 1">(FR-Type-document-attache): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:code[(@code = '69764-9' and @codeSystem = '2.16.840.1.113883.6.1')]) &gt;= 1">(FR-Type-document-attache): element hl7:code[(@code = '69764-9' and @codeSystem = '2.16.840.1.113883.6.1')] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:code[(@code = '69764-9' and @codeSystem = '2.16.840.1.113883.6.1')]) &lt;= 1">(FR-Type-document-attache): element hl7:code[(@code = '69764-9' and @codeSystem = '2.16.840.1.113883.6.1')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:text) &gt;= 1">(FR-Type-document-attache): element hl7:text is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:text) &lt;= 1">(FR-Type-document-attache): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:statusCode[@code = 'completed']) &gt;= 1">(FR-Type-document-attache): element hl7:statusCode[@code = 'completed'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:statusCode[@code = 'completed']) &lt;= 1">(FR-Type-document-attache): element hl7:statusCode[@code = 'completed'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:effectiveTime) &gt;= 1">(FR-Type-document-attache): element hl7:effectiveTime is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:effectiveTime) &lt;= 1">(FR-Type-document-attache): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:value) &gt;= 1">(FR-Type-document-attache): element hl7:value is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:value) &lt;= 1">(FR-Type-document-attache): element hl7:value appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="string(@root) = ('1.3.6.1.4.1.19376.1.5.3.1.4.13')">(FR-Type-document-attache): The value for root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.13'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="string(@root) = ('1.2.250.1.213.1.1.3.48')">(FR-Type-document-attache): The value for root SHALL be '1.2.250.1.213.1.1.3.48'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.18']
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:templateId[@root = '1.2.250.1.213.1.1.3.48.18']">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="string(@root) = ('1.2.250.1.213.1.1.3.48.18')">(FR-Type-document-attache): The value for root SHALL be '1.2.250.1.213.1.1.3.48.18'. Found: "<value-of select="@root"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code[(@code = '69764-9' and @codeSystem = '2.16.840.1.113883.6.1')]
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:code[(@code = '69764-9' and @codeSystem = '2.16.840.1.113883.6.1')]">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="string(@displayName) = ('Type de document') or not(@displayName)">(FR-Type-document-attache): The value for displayName SHALL be 'Type de document'. Found: "<value-of select="@displayName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Type-document-attache): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="string(@codeSystemName) = ('LOINC') or not(@codeSystemName)">(FR-Type-document-attache): The value for codeSystemName SHALL be 'LOINC'. Found: "<value-of select="@codeSystemName"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Type-document-attache): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="string(@codeSystem) = ('2.16.840.1.113883.6.1')">(FR-Type-document-attache): The value for codeSystem SHALL be '2.16.840.1.113883.6.1'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="string(@code) = ('69764-9')">(FR-Type-document-attache): The value for code SHALL be '69764-9'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:reference) &gt;= 1">(FR-Type-document-attache): element hl7:reference is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:reference) &lt;= 1">(FR-Type-document-attache): element hl7:reference appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:text/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:statusCode[@code = 'completed']">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CS')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="string(@code) = ('completed')">(FR-Type-document-attache): The value for code SHALL be 'completed'. Found: "<value-of select="@code"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:effectiveTime">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'IVL_TS')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:originalText) &lt;= 1">(FR-Type-document-attache): element hl7:originalText appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value/hl7:originalText
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value/hl7:originalText">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:reference) &gt;= 1">(FR-Type-document-attache): element hl7:reference is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:reference) &lt;= 1">(FR-Type-document-attache): element hl7:reference appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value/hl7:originalText/hl7:reference
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value/hl7:originalText/hl7:reference">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'TEL')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value/hl7:qualifier
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value/hl7:qualifier">
        <extends rule="CR"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CR')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CR". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:name) &gt;= 1">(FR-Type-document-attache): element hl7:name is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:name) &lt;= 1">(FR-Type-document-attache): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:value) &gt;= 1">(FR-Type-document-attache): element hl7:value is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="count(hl7:value) &lt;= 1">(FR-Type-document-attache): element hl7:value appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value/hl7:qualifier/hl7:name
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value/hl7:qualifier/hl7:name">
        <extends rule="CV"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CV')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CV". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="@code">(FR-Type-document-attache): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(FR-Type-document-attache): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="not(@displayName) or string-length(@displayName)&gt;0">(FR-Type-document-attache): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="@codeSystem">(FR-Type-document-attache): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(FR-Type-document-attache): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(FR-Type-document-attache): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.48.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value/hl7:qualifier/hl7:value
Item: (FR-Type-document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observation]/hl7:observation[hl7:templateId[@root = '1.3.6.1.4.1.19376.1.5.3.1.4.13']]/hl7:value/hl7:qualifier/hl7:value">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.48.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'CD')">(FR-Type-document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observationMedia]
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observationMedia]">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:observationMedia) &gt;= 1">(FR-Document-attache): element hl7:observationMedia is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:observationMedia) &lt;= 1">(FR-Document-attache): element hl7:observationMedia appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observationMedia]/hl7:observationMedia
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observationMedia]/hl7:observationMedia">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="@ID">(FR-Document-attache): attribute @ID SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="not(@ID) or string-length(@ID)&gt;0">(FR-Document-attache): Attribute @ID SHALL be of data type 'st'  - '<value-of select="@ID"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="string(@moodCode) = ('EVN') or not(@moodCode)">(FR-Document-attache): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="string(@classCode) = ('OBS') or not(@classCode)">(FR-Document-attache): The value for classCode SHALL be 'OBS'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:id) &lt;= 1">(FR-Document-attache): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:value) &gt;= 1">(FR-Document-attache): element hl7:value is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="count(hl7:value) &lt;= 1">(FR-Document-attache): element hl7:value appears too often [max 1x].</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observationMedia]/hl7:observationMedia/hl7:id
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observationMedia]/hl7:observationMedia/hl7:id">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'II')">(FR-Document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>

   <!--
Template derived rules for ID: 1.2.250.1.213.1.1.3.18
Context: //hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observationMedia]/hl7:observationMedia/hl7:value
Item: (FR-Document-attache)
-->
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/hl7:structuredBody/hl7:component[hl7:section[hl7:templateId[@root='1.2.250.1.213.1.1.2.37']]]/hl7:section[hl7:templateId[@root = '1.2.250.1.213.1.1.2.37']]/hl7:entry[hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]]/hl7:organizer[hl7:templateId[@root = '1.2.250.1.213.1.1.3.18']]/hl7:component[hl7:observationMedia]/hl7:observationMedia/hl7:value">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="empty(@xsi:type) or resolve-QName(@xsi:type, .) = QName('urn:hl7-org:v3', 'ED')">(FR-Document-attache): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="not(@representation) or (string-length(@representation) &gt; 0 and not(matches(@representation,'\s')))">(FR-Document-attache): Attribute @representation SHALL be of data type 'cs'  - '<value-of select="@representation"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--IMG-DA-IMG_2022-?id=1.2.250.1.213.1.1.3.18" test="not(@mediaType) or (string-length(@mediaType) &gt; 0 and not(matches(@mediaType,'\s')))">(FR-Document-attache): Attribute @mediaType SHALL be of data type 'cs'  - '<value-of select="@mediaType"/>'</assert>
    </rule>
</pattern>