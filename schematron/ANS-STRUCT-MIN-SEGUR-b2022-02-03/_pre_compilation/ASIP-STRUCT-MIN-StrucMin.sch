<?xml version="1.0" encoding="UTF-8"?><schema xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:hl7="urn:hl7-org:v3" xmlns:sch="http://purl.oclc.org/dsdl/schematron" xmlns:local="http://art-decor.org/functions" queryBinding="xslt2">
    <title>Scenario: StrucMin - StrucMinDoc (1.2.250.1.213.1.1.1.1.4.2)</title>
    <ns uri="urn:hl7-org:v3" prefix="hl7"/>
    <ns uri="urn:hl7-org:v3" prefix="cda"/>
    <ns uri="http://www.w3.org/2001/XMLSchema-instance" prefix="xsi"/>
    <ns uri="http://www.w3.org/2001/XMLSchema" prefix="xs"/>
   
    <ns uri="urn:oid:1.3.6.1.4.1.19376.1.3.2" prefix="lab"/>
    <ns uri="http://www.w3.org/XML/1998/namespace" prefix="xml"/>
   
    <pattern>
        <rule abstract="true" id="AD">
    <extends rule="ANY"/>
    
    
    <assert role="error" test="@nullFlavor or (count(*)&gt;0 and not(text()[string-length(normalize-space())&gt;0])) or (count(*)=0 and text()[string-length(normalize-space())&gt;0])">dtr1-1-AD: address shall be null or text only or element only (no mixed content)</assert>
    <assert role="error" test="not(@nullFlavor) or (not(hl7:thumbnail) or hl7:useablePeriod/@nullFlavor)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD">dtr1-2-AD: no useablePeriod if null</assert>
    <assert role="error" test="count(*[self::hl7:useablePeriod][@updateMode])=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD">dtr1-3-AD: updateMode shall not be used on address elements</assert>
    <assert role="error" test="not(hl7:useablePeriod/hl7:low/@value and hl7:useablePeriod/hl7:high/@value) or          string-length(hl7:useablePeriod/hl7:low/@value) = string-length(hl7:useablePeriod/hl7:high/@value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD">dtr1-5-AD: useablePeriod/low/@value must have the same precision as useablePeriod/high/@value</assert>
    <assert role="error" test="not(hl7:useablePeriod/hl7:low/@value and hl7:useablePeriod/hl7:high/@value) or         number(substring(concat(hl7:useablePeriod/hl7:low/@value,'00000000000000'),1,14)) &lt; number(substring(concat(hl7:useablePeriod/hl7:high/@value,'00000000000000'),1,14))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD">dtr1-6-AD: useablePeriod/low/@value must be before useablePeriod/high/@value</assert>

    
    <let name="tum" value="'^(us|ms|s|min|h|d|wk|mo|a|)$'"/>
    <assert role="error" test="matches(hl7:useablePeriod/hl7:width/@unit, $tum)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD">dtr1-7-AD: for useablePeriod/width only us (microseconds), ms (milliseconds), s (seconds), min (minute), h (hours), d (day), wk (week), mo (month) or a (year) are allowed</assert>
    <report role="warning" test="*[not(@nullFlavor or self::hl7:useablePeriod)][normalize-space(.)='']" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD">dtr1-8-AD: empty address particles should not be present.</report>
    
    
    <let name="name" value="local-name()"/>
    <let name="value" value="string-join((.//@use|.//text()),'')"/>
    <let name="set_other" value="preceding-sibling::*[local-name()=$name] | following-sibling::*[local-name()=$name]"/>
    <assert role="error" test="not(@nullFlavor and $set_other[not(@nullFlavor)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD">dtr1-9-AD: [RIM-001] <value-of select="$name"/> SHALL NOT have nullFlavor, if there are other <value-of select="$name"/> elements which are not null</assert>
    <assert role="error" test="not($set_other[string-join((.//@use|.//text()),'')=$value])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD">dtr1-10-AD: [RIM-002] <value-of select="$name"/> (<value-of select="$value"/>) SHALL be distinct</assert>
</rule>
        <rule abstract="true" id="AD.CA">
    <extends rule="AD.CA.BASIC"/>
    <assert role="error" test="@nullFlavor or (translate(concat(' ', @use, ' '), '(H|PST|TMP|WP) ', '') = '' and (count(tokenize (@use, ' '))&lt;=3))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.CA">dtr1-1-AD.CA: @use may have up to three codes and must be drawn from 'H', 'PST', 'TMP', 'WP'</assert>
    <assert role="error" test="@nullFlavor or count(* except (hl7:country | hl7:city | hl7:state | hl7:postalCode | hl7:streetAddressLine))=0 or count(hl7:delimiter)&lt;=4" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.CA">dtr1-2-AD.CA: supported address parts (part types) are country, city, state, postalCode, streetAddressLine and up to four delimiter</assert>
    <assert role="error" test="@nullFlavor or count(*[@code])=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.CA">dtr1-3-AD.CA: address parts SHALL NOT contain @code</assert>
</rule>
        <rule abstract="true" id="AD.CA.BASIC">
    <extends rule="AD"/>
    <assert role="error" test="@nullFlavor or not(hl7:useablePeriod)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.CA.BASIC">dtr1-1-AD.CA.BASIC: useablePeriod property is not permitted</assert>
    <assert role="error" test="@nullFlavor or not(hl7:isNotOrdered)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.CA.BASIC">dtr1-2-AD.CA.BASIC: isNotOrdered property is not permitted</assert>
    <assert role="error" test="@nullFlavor or @use" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.CA.BASIC">dtr1-3-AD.CA.BASIC: @use is required</assert>
    <assert role="error" test="@nullFlavor or (translate(concat(' ', @use, ' '), '(H|PHYS|PST|TMP|WP|CONF|DIR) ', '') = '' and (count(tokenize (@use, ' '))&lt;=3))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.CA.BASIC">dtr1-4-AD.CA.BASIC: @use may have up to three codes and must be drawn from 'H', 'PHYS', 'PST', 'TMP', 'WP', 'CONF', 'DIR'</assert>
    <assert role="error" test="@nullFlavor or count(* except (hl7:country | hl7:city | hl7:state | hl7:postalCode | hl7:addressLine))=0 or count(hl7:delimiter)&lt;=4" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.CA.BASIC">dtr1-5-AD.CA.BASIC: supported address parts (part types) are country, city, state, postalCode, addressLine and up to four delimiter</assert>
    <assert role="error" test="not(*[string-length()&gt;80])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.CA.BASIC">dtr1-6-AD.CA.BASIC: address parts and delimiter-separated text has each a maximum length of 80 characters</assert>
</rule>
        <rule abstract="true" id="AD.DE">
    <extends rule="AD"/>

    
    <let name="postalCodeText" value="hl7:postalCode/text()"/>
    <let name="countryCode" value="hl7:country/@code"/>
    <let name="countryCodeSystem" value="hl7:country/@codeSystem"/>
    <let name="countryText" value="upper-case(normalize-space(hl7:country))"/>
    <assert role="error" test="@nullFlavor or matches($postalCodeText,'^[0-9]{5}$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.DE">dtr1-1-AD.DE: Deutsche Postleitzahlen in den Textknoten müssen im Format '99999' sein</assert>
    <let name="illegalAddressPart" value="*[local-name(.)!='delimiter' and local-name(.)!='buildingNumberSuffix' and         local-name(.)!='country' and local-name(.)!='county' and         local-name(.)!='city' and local-name(.)!='postalCode' and         local-name(.)!='houseNumber' and local-name(.)!='streetName' and         local-name(.)!='additionalLocator' and         local-name(.)!='useablePeriod'][1]/name()"/>
    <assert role="error" test="count(*)=0 or string-length($illegalAddressPart)=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.DE">dtr1-2-AD.DE: In Deutschland sind bei Adressen zugelassen: delimiter, country, county, city, postalCode, houseNumber, buildingNumberSuffix, streetName, additionalLocator und useablePeriod. Gefunden '<value-of select="$illegalAddressPart"/>'.</assert>
    <assert role="error" test="count(*)=0 or count(*[not(self::hl7:postalCode) and not(self::hl7:country) and not(self::hl7:county) and @code])=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.DE">dtr1-3-AD.DE: Nur postalCode, country und county können codiert werden. Gefunden '<value-of select="*[not(self::hl7:postalCode) and not(self::hl7:country) and not(self::hl7:county) and @code][1]/name()"/>'</assert>
</rule>
        <rule abstract="true" id="AD.EPSOS">
    <extends rule="AD"/>
    <assert role="error" test="@nullFlavor or hl7:*" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.EPSOS">dtr1-1-AD.EPSOS: if addr is not null at least one sub element has to be provided</assert>
</rule>
        <rule abstract="true" id="AD.IPS">
    <extends rule="AD"/>
    <assert role="error" test="@nullFlavor or hl7:*" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.IPS">dtr1-1-AD.IPS: if addr is not null at least one sub element has to be provided</assert>
</rule>
        <rule abstract="true" id="AD.NL">
    <extends rule="AD"/>

    
    <let name="postalCodeText" value="hl7:postalCode/text()"/>
    <let name="countryCode" value="hl7:country/@code"/>
    <let name="countryCodeSystem" value="hl7:country/@codeSystem"/>
    <let name="countryText" value="upper-case(normalize-space(hl7:country))"/>
    <let name="isDutchAddress" value="(not(hl7:country) or         ($countryCode='NL' and $countryCodeSystem=('2.16.1','1.3.6.1.4.1.1466.115.121.1.11','1.0.3166.1.2.2')) or         ($countryCode='NLD' and $countryCodeSystem='2.16.2') or         ($countryCode='528' and $countryCodeSystem='2.16.3') or         $countryText='NL' or         $countryText='NLD' or         $countryText='NEDERLAND'         )"/>
    <assert role="error" test="if (@codeSystem='2.16.840.1.113883.2.4.4.15') then (matches(@code,'^[0-9]{4}[A-Z]{2}$')) else ( true() )" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.NL">dtr1-1-AD.NL: postcodes onder codeSystem '2.16.840.1.113883.2.4.4.15' moeten voldoen aan '9999AA'</assert>
    <assert role="error" test="if (hl7:postalCode/text() and $isDutchAddress)             then ( matches($postalCodeText,'^[0-9]{4} [A-Z]{2}$'))            else ( true() )" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.NL">dtr1-2-AD.NL: Nederlandse postcodes in de text-nodes moeten voldoen aan '9999 AA'</assert>
    <let name="illegalAddressPart" value="*[not(self::hl7:delimiter|self::hl7:country|self::hl7:county|self::hl7:city|self::hl7:postalCode|self::hl7:houseNumber|self::hl7:buildingNumberSuffix|self::hl7:streetName|self::hl7:additionalLocator|self::hl7:unitID|self::hl7:useablePeriod)]/name()"/>
    <assert role="error" test="not($isDutchAddress) or empty($illegalAddressPart)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.NL">dtr1-3-AD.NL: binnen Nederland mogen alleen delimiter, country, county, city, postalCode, houseNumber, buildingNumberSuffix, streetName, additionalLocator, unitID en useablePeriod worden gebruikt. Gevonden '<value-of select="$illegalAddressPart"/>'.</assert>
    <let name="illegalCodedAddressPart" value="*[not(self::hl7:postalCode|self::hl7:country|self::hl7:county)][@code]/name()"/>
    <assert role="error" test="not($isDutchAddress) or empty($illegalCodedAddressPart)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_AD.NL">dtr1-4-AD.NL: alleen postalCode, country en county kunnen gecodeerd worden. Gevonden '<value-of select="$illegalCodedAddressPart"/>'</assert>
</rule>
        <rule abstract="true" id="ADXP">
    <extends rule="ST"/>
    
    
    <let name="name" value="local-name()"/>
    <let name="value" value="."/>
    <let name="set_other" value="preceding-sibling::*[local-name()=$name] | following-sibling::*[local-name()=$name]"/>
    <assert role="error" test="not($set_other[.=$value])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ADXP">dtr1-1-ADXP: [RIM-002] <name/> (<value-of select="$value"/>) SHALL be distinct</assert>
</rule>
        <rule abstract="true" id="ANY">
    
    <assert role="error" test="every $elm in descendant-or-self::* satisfies $elm[             not(@nullFlavor) or             (@nullFlavor                        and not(@* except (@xsi:type|@xsi:nil|@classCode|@typeCode|@determinerCode|@moodCode|@nullFlavor|@partType|@codeSystem[. =  '2.16.840.1.113883.5.139']|@codeSystemName[. = 'TimingEvent']|@integrityCheckAlgorithm[. = 'SHA-1']|@inverted[. = 'false']|@mediaType[. = 'text/plain']|@operator[. = 'I']|@representation[. = 'TXT']|@inclusive[. = 'true']|@unit[. = '1']) | * | text()[string-length(normalize-space()) gt 0])) or             (@nullFlavor = ('OTH', 'NA', 'UNC') and not(@* except (@xsi:type|@xsi:nil|@*:valueSet|@*:valueSetVersion|@codeSystem|@codeSystemName|@codeSystemVersion|@extension|@nullFlavor|@partType|@integrityCheckAlgorithm[. = 'SHA-1']|@mediaType[. = 'text/plain']|@operator[. = 'I']|@representation[. = 'TXT']|@inclusive[. = 'true']|@unit[. = '1'])) and (@extension | @codeSystem | *[local-name()='originalText'] | *[local-name()='translation']))         ]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ANY">dtr1-1-ANY: if there is a nullFlavor, there shall be no text or other attribute or element, unless it's nullFlavor='OTH' or 'NA' 
        (@codeSystem, &lt;originalText&gt; or &lt;translation&gt; may have a value), or nullFlavor 'UNC' (@extension or &lt;originalText&gt; may have a value). Found: &lt;<value-of select="name()"/>
        <value-of select="for $att in (@* except @nullFlavor) return concat(' ', name($att), '=&#34;', $att, '&#34;')"/>&gt;<value-of select="for $elm in * return concat('&lt;', name($elm), '... /&gt;')"/>&lt;/<value-of select="name()"/>&gt;</assert>
</rule>
        <rule abstract="true" id="BIN">
    <extends rule="ANY"/>
    <assert role="error" test="@nullFlavor | * | text()[string-length(normalize-space()) gt 0]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_BIN">dtr1-1-BIN: there must be a nullFlavor, or content must be non-empty</assert>
</rule>
        <rule abstract="true" id="BL" see="https://art-decor.org/mediawiki/index.php?title=DTr1_BL">
    <extends rule="ANY"/>
    
</rule>
        <rule abstract="true" id="BN" see="https://art-decor.org/mediawiki/index.php?title=DTr1_BN">
    <extends rule="ANY"/>
    <assert test="not(@nullFlavor)">dtr1-1-BN: cannot have null</assert>
</rule>
        <rule abstract="true" id="BXIT_IVL_PQ" see="https://art-decor.org/mediawiki/index.php?title=DTr1_BXIT_IVL_PQ">
    <extends rule="IVL_PQ"/>
</rule>
        <rule xmlns:xs="http://www.w3.org/2001/XMLSchema" abstract="true" id="CD">
    <extends rule="ANY"/>
    
    <assert role="error" test="@nullFlavor or @code or (hl7:originalText and not(hl7:originalText/@nullFlavor))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-1-CD: null or code and/or originalText</assert>
    
    <assert role="error" test="@codeSystem or not(@code)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-2-CD: code requires codeSystem</assert>
    <assert role="error" test="@codeSystem or not(@codeSystemName)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-3-CD: codeSystemName only if codeSystem</assert>
    <assert role="error" test="@codeSystem or not(@codeSystemVersion)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-4-CD: codeSystemVersion only if codeSystem</assert>
    <assert role="error" test="@code or not(@displayName)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-5-CD: displayName only if code</assert>
    <assert role="error" test="not(@nullFlavor and @code)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-6-CD: co-occurence violation. Cannot have code and null</assert>
    <assert role="error" test="not(@nullFlavor and @displayName)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-7-CD: co-occurence violation. Cannot have displayName and null</assert>
    
    
    
    
    <assert role="error" test="not(.//hl7:translation/@nullFlavor)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-10-CD: no null on translations (Exceptional values (NULL-values) can not be elements of a set.)</assert>
    <assert role="error" test="not(.//hl7:translation[@codeSystem][not(@code)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-11-CD: translation code requires codeSystem</assert>
    <assert role="error" test="not(.//hl7:translation[@codeSystemName][not(@codeSystem)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-12-CD: translation codeSystemName only if codeSystem</assert>
    <assert role="error" test="not(.//hl7:translation[@codeSystemVersion][not(@codeSystem)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-13-CD: translation codeSystemVersion only if codeSystem</assert>
    <assert role="error" test="not(.//hl7:translation[@displayName][not(@code)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-14-CD: translation displayName only if code</assert>
    <report role="warning" test="matches(@displayName,'[\r\n\t]')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-15-CD: it looks like there are formatting instructions in attribute @displayName. Please note that this may lead to interoperability problems.</report>
    
    
    
    
    
    <let name="name" value="local-name()"/>
    <let name="set_other" value="preceding-sibling::*[local-name()=$name] | following-sibling::*[local-name()=$name]"/>
    
    <let name="code" value="@code"/>
    <let name="codeSystem" value="@codeSystem"/>
    <assert role="error" test="not($set_other[@code=$code][@codeSystem=$codeSystem])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-18-CD: [RIM-002] <value-of select="$name"/> (@code=<value-of select="$code"/> @codeSystem=<value-of select="$codeSystem"/>) SHALL be distinct</assert>
    <let name="translations" value=".//hl7:translation/concat(@code,@codeSystem)"/>
    <assert test="count($translations)=count(distinct-values($translations))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-19-CD: [RIM-002] translations SHALL be distinct</assert>
    
    
    
    <let name="RFC3066" value="'^[a-z]{2,3}(-[a-z]{2})?|[ix](-[a-z\d]{2,8})+$'"/>
    <let name="RFC3066restricted" value="'^[a-z]{2,3}(-[a-z]{2})?$'"/>
    <assert role="error" test="not(.//hl7:originalText[@language and not(matches(@language,$RFC3066,'i'))])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD">dtr1-20-CD: originalText/@language SHALL conform to RFC 3066. This usually has format sss?-CC with sss? for language code (ISO-639-1 / ISO-639-2) and optional CC for country code (conform ISO-3166 alpha-2)</assert>
</rule>
        <rule abstract="true" id="CD.EPSOS">
    <extends rule="CD"/>
    <assert role="error" test="descendant-or-self::*[not(@code) or @displayName]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD.EPSOS">dtr1-1-CD.EPSOS: attribute @displayName is required on all codes and translations thereof</assert>
</rule>
        <rule abstract="true" id="CD.IPS">
    <extends rule="CD"/>
    <assert role="error" test="descendant-or-self::*[not(@code) or @displayName]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD.IPS">dtr1-1-CD.IPS: attribute @displayName is required on all codes and translations thereof</assert>
</rule>
        <rule abstract="true" id="CD.SDTC">
    <extends rule="CD"/>
    <assert role="error" test="descendant-or-self::*[not(@code) or @displayName]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD.SDTC">dtr1-1-CD.SDTC: attribute @displayName is required on all codes and translations thereof</assert>
</rule>
        <rule abstract="true" id="CE">
    <extends rule="CD"/>
    <assert role="error" test="not(hl7:qualifier)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CE">dtr1-1-CE: cannot have qualifier</assert>
</rule>
        <rule abstract="true" id="CE.EPSOS">
    <extends rule="CD.EPSOS"/>
    <assert role="error" test="not(hl7:qualifier)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CE.EPSOS">dtr1-1-CE.EPSOS: cannot have qualifier</assert>
</rule>
        <rule abstract="true" id="CE.IPS">
    <extends rule="CD.IPS"/>
    <assert role="error" test="not(hl7:qualifier)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CD.IPS">dtr1-1-CE.IPS: cannot have qualifier</assert>
</rule>
        <rule abstract="true" id="CO">
    <extends rule="CV"/>
    <assert role="error" test="not(hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CO">dtr1-1-CO: cannot have translation</assert>
</rule>
        <rule abstract="true" id="CO.EPSOS" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CO.EPSOS">
    <extends rule="CO"/>
</rule>
        <rule abstract="true" id="CR">
    <extends rule="ANY"/>
    <assert test="(@nullFlavor or *) and not(@nullFlavor and *)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CR">dtr1-1-CR: null or value</assert>
    
    
    
</rule>
        <rule abstract="true" id="CS">
    <extends rule="ANY"/>
    <assert role="error" test="(@nullFlavor and not(@code or @typeCode)) or (not(@nullFlavor) and (@code or @typeCode))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CS">dtr1-1-CS: @code/@typeCode and @nullFlavor are mutually exclusive</assert>

    
    <assert role="error" test="not(@codeSystem) or @codeSystem = '2.16.840.1.113883.5.139'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CS">dtr1-2-CS: cannot have codeSystem</assert>
    
    <assert role="error" test="not(@codeSystemName) or @codeSystemName = 'TimingEvent'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CS">dtr1-3-CS: cannot have codeSystemName</assert>
    <assert role="error" test="not(@codeSystemVersion)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CS">dtr1-4-CS: cannot have codeSystemVersion</assert>
    <assert role="error" test="not(@displayName)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CS">dtr1-5-CS: cannot have displayName</assert>
    <assert role="error" test="not(hl7:originalText)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CS">dtr1-6-CS: cannot have originalText</assert>
    <assert role="error" test="not(hl7:qualifier)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CS">dtr1-7-CS: cannot have qualifier</assert>
    <assert role="error" test="not(hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CS">dtr1-8-CS: cannot have translation</assert>
</rule>
        <rule xmlns:xs="http://www.w3.org/2001/XMLSchema" abstract="true" id="CS.LANG">
    <extends rule="CS"/>

    
    
    
    
    <let name="RFC3066" value="'^[a-z]{2,3}(-[a-z]{2})?|[ix](-[a-z\d]{2,8})+$'"/>
    <let name="RFC3066restricted" value="'^[a-z]{2,3}(-[a-z]{2})?$'"/>
    <assert role="error" test="not(@code) or matches(@code,$RFC3066,'i')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CS.LANG">dtr1-2-CS.LANG: @code SHALL conform to RFC 3066. This usually has format sss?-CC with sss? for language code (ISO-639-1 / ISO-639-2) and optional CC for country code (conform ISO-3166 alpha-2)</assert>
</rule>
        <rule abstract="true" id="CV" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CV">
    <extends rule="CE"/>
</rule>
        <rule abstract="true" id="CV.EPSOS" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CV.EPSOS">
    <extends rule="CE.EPSOS"/>
</rule>
        <rule abstract="true" id="CV.IPS" see="https://art-decor.org/mediawiki/index.php?title=DTr1_CV.IPS">
    <extends rule="CE.IPS"/>
</rule>
        <rule xmlns:xs="http://www.w3.org/2001/XMLSchema" abstract="true" id="ED">
    <extends rule="BIN"/>
    <assert role="error" test="not(@integrityCheck) or @integrityCheckAlgorithm" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-2-ED: integrityCheckAlgorithm required if integrityCheck</assert>
    <assert role="error" test="not(hl7:thumbnail) or hl7:thumbnail[not(@nullFlavor and hl7:reference)]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-3-ED: thumbnails not null and reference</assert>
    <assert role="error" test="not(hl7:thumbnail) or hl7:thumbnail[not(hl7:thumbnail)]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-4-ED: thumbnails do not have thumbnails</assert>
    <assert role="error" test="(@compression and (hl7:reference/@value or (@representation='B64' and text()))) or not(@compression)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-5-ED: compression only on binary</assert>
    <assert role="error" test="not(@value) or (@value and (not(@mediaType) or @mediaType='text/plain'))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-6-ED: value implies mediaType is text/plain</assert>
    <assert role="error" test="count(*[self::hl7:reference or self::hl7:thumbnail][@validTimeLow or @validTimeHigh or @updateMode])=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-7-ED: no history or updateMode</assert>
    <assert role="error" test="not(@value or xml) or not(@charset)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-8-ED: no charset for value or xml</assert>
    <assert role="error" test="not(hl7:translation) or hl7:thumbnail[not(hl7:translation)]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-9-ED: no nested translations</assert>
    <assert role="error" test="not(@nullFlavor and @mediaType) or @mediaType = 'text/plain'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-10-ED: no mediaType if null</assert>
    <assert role="error" test="not(@nullFlavor and @charset)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-11-ED: no charset if null</assert>
    <assert role="error" test="not(@nullFlavor and @language)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-12-ED: no language if null</assert>
    <assert role="error" test="not(@nullFlavor and @compression)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-13-ED: no compression if null</assert>
    <assert role="error" test="not(@nullFlavor and @integrityCheck)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-14-ED: no integrityCheck if null</assert>
    <assert role="error" test="not(@nullFlavor and @integrityCheckAlgorithm) or @integrityCheckAlgorithm = 'SHA-1'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-15-ED: no integrityCheckAlgorithm if null</assert>
    <assert role="error" test="not(@nullFlavor) or (not(hl7:thumbnail) or hl7:thumbnail/@nullFlavor)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-16-ED: no thumbnail if null</assert>
    <assert role="error" test="not(@nullFlavor and hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-17-ED: no translation if null</assert>
    
    
    
    <let name="RFC3066" value="'^[a-z]{2,3}(-[a-z]{2})?|[ix](-[a-z\d]{2,8})+$'"/>
    <let name="RFC3066restricted" value="'^[a-z]{2,3}(-[a-z]{2})?$'"/>
    <assert role="error" test="not(@language) or matches(@language,$RFC3066,'i')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ED">dtr1-18-ED: @language SHALL conform to RFC 3066. This usually has format sss?-CC with sss? for language code (ISO-639-1 / ISO-639-2) and optional CC for country code (conform ISO-3166 alpha-2)</assert>
</rule>
        <rule abstract="true" id="EIVL.event" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL.event">
    <extends rule="CE"/>
</rule>
        <rule abstract="true" id="EIVL_TS">
    <extends rule="SXCM_TS"/>
    <assert role="error" test="@nullFlavor or (hl7:event)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-1-EIVL_TS: required attributes</assert>
    <assert role="error" test="count(*[self::hl7:offset][@updateMode])=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-2-EIVL_TS: no updateMode on EIVL attributes</assert>
    <assert role="error" test="not(hl7:event) or not(hl7:event[@nullFlavor][@code]) or hl7:event[@nullFlavor or @code]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-3-EIVL_TS: null violation</assert>
    
    <assert role="error" test="not(hl7:event/@codeSystem) or hl7:event/@codeSystem = '2.16.840.1.113883.5.139'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-4-EIVL_TS: cannot have codeSystem</assert>
    
    <assert role="error" test="not(hl7:event/@codeSystemName) or hl7:event/@codeSystemName = 'TimingEvent'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-5-EIVL_TS: cannot have codeSystemName</assert>
    <assert role="error" test="not(hl7:event/@codeSystemVersion)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-6-EIVL_TS: cannot have codeSystemVersion</assert>
    <assert role="error" test="not(hl7:event/@displayName)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-7-EIVL_TS: cannot have displayName</assert>
    <assert role="error" test="not(hl7:event/hl7:originalText)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-8-EIVL_TS: cannot have originalText</assert>
    <assert role="error" test="not(hl7:event/hl7:qualifier)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-9-EIVL_TS: cannot have qualifier</assert>
    <assert role="error" test="not(hl7:event/hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-10-EIVL_TS: cannot have translation</assert>
    <assert role="error" test="(not(hl7:offset)) or (hl7:offset/@nullFlavor and not(hl7:offset/@value|hl7:offset/@unit|hl7:offset/*)) or (not(hl7:offset/@nullFlavor) and (hl7:offset/@value|hl7:offset/@unit|hl7:offset/*))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-11-EIVL_TS: offset null violation. Cannot have @nullFlavor and @value or child elements, or the other way around</assert>
    <assert role="error" test="not(hl7:offset/*[@nullFlavor and (@value|@unit)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-12-EIVL_TS: offset null violation. Cannot have @nullFlavor and @value on any child elements</assert>
    <assert role="error" test="(not(hl7:offset)) or hl7:offset/@nullFlavor or         (not(hl7:offset/@nullFlavor) and hl7:offset/@value and not(hl7:offset/*)) or         (not(hl7:offset/@nullFlavor) and not(hl7:offset/@value) and (hl7:offset/hl7:low|hl7:offset/hl7:center|hl7:offset/hl7:high|hl7:offset/hl7:width)) or         (not(hl7:offset/@nullFlavor) and not(hl7:offset/@value) and (hl7:offset/hl7:*[not(@nullFlavor)])) or         (not(hl7:offset/@nullFlavor) and not(hl7:offset/@value) and hl7:center and not(hl7:low|hl7:high|hl7:width)) or         (not(hl7:offset/@nullFlavor) and not(hl7:offset/@value) and not(hl7:offset/hl7:center) and hl7:offset/hl7:width and not(hl7:offset/hl7:low and hl7:offset/hl7:high))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-13-EIVL_TS: offset co-occurence violation. Cannot have @value and other child elements, or missing @value and child elements with data, or center element with other elements, or width element with both low and high elements</assert>
    <assert role="error" test="count(hl7:offset/*[@updateMode])=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-14-EIVL_TS: no updateMode on IVL attributes</assert>
    <assert role="error" test="not(hl7:offset/hl7:low/@value and hl7:offset/hl7:high/@value) or string-length(hl7:offset/hl7:low/@value) = string-length(hl7:offset/hl7:high/@value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-15-EIVL_TS: value in offset/low/@value shall have same precision as offset/high/@value</assert>

    
    
    <assert role="error" test="not(hl7:offset[@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')]/hl7:width) or         hl7:offset[@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')]/hl7:width[not(@unit)] or         hl7:offset[@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')]/hl7:width[@value and @unit]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-16-EIVL_TS: width element: no unit without value</assert>
    <assert role="error" test="not(hl7:offset/hl7:width/hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EIVL_TS">dtr1-17-EIVL_TS: width element: no translation</assert>
</rule>
        <rule abstract="true" id="EN">
    <extends rule="ANY"/>

    
    <assert role="error" test="not(@nullFlavor and (* or string-length(normalize-space(string-join(text(),'')))&gt;0))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EN">dtr1-1.1-EN: entity name shall not be null and have elements or text</assert>
    <assert role="error" test="not(* and string-length(normalize-space(string-join(text(),'')))&gt;0)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EN">dtr1-1.2-EN: entity name shall not have both elements and text (no mixed content)</assert>
    <assert role="error" test="@nullFlavor or * or string-length(normalize-space(string-join(text(),'')))&gt;0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EN">dtr1-1.3-EN: entity name that is not null shall not be empty</assert>
    <report role="warning" test="*[not(self::*:validTime | @nullFlavor)][normalize-space(.)='']" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EN">dtr1-3-EN: empty name particles should not be present.</report>
    <report role="warning" test="substring(normalize-space(.),1,1)='&#34;'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EN">dtr1-4-EN: Use of quotes at the beginning of a name are probably not correct.</report>
    
    
    <let name="name" value="local-name()"/>
    <let name="value" value="string-join((.//@use|.//text()),'')"/>
    <let name="set_other" value="preceding-sibling::*[local-name()=$name] | following-sibling::*[local-name()=$name]"/>
    <assert role="error" test="not(@nullFlavor and $set_other[not(@nullFlavor)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EN">dtr1-5-EN: [RIM-001] <value-of select="$name"/> SHALL NOT have nullFlavor, if there are other <value-of select="$name"/> elements which are not null</assert>
    <assert role="error" test="not($set_other[string-join((.//@use|.//text()),'')=$value])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EN">dtr1-6-EN: [RIM-002] <value-of select="$name"/> (<value-of select="$value"/>) SHALL be distinct</assert>
    <assert role="error" test="not(hl7:*) or hl7:*[count(tokenize(@qualifier,'\s'))=count(distinct-values(tokenize(@qualifier,'\s')))]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_EN">dtr1-7-EN: enxp elements SHALL have distinct values in @qualifier</assert>
</rule>
        <rule abstract="true" id="ENXP" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ENXP">
    <extends rule="ST"/>
</rule>
        <rule abstract="true" id="GLIST" see="https://art-decor.org/mediawiki/index.php?title=DTr1_GLIST">
    <extends rule="ANY"/>
</rule>
        <rule abstract="true" id="GLIST_PQ" see="https://art-decor.org/mediawiki/index.php?title=DTr1_GLIST_PQ">
    <extends rule="GLIST"/>
</rule>
        <rule abstract="true" id="GLIST_TS" see="https://art-decor.org/mediawiki/index.php?title=DTr1_GLIST_TS">
    <extends rule="GLIST"/>
</rule>
        <rule xmlns:hl7nl="urn:hl7-nl:v3" abstract="true" id="hl7nl-INT">
    <extends rule="QTY"/>
    <assert role="error" test="(@nullFlavor or @value or *) and not(@nullFlavor and @value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:INT">DTr2-1-hl7nl-INT: null or value or child element in case of extension</assert>
    <assert role="error" test="not(hl7nl:uncertainty)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:INT">DTr2-2-hl7nl-INT: no uncertainty</assert>
    <assert role="error" test="not(@value and hl7nl:uncertainRange)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:INT">DTr2-3-hl7nl-INT: not @value and uncertainRange</assert>
    <assert role="error" test="@nullFlavor or @value or hl7nl:uncertainRange" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:INT">DTr2-4-hl7nl-INT: @nullFlavor or @value or uncertainRange</assert>
</rule>
        <rule abstract="true" id="hl7nl-IVL_QTY">
    <extends rule="hl7nl-QSET_QTY"/>

    
    <assert role="error" test="not(descendant-or-self::*[@nullFlavor][@value|@unit|*:any|*:low|*:center|*:high|*:width])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-2-IVL_QTY: null violation. Cannot have @nullFlavor and @value or other child elements</assert>
    <assert role="error" test="not(@value and * except *:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-3-IVL_QTY: co-occurence violation. Cannot have @value and other child elements except translation</assert>
    
    <assert role="error" test="not(@value and (*:any|*:low|*:center|*:high|*:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-4-2-IVL_QTY: co-occurence violation. Cannot have @value and child elements</assert>
    
    <assert role="error" test="not(*:width and *:low and *:high)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-4-4-IVL_QTY: co-occurence violation. Cannot have width and have both low and high elements</assert>
    <assert role="error" test="not(*[@updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-5-IVL_QTY: no updateMode on IVL attributes</assert>
    
    
    
    
    <assert role="error" test="not(*:width[@unit][not(@value)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-1-PQR: width element: no unit without value</assert>
    <assert role="error" test="not(*:width/*:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-2-PQR: width element: no translation</assert>
    <assert role="error" test="not(*:low[@value castable as xs:decimal] and *:high[@value castable as xs:decimal]) or *:low/xs:decimal(@value) &lt;= *:high/xs:decimal(@value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-7-IVL_QTY: low/@value must be lower than or equal to high/@value</assert>
    <assert role="error" test="not(*:low[@nullFlavor='PINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-7-1-IVL_QTY: low must be lower than or equal to high. Found low boundary PINF (Positive Infinity)</assert>
    <assert role="error" test="not(*:high[@nullFlavor='NINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-7-2-IVL_QTY: low must be lower than or equal to high. Found high boundary NINF (Negative Infinity)</assert>
    <assert role="warning" test="not(*:low/@unit and *:high/@unit) or *:low/@unit = *:high/@unit" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-8-IVL_QTY: units in low and high should be equal or comparable</assert>
    <assert role="error" test="not(*:translation and * except *:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-9-IVL_QTY: co-occurence violation. Cannot have translation and other child elements except translation</assert>
    <assert role="error" test="not(*:low and @lowClosed) and not(*:high and @highClosed)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-IVL_QTY">dtr1-10-IVL_QTY: cannot have (@lowClosed and low) or (@highClosed and high)</assert>
</rule>
        <rule xmlns:xs="http://www.w3.org/2001/XMLSchema" abstract="true" id="hl7nl-IVL_TS">
    <extends rule="SXCM_TS"/>
    
    
    <assert role="error" test="not(descendant-or-self::*[@nullFlavor and (@value|@unit|hl7:low|hl7:center|hl7:high|hl7:width)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">DTr2-2-hl7nl-IVL_TS: null violation. Cannot have @nullFlavor and @value or other child elements</assert>
    <assert role="error" test="not(@value and hl7:*)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">DTr2-3-hl7nl-IVL_TS: co-occurence violation. Cannot have @value and other child elements</assert>
    
    <assert role="error" test="not(@value and (hl7:low|hl7:center|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">dtr1-4-2-IVL_TS: co-occurence violation. Cannot have @value and child elements</assert>
    <assert role="error" test="not(hl7:center and (hl7:low|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">dtr1-4-3-IVL_TS: co-occurence violation. Cannot have center and other elements</assert>
    <assert role="error" test="not(hl7:width and hl7:low and hl7:high)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">dtr1-4-4-IVL_TS: co-occurence violation. Cannot have width and have both low and high elements</assert>
    <assert role="error" test="not(hl7:*[@updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">DTr2-5-hl7nl-IVL_TS: no updateMode on IVL attributes</assert>
    <assert role="error" test="not(hl7:low/@value = hl7:high/@value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">DTr2-6-hl7nl-IVL_TS: low/@value must not be equal to high/@value</assert>
    
    
    <assert role="error" test="not(hl7:width[@unit][not(@value)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">dtr1-1-PQR: width element: no unit without value</assert>
    <assert role="error" test="not(hl7:width/hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">dtr1-2-PQR: width element: no translation</assert>
    <assert role="error" test="not(hl7:low[@nullFlavor='PINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">dtr1-7-1-IVL_TS: low must be lower than or equal to high. Found low boundary PINF (Positive Infinity)</assert>
    <assert role="error" test="not(hl7:high[@nullFlavor='NINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">dtr1-7-2-IVL_TS: low must be lower than or equal to high. Found high boundary NINF (Negative Infinity)</assert>
    
    
    <let name="tum" value="'^(us|ms|s|min|h|d|wk|mo|a|)$'"/>
    <assert role="error" test="matches(hl7:width/@unit, $tum)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">DTr2-8-hl7nl-IVL_TS: for width only us (microseconds), ms (milliseconds), s (seconds), min (minute), h (hours), d (day), wk (week), mo (month) or a (year) are allowed</assert>
    <let name="theTSLow" value="hl7:low/@value"/>
    <let name="theBCLow" value="if (starts-with($theTSLow,'-')) then '-' else ()"/>
    <let name="theTZLow" value="replace($theTSLow,'-?[^+-]+([+-].*)?$','$1')"/>
    <let name="theTZhLow" value="if (string-length($theTZLow)&gt;0) then substring($theTZLow,1,3) else ()"/>
    <let name="theTZmLow" value="if (string-length($theTZLow)&gt;3) then substring($theTZLow,4) else ()"/>
    <let name="theBaseTSLow" value="replace($theTSLow,'^-?([^+-]+)([+-].*)?','$1')"/>
    <let name="theCenturyLow" value="if (substring($theBaseTSLow,1,2) castable as xs:integer) then substring($theBaseTSLow,1,2) else ()"/>
    <let name="theYearLow" value="if (substring($theBaseTSLow,3,2) castable as xs:integer) then substring($theBaseTSLow,3,2) else ()"/>
    <let name="theMonthLow" value="if (substring($theBaseTSLow,5,2) castable as xs:integer) then substring($theBaseTSLow,5,2) else ()"/>
    <let name="theDayLow" value="if (substring($theBaseTSLow,7,2) castable as xs:integer) then substring($theBaseTSLow,7,2) else ()"/>
    <let name="theHourLow" value="if (substring($theBaseTSLow,9,2) castable as xs:integer) then substring($theBaseTSLow,9,2) else ()"/>
    <let name="theMinuteLow" value="if (substring($theBaseTSLow,11,2) castable as xs:integer) then substring($theBaseTSLow,11,2) else ()"/>
    <let name="theSecondLow" value="if (substring($theBaseTSLow,13,2) castable as xs:integer) then substring($theBaseTSLow,13,2) else ()"/>
    <let name="theSubSecondLow" value="if (substring($theBaseTSLow,16) castable as xs:integer) then substring($theBaseTSLow,15) else ()"/>
    <let name="cCenturyLow" value="if (empty($theCenturyLow)) then '00' else $theCenturyLow"/>
    <let name="cYearLow" value="if (empty($theYearLow)) then '00' else $theYearLow"/>
    <let name="cMonthLow" value="if (empty($theMonthLow)) then '01' else $theMonthLow"/>
    <let name="cDayLow" value="if (empty($theDayLow)) then '01' else $theDayLow"/>
    <let name="cHourLow" value="if (empty($theHourLow)) then '00' else $theHourLow"/>
    <let name="cMinuteLow" value="if (empty($theMinuteLow)) then '00' else $theMinuteLow"/>
    <let name="cSecondLow" value="if (empty($theSecondLow)) then '00' else $theSecondLow"/>
    <let name="cTZLow" value="string-join(($theTZhLow,$theTZmLow),':')"/>
    <let name="theTSStringLow" value="string-join(($theBCLow,$theCenturyLow,$theYearLow,$theMonthLow,$theDayLow,$theHourLow,$theMinuteLow,$theSecondLow,$theSubSecondLow,$theTZLow),'')"/>
    <let name="theLowDateTime" value="concat($theBCLow,$cCenturyLow,$cYearLow,'-',$cMonthLow,'-',$cDayLow,'T',$cHourLow,':',$cMinuteLow,':',$cSecondLow,$theSubSecondLow,$cTZLow)"/>
    <assert test="empty($theTSLow) or ($theTSLow=$theTSStringLow and $theLowDateTime castable as xs:dateTime)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">DTr2-9-hl7nl-IVL_TS: <value-of select="local-name()"/>/low "<value-of select="$theTSLow"/>" is not a valid timestamp.</assert>
    <let name="theTSCenter" value="hl7:center/@value"/>
    <let name="theBCCenter" value="if (starts-with($theTSCenter,'-')) then '-' else ()"/>
    <let name="theTZCenter" value="replace($theTSCenter,'-?[^+-]+([+-].*)?$','$1')"/>
    <let name="theTZhCenter" value="if (string-length($theTZCenter)&gt;0) then substring($theTZCenter,1,3) else ()"/>
    <let name="theTZmCenter" value="if (string-length($theTZCenter)&gt;3) then substring($theTZCenter,4) else ()"/>
    <let name="theBaseTSCenter" value="replace($theTSCenter,'^-?([^+-]+)([+-].*)?','$1')"/>
    <let name="theCenturyCenter" value="if (substring($theBaseTSCenter,1,2) castable as xs:integer) then substring($theBaseTSCenter,1,2) else ()"/>
    <let name="theYearCenter" value="if (substring($theBaseTSCenter,3,2) castable as xs:integer) then substring($theBaseTSCenter,3,2) else ()"/>
    <let name="theMonthCenter" value="if (substring($theBaseTSCenter,5,2) castable as xs:integer) then substring($theBaseTSCenter,5,2) else ()"/>
    <let name="theDayCenter" value="if (substring($theBaseTSCenter,7,2) castable as xs:integer) then substring($theBaseTSCenter,7,2) else ()"/>
    <let name="theHourCenter" value="if (substring($theBaseTSCenter,9,2) castable as xs:integer) then substring($theBaseTSCenter,9,2) else ()"/>
    <let name="theMinuteCenter" value="if (substring($theBaseTSCenter,11,2) castable as xs:integer) then substring($theBaseTSCenter,11,2) else ()"/>
    <let name="theSecondCenter" value="if (substring($theBaseTSCenter,13,2) castable as xs:integer) then substring($theBaseTSCenter,13,2) else ()"/>
    <let name="theSubSecondCenter" value="if (substring($theBaseTSCenter,16) castable as xs:integer) then substring($theBaseTSCenter,15) else ()"/>
    <let name="cCenturyCenter" value="if (empty($theCenturyCenter)) then '00' else $theCenturyCenter"/>
    <let name="cYearCenter" value="if (empty($theYearCenter)) then '00' else $theYearCenter"/>
    <let name="cMonthCenter" value="if (empty($theMonthCenter)) then '01' else $theMonthCenter"/>
    <let name="cDayCenter" value="if (empty($theDayCenter)) then '01' else $theDayCenter"/>
    <let name="cHourCenter" value="if (empty($theHourCenter)) then '00' else $theHourCenter"/>
    <let name="cMinuteCenter" value="if (empty($theMinuteCenter)) then '00' else $theMinuteCenter"/>
    <let name="cSecondCenter" value="if (empty($theSecondCenter)) then '00' else $theSecondCenter"/>
    <let name="cTZCenter" value="string-join(($theTZhCenter,$theTZmCenter),':')"/>
    <let name="theTSStringCenter" value="string-join(($theBCCenter,$theCenturyCenter,$theYearCenter,$theMonthCenter,$theDayCenter,$theHourCenter,$theMinuteCenter,$theSecondCenter,$theSubSecondCenter,$theTZCenter),'')"/>
    <let name="theCenterDateTime" value="concat($theBCCenter,$cCenturyCenter,$cYearCenter,'-',$cMonthCenter,'-',$cDayCenter,'T',$cHourCenter,':',$cMinuteCenter,':',$cSecondCenter,$theSubSecondCenter,$cTZCenter)"/>
    <assert test="empty($theTSCenter) or ($theTS=$theTSStringCenter and $theCenterDateTime castable as xs:dateTime)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">DTr2-9-hl7nl-IVL_TS: <value-of select="local-name()"/>/center "<value-of select="$theTSCenter"/>" is not a valid timestamp.</assert>
    <let name="theTSHigh" value="hl7:high/@value"/>
    <let name="theBCHigh" value="if (starts-with($theTSHigh,'-')) then '-' else ()"/>
    <let name="theTZHigh" value="replace($theTSHigh,'-?[^+-]+([+-].*)?$','$1')"/>
    <let name="theTZhHigh" value="if (string-length($theTZHigh)&gt;0) then substring($theTZHigh,1,3) else ()"/>
    <let name="theTZmHigh" value="if (string-length($theTZHigh)&gt;3) then substring($theTZHigh,4) else ()"/>
    <let name="theBaseTSHigh" value="replace($theTSHigh,'^-?([^+-]+)([+-].*)?','$1')"/>
    <let name="theCenturyHigh" value="if (substring($theBaseTSHigh,1,2) castable as xs:integer) then substring($theBaseTSHigh,1,2) else ()"/>
    <let name="theYearHigh" value="if (substring($theBaseTSHigh,3,2) castable as xs:integer) then substring($theBaseTSHigh,3,2) else ()"/>
    <let name="theMonthHigh" value="if (substring($theBaseTSHigh,5,2) castable as xs:integer) then substring($theBaseTSHigh,5,2) else ()"/>
    <let name="theDayHigh" value="if (substring($theBaseTSHigh,7,2) castable as xs:integer) then substring($theBaseTSHigh,7,2) else ()"/>
    <let name="theHourHigh" value="if (substring($theBaseTSHigh,9,2) castable as xs:integer) then substring($theBaseTSHigh,9,2) else ()"/>
    <let name="theMinuteHigh" value="if (substring($theBaseTSHigh,11,2) castable as xs:integer) then substring($theBaseTSHigh,11,2) else ()"/>
    <let name="theSecondHigh" value="if (substring($theBaseTSHigh,13,2) castable as xs:integer) then substring($theBaseTSHigh,13,2) else ()"/>
    <let name="theSubSecondHigh" value="if (substring($theBaseTSHigh,16) castable as xs:integer) then substring($theBaseTSHigh,15) else ()"/>
    <let name="cCenturyHigh" value="if (empty($theCenturyHigh)) then '00' else $theCenturyHigh"/>
    <let name="cYearHigh" value="if (empty($theYearHigh)) then '00' else $theYearHigh"/>
    <let name="cMonthHigh" value="if (empty($theMonthHigh)) then '01' else $theMonthHigh"/>
    <let name="cDayHigh" value="if (empty($theDayHigh)) then '01' else $theDayHigh"/>
    <let name="cHourHigh" value="if (empty($theHourHigh)) then '00' else $theHourHigh"/>
    <let name="cMinuteHigh" value="if (empty($theMinuteHigh)) then '00' else $theMinuteHigh"/>
    <let name="cSecondHigh" value="if (empty($theSecondHigh)) then '00' else $theSecondHigh"/>
    <let name="cTZHigh" value="string-join(($theTZhHigh,$theTZmHigh),':')"/>
    <let name="theTSStringHigh" value="string-join(($theBCHigh,$theCenturyHigh,$theYearHigh,$theMonthHigh,$theDayHigh,$theHourHigh,$theMinuteHigh,$theSecondHigh,$theSubSecondHigh,$theTZHigh),'')"/>
    <let name="theHighDateTime" value="concat($theBCHigh,$cCenturyHigh,$cYearHigh,'-',$cMonthHigh,'-',$cDayHigh,'T',$cHourHigh,':',$cMinuteHigh,':',$cSecondHigh,$theSubSecondHigh,$cTZHigh)"/>
    <assert test="empty($theTSHigh) or ($theTSHigh=$theTSStringHigh and $theHighDateTime castable as xs:dateTime)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:IVL_TS">DTr2-9-hl7nl-IVL_TS: <value-of select="local-name()"/>/high "<value-of select="$theTSHigh"/>" is not a valid timestamp.</assert>
</rule>
        <rule xmlns:hl7nl="urn:hl7-nl:v3" xmlns:xs="http://www.w3.org/2001/XMLSchema" abstract="true" id="hl7nl-PIVL_TS">
    <extends rule="SXCM_TS"/>
    
    
    <assert role="error" test="@nullFlavor | *:period | *:frequency" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PIVL_TS">DTr2-1-hl7nl-PIVL_TS: PIVL_TS, in datatypes release 2, SHALL have at least a period or frequency, or SHALL have @nullFlavor</assert>
    
    
    <assert role="error" test="not(*:count/@value) or *:count[@value castable as xs:integer][xs:integer(@value) &gt; 0]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PIVL_TS">DTr2-2-hl7nl-PIVL_TS: count/@value SHALL, if present, be a positive integer. Found <value-of select="*:count/@value"/>
    </assert>
    <assert role="error" test="not(*:frequency) or *:frequency[@nullFlavor or (*:numerator[not(@nullFlavor)] and *:denominator[not(@nullFlavor)])]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PIVL_TS">DTr2-3-hl7nl-PIVL_TS: frequency SHALL have @nullFlavor or both numerator AND denominator without @nullFlavor</assert>
    <assert role="error" test="not(*:frequency) or *:frequency[not(*:uncertainty)]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PIVL_TS">DTr2-4-hl7nl-PIVL_TS: frequency SHALL NOT have uncertainty</assert>
    <assert role="error" test="not(*:frequency) or *:frequency[not(*:numerator/@xsi:type[matches(.,'(^|:)TS')]) and not(*:denominator/@xsi:type[matches(.,'(^|:)TS')])]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PIVL_TS">DTr2-5-hl7nl-PIVL_TS: frequency SHALL NOT have a numerator AND a denonimator with datatype TS. Found numerator "<value-of select="*:numerator/@xsi:type"/>" and denominator "<value-of select="*:denominator/@xsi:type"/>"</assert>
    
    
    <assert role="error" test="not(*:phase[@updateMode] | *:period[@updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PIVL_TS">dtr1/2-1-hl7nl-PIVL_TS: Datatype PIVL_TS: no updateMode on PIVL attributes</assert>
    <assert role="error" test="descendant-or-self::*[(@nullFlavor and not(@value|@unit|*)) or (not(@nullFlavor) and (@value|@unit|*))]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PIVL_TS">dtr1/2-2-hl7nl-PIVL_TS: null violation. Cannot have @nullFlavor and @value or child elements, or the other way round</assert>
    <assert role="error" test="not(*:period[string-length(substring-after(@value,'.')) &gt; 4])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PIVL_TS">dtr1/2-5-hl7nl-PIVL_TS: period/@value must be rounded to 4 digits or less</assert>

    
    <assert role="error" test="not(descendant-or-self::*:width[@unit][not(@value)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PIVL_TS">dtr1/2-6-hl7nl-PIVL_TS: width element: no unit without value</assert>
    <assert role="error" test="not(descendant-or-self::*:width[*:translation])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PIVL_TS">dtr1/2-7-hl7nl-PIVL_TS: width element: no translation</assert>
</rule>
        <rule abstract="true" id="hl7nl-PQ">
    <extends rule="QTY"/>
    <assert role="error" test="(@nullFlavor or @value or *) and not(@nullFlavor and @value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PQ">DTr2-1-hl7nl-PQ: null or value or child element in case of extension</assert>
    
    <assert role="error" test="not(@value and hl7nl:uncertainRange)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PQ">DTr2-3-hl7nl-PQ: not @value and uncertainRange</assert>
    <assert role="error" test="@nullFlavor or @value or hl7nl:uncertainRange" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PQ">DTr2-4-hl7nl-PQ: @nullFlavor or @value or uncertainRange</assert>
    <let name="translations" value=".//hl7:translation/concat(@value,@code,@codeSystem)"/>
    <assert test="count($translations)=count(distinct-values($translations))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:PQ">DTr2-5-hl7nl-PQ: [RIM-002] translations SHALL be distinct</assert>
</rule>
        <rule abstract="true" id="hl7nl-QSET_QTY">
    <extends rule="QTY"/>
    <assert role="error" test="count(*[self::*:originalText][@validTimeLow or @validTimeHigh or @controlActRoot or @controlActExtension or @updateMode])=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl-QSET_QTY">dtr1-1-QSET_QTY: No History or Update Mode</assert>
</rule>
        <rule abstract="true" id="hl7nl-RTO" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:RTO">
    <extends rule="QTY"/>
</rule>
        <rule xmlns:xs="http://www.w3.org/2001/XMLSchema" abstract="true" id="hl7nl-TS">
    <extends rule="QTY"/>
    <assert role="error" test="(@nullFlavor or @value or *) and not(@nullFlavor and @value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:TS">dtr1-1-hl7nl-TS: null or value or child element in case of extension</assert>
    <let name="theTS" value="@value"/>
    <let name="theBC" value="if (starts-with($theTS,'-')) then '-' else ()"/>
    <let name="theTZ" value="replace($theTS,'-?[^+-]+([+-].*)?$','$1')"/>
    <let name="theTZh" value="if (string-length($theTZ)&gt;0) then substring($theTZ,1,3) else ()"/>
    <let name="theTZm" value="if (string-length($theTZ)&gt;3) then substring($theTZ,4) else ()"/>
    <let name="theBaseTS" value="replace($theTS,'^-?([^+-]+)([+-].*)?','$1')"/>
    <let name="theCentury" value="if (substring($theBaseTS,1,2) castable as xs:integer) then substring($theBaseTS,1,2) else ()"/>
    <let name="theYear" value="if (substring($theBaseTS,3,2) castable as xs:integer) then substring($theBaseTS,3,2) else ()"/>
    <let name="theMonth" value="if (substring($theBaseTS,5,2) castable as xs:integer) then substring($theBaseTS,5,2) else ()"/>
    <let name="theDay" value="if (substring($theBaseTS,7,2) castable as xs:integer) then substring($theBaseTS,7,2) else ()"/>
    <let name="theHour" value="if (substring($theBaseTS,9,2) castable as xs:integer) then substring($theBaseTS,9,2) else ()"/>
    <let name="theMinute" value="if (substring($theBaseTS,11,2) castable as xs:integer) then substring($theBaseTS,11,2) else ()"/>
    <let name="theSecond" value="if (substring($theBaseTS,13,2) castable as xs:integer) then substring($theBaseTS,13,2) else ()"/>
    <let name="theSubSecond" value="if (substring($theBaseTS,16) castable as xs:integer) then substring($theBaseTS,15) else ()"/>
    <let name="cCentury" value="if (empty($theCentury)) then '00' else $theCentury"/>
    <let name="cYear" value="if (empty($theYear)) then '00' else $theYear"/>
    <let name="cMonth" value="if (empty($theMonth)) then '01' else $theMonth"/>
    <let name="cDay" value="if (empty($theDay)) then '01' else $theDay"/>
    <let name="cHour" value="if (empty($theHour)) then '00' else $theHour"/>
    <let name="cMinute" value="if (empty($theMinute)) then '00' else $theMinute"/>
    <let name="cSecond" value="if (empty($theSecond)) then '00' else $theSecond"/>
    <let name="cTZ" value="string-join(($theTZh,$theTZm),':')"/>
    <let name="theTSString" value="string-join(($theBC,$theCentury,$theYear,$theMonth,$theDay,$theHour,$theMinute,$theSecond,$theSubSecond,$theTZ),'')"/>
    <let name="theDateTime" value="concat($theBC,$cCentury,$cYear,'-',$cMonth,'-',$cDay,'T',$cHour,':',$cMinute,':',$cSecond,$theSubSecond,$cTZ)"/>
    <assert test="empty($theTS) or ($theTS=$theTSString and $theDateTime castable as xs:dateTime)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_hl7nl:TS">dtr1-2-hl7nl-TS: <value-of select="local-name()"/> "<value-of select="$theTS"/>" is not a valid timestamp.</assert>
</rule>
        <rule abstract="true" id="II">
    <extends rule="ANY"/>
    <assert role="error" test="@nullFlavor or (not(@nullFlavor) and @root)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-1-II: @root is required if @nullFlavor is not present</assert>
    <assert role="error" test="not(@nullFlavor) or (@nullFlavor and not(@root))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-2-II: @root may not be used if @nullFlavor is present</assert>
    
    <assert role="error" test="not(@nullFlavor and @identifierName)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-4-II: @identifierName may not be used if @nullFlavor is present</assert>
    <assert role="error" test="not(@nullFlavor and @displayable)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-5-II: @displayable may not be used if @nullFlavor is present</assert>
    <assert role="error" test="not(@nullFlavor and @reliability)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-6-II: @reliability may not be used if @nullFlavor is present</assert>
    <assert role="error" test="not(@nullFlavor and @assigningAuthorityName)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-7-II: @assigningAuthorityName may not be used if @nullFlavor is present</assert>
    
     
    <report role="warning" test="not(string-length(@root) &lt;= 128)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-8-II: @root should not be longer than 128 characters. Found <value-of select="string-length(@root)"/> characters. Please write a note to the authors of this rule if this is found to be not sufficient</report>
    <report role="warning" test="not(string-length(@extension) &lt;= 64)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-9-II: @extension should not be longer than 64 characters. Found <value-of select="string-length(@extension)"/> characters. Please write a note to the authors of this rule if this is found to be not sufficient</report>
    
    <let name="OIDpattern" value="'^[0-2](\.(0|[1-9]\d*))*$'"/>
    <let name="RUIDpattern" value="'^[A-Za-z][A-Za-z\d\-]*$'"/>
    <let name="UUIDpattern" value="'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$'"/>
    <assert role="error" test="not(@root) or matches(@root, $OIDpattern) or matches(@root, $UUIDpattern)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-10-II: @root SHALL be a syntactically correct OID or UUID.</assert>
    <assert role="error" test="not(matches(@root, $RUIDpattern) and not(matches(@root, $UUIDpattern)))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-10a-II: @root SHALL NOT be a RUID. Identifiers in this scheme are only defined by balloted HL7 specifications. Local communities or systems must never use such reserved identifiers based on bilateral negotiations.</assert>
    
    
    <let name="name" value="local-name()"/>
    <let name="set_other" value="preceding-sibling::*[local-name()=$name] | following-sibling::*[local-name()=$name]"/>
    
    <let name="root" value="@root"/>
    <let name="extension" value="@extension"/>
    <assert role="error" test="not($set_other[@root=$root][empty($extension)] or $set_other[@root=$root][@extension=$extension])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-12-II: [RIM-002] <value-of select="$name"/> SHALL be distinct</assert>
    
    
    
    
    <assert role="info" test="not(matches(@root, $UUIDpattern) and matches(@root, '[a-z]'))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II">dtr1-13-II: Lower case UUID "<value-of select="@root"/>" found in @root. UUIDs SHALL, under official HL7 V3 Datatypes Release 1 (and 2) rules, have upper case hexadecimal digits A-F. RFC 4122 and HL7 FHIR state lower case UUID display.</assert>
</rule>
        <rule abstract="true" id="II.AT.ATU">
    <extends rule="II"/>
    <assert role="error" test="@nullFlavor or @root = '1.2.40.0.10.2.0.2.1'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.AT.ATU">dtr1-1-II.AT.ATU: @root SHALL be 1.2.40.0.10.2.0.2.1 if not null</assert>
</rule>
        <rule abstract="true" id="II.AT.BLZ">
    <extends rule="II"/>
    <assert role="error" test="@nullFlavor or @root = '1.2.40.0.34.4.13'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.AT.BLZ">dtr1-1-II.AT.BLZ: @root SHALL be 1.2.40.0.34.4.13 if not null</assert>
</rule>
        <rule abstract="true" id="II.AT.DVR">
    <extends rule="II"/>
    <assert role="error" test="@nullFlavor or @root = '1.2.40.0.10.2.0.2.1'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.AT.DVR">dtr1-1-II.AT.DVR: @root SHALL be 1.2.40.0.10.2.0.2.1 if not null</assert>
</rule>
        <rule abstract="true" id="II.AT.KTONR">
    <extends rule="II"/>
    <assert role="error" test="@nullFlavor or @root = '1.2.40.0.34.4.14'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.AT.KTONR">dtr1-1-II.AT.KTONR: @root SHALL be 1.2.40.0.34.4.14 if not null</assert>
</rule>
        <rule abstract="true" id="II.EPSOS">
    <extends rule="II"/>
    <assert role="error" test="not(@root) or string-length(@root) &lt;= 64" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.EPSOS">dtr1-1-II.EPSOS: @root SHALL NOT exceed 64 characters</assert>
</rule>
        <rule abstract="true" id="II.NL.AGB">
    <extends rule="II"/>
    <assert role="error" test="@nullFlavor or @root='2.16.840.1.113883.2.4.6.1'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.AGB">dtr1-1-II.NL.AGB: AGB-code @root MOET 2.16.840.1.113883.2.4.6.1 zijn indien niet null. Gevonden: "<value-of select="@root"/>"</assert>
    <assert role="error" test="not(@root='2.16.840.1.113883.2.4.6.1') or matches(@extension,'^[0-9]{8}$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.AGB">dtr1-2-II.NL.AGB: AGB-code moet 8 cijfers lang zijn. Gevonden: "<value-of select="@extension"/>"</assert>
</rule>
        <rule abstract="true" id="II.NL.BIG">
    <extends rule="II"/>
    <assert role="error" test="@nullFlavor or @root='2.16.528.1.1007.5.1'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.BIG">dtr1-1-II.NL.BIG: BIG-nummer @root MOET 2.16.528.1.1007.5.1 zijn indien niet null. Gevonden: "<value-of select="@root"/>"</assert>
</rule>
        <rule abstract="true" id="II.NL.BSN">
    <extends rule="II"/>
    <assert role="error" test="@nullFlavor or @root='2.16.840.1.113883.2.4.6.3'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.BSN">dtr1-1-II.NL.BSN: Burgerservicenummer @root MOET 2.16.840.1.113883.2.4.6.3 zijn indien niet null. Gevonden: "<value-of select="@root"/>"</assert>
    <assert role="error" test="not(@root='2.16.840.1.113883.2.4.6.3') or matches(@extension,'^\d{9}$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.BSN">dtr1-2-II.NL.BSN: Burgerservicenummer MOET 9 cijfers lang zijn, met voorloopnullen indien korter dan 9 cijfers. Gevonden: "<value-of select="@extension"/>"</assert>
    <assert role="error" test="not(@root='2.16.840.1.113883.2.4.6.3' and matches(@extension,'^\d{9}$')) or (         (   number(substring(@extension,1,1))*9 )+         (   number(substring(@extension,2,1))*8 )+         (   number(substring(@extension,3,1))*7 )+         (   number(substring(@extension,4,1))*6 )+         (   number(substring(@extension,5,1))*5 )+         (   number(substring(@extension,6,1))*4 )+         (   number(substring(@extension,7,1))*3 )+         (   number(substring(@extension,8,1))*2 )+         (   number(substring(@extension,9,1))*-1) ) mod 11=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.BSN">dtr1-3-II.NL.BSN: Burgerservicenummer voldoet niet aan modulo 11 proef. Gevonden: "<value-of select="@extension"/>"</assert>
</rule>
        <rule abstract="true" id="II.NL.URA">
    <extends rule="II"/>

    
    <assert role="error" test="@nullFlavor or @root='2.16.528.1.1007.3.3'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.URA">dtr1-1-II.NL.URA: UZI-registerabonneenummer @root MOET 2.16.528.1.1007.3.3 zijn indien niet null. Gevonden: "<value-of select="@root"/>"</assert>
    <assert role="error" test="not(@root='2.16.528.1.1007.3.3') or matches(@extension,'^[0-9]{8}$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.URA">dtr1-2-II.NL.URA: UZI-registerabonneenummer MOET 8 cijfers lang zijn. Gevonden: "<value-of select="@extension"/>"</assert>
</rule>
        <rule abstract="true" id="II.NL.UZI">
    <extends rule="II"/>
    <assert role="error" test="@nullFlavor or @root='2.16.528.1.1007.3.1' or @root='2.16.528.1.1007.3.2'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.UZI">dtr1-1-II.NL.UZI: UZI-nummer @root MOET 2.16.528.1.1007.3.1 (Personen) of 2.16.528.1.1007.3.2 (Systemen) zijn indien niet null. Gevonden: "<value-of select="@root"/>"</assert>
    <assert role="error" test="not(@root='2.16.528.1.1007.3.1') or matches(@extension,'^[0-9]{9}$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.UZI">dtr1-2-II.NL.UZI: UZI-nummer persoon MOET 9 cijfers lang zijn. Gevonden: "<value-of select="@extension"/>"</assert>
    <assert role="error" test="not(@root='2.16.528.1.1007.3.2') or matches(@extension,'^[0-9]{9}$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.NL.UZI">dtr1-3-II.NL.UZI: UZI-nummer systeem MOET 9 cijfers lang zijn. Gevonden: "<value-of select="@extension"/>"</assert>
</rule>
        <rule abstract="true" id="INT">
    <extends rule="QTY"/>
    <assert role="error" test="(@nullFlavor or @value or *) and not(@nullFlavor and @value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_INT">dtr1-1-INT: null or value or child element in case of extension</assert>
    <assert role="error" test="not(hl7:uncertainty)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_INT">dtr1-2-INT: no uncertainty</assert>
</rule>
        <rule abstract="true" id="INT.NONNEG">
    <extends rule="INT"/>
    <assert role="error" test="@nullFlavor or @value &gt;= 0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_INT.NONNEG">dtr1-2-INT.NONNEG: null or value &gt;= 0</assert>
</rule>
        <rule abstract="true" id="INT.POS">
    <extends rule="INT"/>
    <assert role="error" test="@nullFlavor or @value &gt; 0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_II.POS">dtr1-2-INT.POS: null or value &gt; 0</assert>
</rule>
        <rule abstract="true" id="IVL_INT">
    <extends rule="SXCM_INT"/>
    
    
    <assert role="error" test="not(descendant-or-self::*[@nullFlavor and (@value|@unit|hl7:low|hl7:center|hl7:high|hl7:width)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-2-IVL_INT: null violation. Cannot have @nullFlavor and @value or other child elements</assert>
    <assert role="error" test="not(@value and hl7:*)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-3-IVL_INT: co-occurence violation. Cannot have @value and other child elements</assert>
    
    <assert role="error" test="not(@value and (hl7:low|hl7:center|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-4-2-IVL_INT: co-occurence violation. Cannot have @value and child elements</assert>
    <assert role="error" test="not(hl7:center and (hl7:low|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-4-3-IVL_INT: co-occurence violation. Cannot have center and other elements</assert>
    <assert role="error" test="not(hl7:width and hl7:low and hl7:high)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-4-4-IVL_INT: co-occurence violation. Cannot have width and have both low and high elements</assert>
    <assert role="error" test="not(hl7:*[@updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-5-IVL_INT: no updateMode on IVL attributes</assert>
    
    
    
    
    <assert role="error" test="not(hl7:width[@unit][not(@value)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-1-PQR: width element: no unit without value</assert>
    <assert role="error" test="not(hl7:width/hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-2-PQR: width element: no translation</assert>
    <assert role="error" test="not(hl7:low/@value and hl7:high/@value) or hl7:low/number(@value) &lt;= hl7:high/number(@value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-7-IVL_INT: low/@value must be lower than or equal to high/@value</assert>
    <assert role="error" test="not(hl7:low[@nullFlavor='PINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-7-1-IVL_INT: low must be lower than or equal to high. Found low boundary PINF (Positive Infinity)</assert>
    <assert role="error" test="not(hl7:high[@nullFlavor='NINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_INT">dtr1-7-2-IVL_INT: low must be lower than or equal to high. Found high boundary NINF (Negative Infinity)</assert>
</rule>
        <rule abstract="true" id="IVL_MO">
    <extends rule="SXCM_MO"/>

    
    <assert role="error" test="not(descendant-or-self::*[@nullFlavor and (@value|@unit|hl7:low|hl7:center|hl7:high|hl7:width)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-2-IVL_MO: null violation. Cannot have @nullFlavor and @value or other child elements</assert>
    <assert role="error" test="not(@value and hl7:* except hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-3-IVL_MO: co-occurence violation. Cannot have @value and other child elements except translations</assert>
    
    <assert role="error" test="not(@value and (hl7:low|hl7:center|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-4-2-IVL_MO: co-occurence violation. Cannot have @value and child elements</assert>
    <assert role="error" test="not(hl7:center and (hl7:low|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-4-3-IVL_MO: co-occurence violation. Cannot have center and other elements</assert>
    <assert role="error" test="not(hl7:width and hl7:low and hl7:high)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-4-4-IVL_MO: co-occurence violation. Cannot have width and have both low and high elements</assert>
    <assert role="error" test="not(hl7:*[@updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-5-IVL_MO: no updateMode on IVL attributes</assert>
    
    
    
    
    <assert role="error" test="not(hl7:width[@unit][not(@value)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-1-PQR: width element: no unit without value</assert>
    <assert role="error" test="not(hl7:width/hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-2-PQR: width element: no translation</assert>
    <assert role="error" test="not(hl7:low/@value and hl7:high/@value) or hl7:low/number(@value) &lt;= hl7:high/number(@value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-7-IVL_MO: low/@value must be lower than or equal to high/@value</assert>
    <assert role="error" test="not(hl7:low[@nullFlavor='PINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-7-1-IVL_MO: low must be lower than or equal to high. Found low boundary PINF (Positive Infinity)</assert>
    <assert role="error" test="not(hl7:high[@nullFlavor='NINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-7-2-IVL_MO: low must be lower than or equal to high. Found high boundary NINF (Negative Infinity)</assert>
    <assert role="error" test="not(hl7:low/@currency and hl7:high/@currency) or hl7:low/@currency = hl7:high/@currency" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-8-IVL_MO: currency in low and high must be equal</assert>
    <assert role="error" test="not(hl7:translation and hl7:* except hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_MO">dtr1-9-IVL_MO: co-occurence violation. Cannot have translation and other child elements except translation</assert>
</rule>
        <rule abstract="true" id="IVL_PQ">
    <extends rule="SXCM_PQ"/>

    
    <assert role="error" test="not(descendant-or-self::*[@nullFlavor and (@value|@unit|hl7:low|hl7:center|hl7:high|hl7:width)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-2-IVL_PQ: null violation. Cannot have @nullFlavor and @value or other child elements</assert>
    <assert role="error" test="not(@value and hl7:* except hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-3-IVL_PQ: co-occurence violation. Cannot have @value and other child elements except translation</assert>
    
    <assert role="error" test="not(@value and (hl7:low|hl7:center|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-4-2-IVL_PQ: co-occurence violation. Cannot have @value and child elements</assert>
    <assert role="error" test="not(hl7:center and (hl7:low|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-4-3-IVL_PQ: co-occurence violation. Cannot have center and other elements</assert>
    <assert role="error" test="not(hl7:width and hl7:low and hl7:high)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-4-4-IVL_PQ: co-occurence violation. Cannot have width and have both low and high elements</assert>
    <assert role="error" test="not(hl7:*[@updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-5-IVL_PQ: no updateMode on IVL attributes</assert>
    
    
    
    
    <assert role="error" test="not(hl7:width[@unit][not(@value)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-1-PQR: width element: no unit without value</assert>
    <assert role="error" test="not(hl7:width/hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-2-PQR: width element: no translation</assert>
    <assert role="error" test="not(hl7:low/@value and hl7:high/@value) or hl7:low/number(@value) &lt;= hl7:high/number(@value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-7-IVL_PQ: low/@value must be lower than or equal to high/@value</assert>
    <assert role="error" test="not(hl7:low[@nullFlavor='PINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-7-1-IVL_PQ: low must be lower than or equal to high. Found low boundary PINF (Positive Infinity)</assert>
    <assert role="error" test="not(hl7:high[@nullFlavor='NINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-7-2-IVL_PQ: low must be lower than or equal to high. Found high boundary NINF (Negative Infinity)</assert>
    <assert role="warning" test="not(hl7:low/@unit and hl7:high/@unit) or hl7:low/@unit = hl7:high/@unit" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-8-IVL_PQ: units in low and high should be equal or comparable</assert>
    <assert role="error" test="not(hl7:translation and hl7:* except hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_PQ">dtr1-9-IVL_PQ: co-occurence violation. Cannot have translation and other child elements except translation</assert>
</rule>
        <rule abstract="true" id="IVL_REAL">
    <extends rule="SXCM_REAL"/>
    
    
    <assert role="error" test="not(descendant-or-self::*[@nullFlavor and (@value|@unit|hl7:low|hl7:center|hl7:high|hl7:width)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-2-IVL_REAL: null violation. Cannot have @nullFlavor and @value or other child elements</assert>
    <assert role="error" test="not(@value and hl7:*)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-3-IVL_REAL: co-occurence violation. Cannot have @value and other child elements</assert>
    
    <assert role="error" test="not(@value and (hl7:low|hl7:center|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-4-2-IVL_REAL: co-occurence violation. Cannot have @value and child elements</assert>
    <assert role="error" test="not(hl7:center and (hl7:low|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-4-3-IVL_REAL: co-occurence violation. Cannot have center and other elements</assert>
    <assert role="error" test="not(hl7:width and hl7:low and hl7:high)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-4-4-IVL_REAL: co-occurence violation. Cannot have width and have both low and high elements</assert>
    <assert role="error" test="not(hl7:*[@updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-5-IVL_REAL: no updateMode on IVL attributes</assert>
    
    
    
    
    <assert role="error" test="not(hl7:width[@unit][not(@value)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-1-PQR: width element: no unit without value</assert>
    <assert role="error" test="not(hl7:width/hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-2-PQR: width element: no translation</assert>
    <assert role="error" test="not(hl7:low/@value and hl7:high/@value) or hl7:low/number(@value) &lt;= hl7:high/number(@value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-7-IVL_REAL: low/@value must be lower than or equal to high/@value</assert>
    <assert role="error" test="not(hl7:low[@nullFlavor='PINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-7-1-IVL_REAL: low must be lower than or equal to high. Found low boundary PINF (Positive Infinity)</assert>
    <assert role="error" test="not(hl7:high[@nullFlavor='NINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_REAL">dtr1-7-2-IVL_REAL: low must be lower than or equal to high. Found high boundary NINF (Negative Infinity)</assert>
</rule>
        <rule xmlns:xs="http://www.w3.org/2001/XMLSchema" abstract="true" id="IVL_TS">
    <extends rule="SXCM_TS"/>
    
    
    <assert role="error" test="not(descendant-or-self::*[@nullFlavor and (@value|@unit|hl7:low|hl7:center|hl7:high|hl7:width)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-2-IVL_TS: null violation. Cannot have @nullFlavor and @value or other child elements</assert>
    <assert role="error" test="not(@value and hl7:*)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-3-IVL_TS: co-occurence violation. Cannot have @value and other child elements</assert>
    
    <assert role="error" test="not(@value and (hl7:low|hl7:center|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-4-2-IVL_TS: co-occurence violation. Cannot have @value and child elements</assert>
    <assert role="error" test="not(hl7:center and (hl7:low|hl7:high|hl7:width))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-4-3-IVL_TS: co-occurence violation. Cannot have center and other elements</assert>
    <assert role="error" test="not(hl7:width and hl7:low and hl7:high)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-4-4-IVL_TS: co-occurence violation. Cannot have width and have both low and high elements</assert>
    <assert role="error" test="not(hl7:*[@updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-5-IVL_TS: no updateMode on IVL attributes</assert>
    <assert role="error" test="not(hl7:low/@value = hl7:high/@value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-6-IVL_TS: low/@value must not be equal to high/@value</assert>
    
    
    <assert role="error" test="not(hl7:width[@unit][not(@value)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-1-PQR: width element: no unit without value</assert>
    <assert role="error" test="not(hl7:width/hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-2-PQR: width element: no translation</assert>
    <assert role="error" test="not(hl7:low[@nullFlavor='PINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-7-1-IVL_TS: low must be lower than or equal to high. Found low boundary PINF (Positive Infinity)</assert>
    <assert role="error" test="not(hl7:high[@nullFlavor='NINF'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-7-2-IVL_TS: low must be lower than or equal to high. Found high boundary NINF (Negative Infinity)</assert>
    
    
    <let name="tum" value="'^(us|ms|s|min|h|d|wk|mo|a|)$'"/>
    <assert role="error" test="matches(hl7:width/@unit, $tum)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-8-IVL_TS: for width only us (microseconds), ms (milliseconds), s (seconds), min (minute), h (hours), d (day), wk (week), mo (month) or a (year) are allowed</assert>
    <let name="theTSLow" value="hl7:low/@value"/>
    <let name="theBCLow" value="if (starts-with($theTSLow,'-')) then '-' else ()"/>
    <let name="theTZLow" value="replace($theTSLow,'-?[^+-]+([+-].*)?$','$1')"/>
    <let name="theTZhLow" value="if (string-length($theTZLow)&gt;0) then substring($theTZLow,1,3) else ()"/>
    <let name="theTZmLow" value="if (string-length($theTZLow)&gt;3) then substring($theTZLow,4) else ()"/>
    <let name="theBaseTSLow" value="replace($theTSLow,'^-?([^+-]+)([+-].*)?','$1')"/>
    <let name="theCenturyLow" value="if (substring($theBaseTSLow,1,2) castable as xs:integer) then substring($theBaseTSLow,1,2) else ()"/>
    <let name="theYearLow" value="if (substring($theBaseTSLow,3,2) castable as xs:integer) then substring($theBaseTSLow,3,2) else ()"/>
    <let name="theMonthLow" value="if (substring($theBaseTSLow,5,2) castable as xs:integer) then substring($theBaseTSLow,5,2) else ()"/>
    <let name="theDayLow" value="if (substring($theBaseTSLow,7,2) castable as xs:integer) then substring($theBaseTSLow,7,2) else ()"/>
    <let name="theHourLow" value="if (substring($theBaseTSLow,9,2) castable as xs:integer) then substring($theBaseTSLow,9,2) else ()"/>
    <let name="theMinuteLow" value="if (substring($theBaseTSLow,11,2) castable as xs:integer) then substring($theBaseTSLow,11,2) else ()"/>
    <let name="theSecondLow" value="if (substring($theBaseTSLow,13,2) castable as xs:integer) then substring($theBaseTSLow,13,2) else ()"/>
    <let name="theSubSecondLow" value="if (substring($theBaseTSLow,16) castable as xs:integer) then substring($theBaseTSLow,15) else ()"/>
    <let name="cCenturyLow" value="if (empty($theCenturyLow)) then '00' else $theCenturyLow"/>
    <let name="cYearLow" value="if (empty($theYearLow)) then '00' else $theYearLow"/>
    <let name="cMonthLow" value="if (empty($theMonthLow)) then '01' else $theMonthLow"/>
    <let name="cDayLow" value="if (empty($theDayLow)) then '01' else $theDayLow"/>
    <let name="cHourLow" value="if (empty($theHourLow)) then '00' else $theHourLow"/>
    <let name="cMinuteLow" value="if (empty($theMinuteLow)) then '00' else $theMinuteLow"/>
    <let name="cSecondLow" value="if (empty($theSecondLow)) then '00' else $theSecondLow"/>
    <let name="cTZLow" value="string-join(($theTZhLow,$theTZmLow),':')"/>
    <let name="theTSStringLow" value="string-join(($theBCLow,$theCenturyLow,$theYearLow,$theMonthLow,$theDayLow,$theHourLow,$theMinuteLow,$theSecondLow,$theSubSecondLow,$theTZLow),'')"/>
    <let name="theLowDateTime" value="concat($theBCLow,$cCenturyLow,$cYearLow,'-',$cMonthLow,'-',$cDayLow,'T',$cHourLow,':',$cMinuteLow,':',$cSecondLow,$theSubSecondLow,$cTZLow)"/>
    <assert test="empty($theTSLow) or ($theTSLow=$theTSStringLow and $theLowDateTime castable as xs:dateTime)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-9-IVL_TS: <value-of select="local-name()"/>/low "<value-of select="$theTSLow"/>" is not a valid timestamp.</assert>
    <let name="theTSCenter" value="hl7:center/@value"/>
    <let name="theBCCenter" value="if (starts-with($theTSCenter,'-')) then '-' else ()"/>
    <let name="theTZCenter" value="replace($theTSCenter,'-?[^+-]+([+-].*)?$','$1')"/>
    <let name="theTZhCenter" value="if (string-length($theTZCenter)&gt;0) then substring($theTZCenter,1,3) else ()"/>
    <let name="theTZmCenter" value="if (string-length($theTZCenter)&gt;3) then substring($theTZCenter,4) else ()"/>
    <let name="theBaseTSCenter" value="replace($theTSCenter,'^-?([^+-]+)([+-].*)?','$1')"/>
    <let name="theCenturyCenter" value="if (substring($theBaseTSCenter,1,2) castable as xs:integer) then substring($theBaseTSCenter,1,2) else ()"/>
    <let name="theYearCenter" value="if (substring($theBaseTSCenter,3,2) castable as xs:integer) then substring($theBaseTSCenter,3,2) else ()"/>
    <let name="theMonthCenter" value="if (substring($theBaseTSCenter,5,2) castable as xs:integer) then substring($theBaseTSCenter,5,2) else ()"/>
    <let name="theDayCenter" value="if (substring($theBaseTSCenter,7,2) castable as xs:integer) then substring($theBaseTSCenter,7,2) else ()"/>
    <let name="theHourCenter" value="if (substring($theBaseTSCenter,9,2) castable as xs:integer) then substring($theBaseTSCenter,9,2) else ()"/>
    <let name="theMinuteCenter" value="if (substring($theBaseTSCenter,11,2) castable as xs:integer) then substring($theBaseTSCenter,11,2) else ()"/>
    <let name="theSecondCenter" value="if (substring($theBaseTSCenter,13,2) castable as xs:integer) then substring($theBaseTSCenter,13,2) else ()"/>
    <let name="theSubSecondCenter" value="if (substring($theBaseTSCenter,16) castable as xs:integer) then substring($theBaseTSCenter,15) else ()"/>
    <let name="cCenturyCenter" value="if (empty($theCenturyCenter)) then '00' else $theCenturyCenter"/>
    <let name="cYearCenter" value="if (empty($theYearCenter)) then '00' else $theYearCenter"/>
    <let name="cMonthCenter" value="if (empty($theMonthCenter)) then '01' else $theMonthCenter"/>
    <let name="cDayCenter" value="if (empty($theDayCenter)) then '01' else $theDayCenter"/>
    <let name="cHourCenter" value="if (empty($theHourCenter)) then '00' else $theHourCenter"/>
    <let name="cMinuteCenter" value="if (empty($theMinuteCenter)) then '00' else $theMinuteCenter"/>
    <let name="cSecondCenter" value="if (empty($theSecondCenter)) then '00' else $theSecondCenter"/>
    <let name="cTZCenter" value="string-join(($theTZhCenter,$theTZmCenter),':')"/>
    <let name="theTSStringCenter" value="string-join(($theBCCenter,$theCenturyCenter,$theYearCenter,$theMonthCenter,$theDayCenter,$theHourCenter,$theMinuteCenter,$theSecondCenter,$theSubSecondCenter,$theTZCenter),'')"/>
    <let name="theCenterDateTime" value="concat($theBCCenter,$cCenturyCenter,$cYearCenter,'-',$cMonthCenter,'-',$cDayCenter,'T',$cHourCenter,':',$cMinuteCenter,':',$cSecondCenter,$theSubSecondCenter,$cTZCenter)"/>
    <assert test="empty($theTSCenter) or ($theTSCenter=$theTSStringCenter and $theCenterDateTime castable as xs:dateTime)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-9-IVL_TS: <value-of select="local-name()"/>/center "<value-of select="$theTSCenter"/>" is not a valid timestamp.</assert>
    <let name="theTSHigh" value="hl7:high/@value"/>
    <let name="theBCHigh" value="if (starts-with($theTSHigh,'-')) then '-' else ()"/>
    <let name="theTZHigh" value="replace($theTSHigh,'-?[^+-]+([+-].*)?$','$1')"/>
    <let name="theTZhHigh" value="if (string-length($theTZHigh)&gt;0) then substring($theTZHigh,1,3) else ()"/>
    <let name="theTZmHigh" value="if (string-length($theTZHigh)&gt;3) then substring($theTZHigh,4) else ()"/>
    <let name="theBaseTSHigh" value="replace($theTSHigh,'^-?([^+-]+)([+-].*)?','$1')"/>
    <let name="theCenturyHigh" value="if (substring($theBaseTSHigh,1,2) castable as xs:integer) then substring($theBaseTSHigh,1,2) else ()"/>
    <let name="theYearHigh" value="if (substring($theBaseTSHigh,3,2) castable as xs:integer) then substring($theBaseTSHigh,3,2) else ()"/>
    <let name="theMonthHigh" value="if (substring($theBaseTSHigh,5,2) castable as xs:integer) then substring($theBaseTSHigh,5,2) else ()"/>
    <let name="theDayHigh" value="if (substring($theBaseTSHigh,7,2) castable as xs:integer) then substring($theBaseTSHigh,7,2) else ()"/>
    <let name="theHourHigh" value="if (substring($theBaseTSHigh,9,2) castable as xs:integer) then substring($theBaseTSHigh,9,2) else ()"/>
    <let name="theMinuteHigh" value="if (substring($theBaseTSHigh,11,2) castable as xs:integer) then substring($theBaseTSHigh,11,2) else ()"/>
    <let name="theSecondHigh" value="if (substring($theBaseTSHigh,13,2) castable as xs:integer) then substring($theBaseTSHigh,13,2) else ()"/>
    <let name="theSubSecondHigh" value="if (substring($theBaseTSHigh,16) castable as xs:integer) then substring($theBaseTSHigh,15) else ()"/>
    <let name="cCenturyHigh" value="if (empty($theCenturyHigh)) then '00' else $theCenturyHigh"/>
    <let name="cYearHigh" value="if (empty($theYearHigh)) then '00' else $theYearHigh"/>
    <let name="cMonthHigh" value="if (empty($theMonthHigh)) then '01' else $theMonthHigh"/>
    <let name="cDayHigh" value="if (empty($theDayHigh)) then '01' else $theDayHigh"/>
    <let name="cHourHigh" value="if (empty($theHourHigh)) then '00' else $theHourHigh"/>
    <let name="cMinuteHigh" value="if (empty($theMinuteHigh)) then '00' else $theMinuteHigh"/>
    <let name="cSecondHigh" value="if (empty($theSecondHigh)) then '00' else $theSecondHigh"/>
    <let name="cTZHigh" value="string-join(($theTZhHigh,$theTZmHigh),':')"/>
    <let name="theTSStringHigh" value="string-join(($theBCHigh,$theCenturyHigh,$theYearHigh,$theMonthHigh,$theDayHigh,$theHourHigh,$theMinuteHigh,$theSecondHigh,$theSubSecondHigh,$theTZHigh),'')"/>
    <let name="theHighDateTime" value="concat($theBCHigh,$cCenturyHigh,$cYearHigh,'-',$cMonthHigh,'-',$cDayHigh,'T',$cHourHigh,':',$cMinuteHigh,':',$cSecondHigh,$theSubSecondHigh,$cTZHigh)"/>
    <assert test="empty($theTSHigh) or ($theTSHigh=$theTSStringHigh and $theHighDateTime castable as xs:dateTime)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-9-IVL_TS: <value-of select="local-name()"/>/high "<value-of select="$theTSHigh"/>" is not a valid timestamp.</assert>
    <assert role="error" test="empty($theTSLow) or empty($theTSHigh) or not($theLowDateTime castable as xs:dateTime) or not($theHighDateTime castable as xs:dateTime) or xs:dateTime($theLowDateTime) le xs:dateTime($theHighDateTime)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS">dtr1-7-IVL_TS: low/@value (<value-of select="$theTSLow"/>) must be before high/@value (<value-of select="$theTSHigh"/>)</assert>
</rule>
        <rule abstract="true" id="IVL_TS.CH.TZ">
    <extends rule="IVL_TS"/>
    <assert role="error" test="not(@value) or (matches(@value,'^[0-9]{4}$|^[0-9]{6}$|^[0-9]{8}$') or contains(@value,'+') or contains(@value,'-'))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.CH.TZ">dtr1-1-IVL_TS.CH.TZ: time value SHALL include a time zone if more precise than to the day</assert>
    <assert role="error" test="not(hl7:low/@value) or (matches(hl7:low/@value,'^[0-9]{4}$|^[0-9]{6}$|^[0-9]{8}$') or contains(hl7:low/@value,'+') or contains(hl7:low/@value,'-'))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.CH.TZ">dtr1-2-IVL_TS.CH.TZ: time low value SHALL include a time zone if more precise than to the day</assert>
    <assert role="error" test="not(hl7:center/@value) or (matches(hl7:center/@value,'^[0-9]{4}$|^[0-9]{6}$|^[0-9]{8}$') or contains(hl7:center/@value,'+') or contains(hl7:center/@value,'-'))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.CH.TZ">dtr1-3-IVL_TS.CH.TZ: time center value SHALL include a time zone if more precise than to the day</assert>
    <assert role="error" test="not(hl7:high/@value) or (matches(hl7:high/@value,'^[0-9]{4}$|^[0-9]{6}$|^[0-9]{8}$') or contains(hl7:high/@value,'+') or contains(hl7:high/@value,'-'))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.CH.TZ">dtr1-4-IVL_TS.CH.TZ: time high value SHALL include a time zone if more precise than to the day</assert>
</rule>
        <rule abstract="true" id="IVL_TS.EPSOS.TZ">
    <extends rule="IVL_TS"/>
    <assert role="error" test="not(@value) or matches(@value,'^[0-9]{8}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-1-IVL_TS.EPSOS.TZ: time SHALL be precise to the day</assert>
    <assert role="warning" test="not(@value) or matches(@value,'^[0-9]{14}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-2-IVL_TS.EPSOS.TZ: time SHOULD be precise to the second</assert>
    <assert role="error" test="not(matches(@value,'^[0-9]{10}')) or contains(@value,'+') or contains(@value,'-')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-3-IVL_TS.EPSOS.TZ: time SHALL include a time zone if more precise than to the day</assert>
    <assert role="error" test="not(hl7:low/@value) or hl7:low[matches(@value,'^[0-9]{8}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-4-IVL_TS.EPSOS.TZ: low boundary SHALL be precise to the day</assert>
    <assert role="warning" test="not(hl7:low/@value) or hl7:low[matches(@value,'^[0-9]{14}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-5-IVL_TS.EPSOS.TZ: low boundary SHOULD be precise to the second</assert>
    <assert role="error" test="not(hl7:low[matches(@value,'^[0-9]{10}')]) or hl7:low[contains(@value,'+') or contains(@value,'-')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-6-IVL_TS.EPSOS.TZ: low boundary SHALL include a time zone if more precise than to the day</assert>
    <assert role="error" test="not(hl7:center/@value) or hl7:center[matches(@value,'^[0-9]{8}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-7-IVL_TS.EPSOS.TZ: center value SHALL be precise to the day</assert>
    <assert role="warning" test="not(hl7:center/@value) or hl7:center[matches(@value,'^[0-9]{14}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-8-IVL_TS.EPSOS.TZ: center value SHOULD be precise to the second</assert>
    <assert role="error" test="not(hl7:center[matches(@value,'^[0-9]{10}')]) or hl7:center[contains(@value,'+') or contains(@value,'-')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-9-IVL_TS.EPSOS.TZ: center value SHALL include a time zone if more precise than to the day</assert>
    <assert role="error" test="not(hl7:high/@value) or hl7:high[matches(@value,'^[0-9]{8}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-10-IVL_TS.EPSOS.TZ: high boundary SHALL be precise to the day</assert>
    <assert role="warning" test="not(hl7:high/@value) or hl7:high[matches(@value,'^[0-9]{14}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-11-IVL_TS.EPSOS.TZ: high boundary SHOULD be precise to the second</assert>
    <assert role="error" test="not(hl7:high[matches(@value,'^[0-9]{10}')]) or hl7:high[contains(@value,'+') or contains(@value,'-')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ">dtr1-12-IVL_TS.EPSOS.TZ: high boundary SHALL include a time zone if more precise than to the day</assert>
</rule>
        <rule abstract="true" id="IVL_TS.EPSOS.TZ.OPT">
    <extends rule="IVL_TS"/>
    <assert role="error" test="not(@value) or matches(@value,'^[0-9]{4}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ.OPT">dtr1-1-IVL_TS.EPSOS.TZ.OPT.TZ: time SHALL be precise to at least the year</assert>
    <assert role="warning" test="not(@value) or matches(@value,'^[0-9]{8}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ.OPT">dtr1-2-IVL_TS.EPSOS.TZ.OPT.TZ: time SHOULD be precise to the day</assert>
    
    
    <assert role="error" test="not(hl7:low/@value) or hl7:low[matches(@value,'^[0-9]{4}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ.OPT">dtr1-4-IVL_TS.EPSOS.TZ.OPT: low boundary SHALL be precise to at least the year</assert>
    <assert role="warning" test="not(hl7:low/@value) or hl7:low[matches(@value,'^[0-9]{8}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ.OPT">dtr1-5-IVL_TS.EPSOS.TZ.OPT: low boundary SHOULD be precise to the day</assert>
    
    
    <assert role="error" test="not(hl7:center/@value) or hl7:center[matches(@value,'^[0-9]{4}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ.OPT">dtr1-7-IVL_TS.EPSOS.TZ.OPT: center value SHALL be precise to at least the year</assert>
    <assert role="warning" test="not(hl7:center/@value) or hl7:center[matches(@value,'^[0-9]{8}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ.OPT">dtr1-8-IVL_TS.EPSOS.TZ.OPT: center value SHOULD be precise to the day</assert>
    
    
    <assert role="error" test="not(hl7:high/@value) or hl7:high[matches(@value,'^[0-9]{4}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ.OPT">dtr1-10-IVL_TS.EPSOS.TZ.OPT: high boundary SHALL be precise to at least the year</assert>
    <assert role="warning" test="not(hl7:high/@value) or hl7:high[matches(@value,'^[0-9]{8}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.EPSOS.TZ.OPT">dtr1-11-IVL_TS.EPSOS.TZ.OPT: high boundary SHOULD be precise to the day</assert>
    
    
</rule>
        <rule abstract="true" id="IVL_TS.IPS.TZ">
    <extends rule="IVL_TS"/>
    <assert role="error" test="not(@value) or matches(@value,'^[0-9]{8}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-1-IVL_TS.IPS.TZ: time SHALL be precise to the day</assert>
    <assert role="warning" test="not(@value) or matches(@value,'^[0-9]{14}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-2-IVL_TS.IPS.TZ: time SHOULD be precise to the second</assert>
    <assert role="error" test="not(matches(@value,'^[0-9]{10}')) or contains(@value,'+') or contains(@value,'-')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-3-IVL_TS.IPS.TZ: time SHALL include a time zone if more precise than to the day</assert>
    <assert role="error" test="not(hl7:low/@value) or hl7:low[matches(@value,'^[0-9]{8}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-4-IVL_TS.IPS.TZ: low boundary SHALL be precise to the day</assert>
    <assert role="warning" test="not(hl7:low/@value) or hl7:low[matches(@value,'^[0-9]{14}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-5-IVL_TS.IPS.TZ: low boundary SHOULD be precise to the second</assert>
    <assert role="error" test="not(hl7:low[matches(@value,'^[0-9]{10}')]) or hl7:low[contains(@value,'+') or contains(@value,'-')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-6-IVL_TS.IPS.TZ: low boundary SHALL include a time zone if more precise than to the day</assert>
    <assert role="error" test="not(hl7:center/@value) or hl7:center[matches(@value,'^[0-9]{8}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-7-IVL_TS.IPS.TZ: center value SHALL be precise to the day</assert>
    <assert role="warning" test="not(hl7:center/@value) or hl7:center[matches(@value,'^[0-9]{14}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-8-IVL_TS.IPS.TZ: center value SHOULD be precise to the second</assert>
    <assert role="error" test="not(hl7:center[matches(@value,'^[0-9]{10}')]) or hl7:center[contains(@value,'+') or contains(@value,'-')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-9-IVL_TS.IPS.TZ: center value SHALL include a time zone if more precise than to the day</assert>
    <assert role="error" test="not(hl7:high/@value) or hl7:high[matches(@value,'^[0-9]{8}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-10-IVL_TS.IPS.TZ: high boundary SHALL be precise to the day</assert>
    <assert role="warning" test="not(hl7:high/@value) or hl7:high[matches(@value,'^[0-9]{14}')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-11-IVL_TS.IPS.TZ: high boundary SHOULD be precise to the second</assert>
    <assert role="error" test="not(hl7:high[matches(@value,'^[0-9]{10}')]) or hl7:high[contains(@value,'+') or contains(@value,'-')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVL_TS.IPS.TZ">dtr1-12-IVL_TS.IPS.TZ: high boundary SHALL include a time zone if more precise than to the day</assert>
</rule>
        <rule abstract="true" id="IVXB_INT">
    <extends rule="INT"/>
    <assert role="error" test="not(@nullFlavor and @inclusive) or @inclusive = 'true'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVXB_INT">dtr1-1-IVXB_INT: not inclusive if null</assert>
</rule>
        <rule abstract="true" id="IVXB_MO">
    <extends rule="MO"/>
    <assert role="error" test="not(@nullFlavor and @inclusive) or @inclusive = 'true'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVXB_MO">dtr1-1-IVXB_MO: not inclusive if null</assert>
</rule>
        <rule abstract="true" id="IVXB_PQ">
    <extends rule="PQ"/>
    <assert role="error" test="not(@nullFlavor and @inclusive) or @inclusive = 'true'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVXB_PQ">dtr1-1-IVXB_PQ: not inclusive if null</assert>
</rule>
        <rule abstract="true" id="IVXB_REAL">
    <extends rule="REAL"/>
    <assert role="error" test="not(@nullFlavor and @inclusive) or @inclusive = 'true'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVXB_REAL">dtr1-1-IVXB_REAL: not inclusive if null</assert>
</rule>
        <rule abstract="true" id="IVXB_TS">
    <extends rule="TS"/>
    <assert role="error" test="not(@nullFlavor and @inclusive) or @inclusive = 'true'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_IVXB_TS">dtr1-1-IVXB_TS: not inclusive if null</assert>
</rule>
        <rule abstract="true" id="list_int" see="https://art-decor.org/mediawiki/index.php?title=DTr1_list_int">
    <extends rule="ANY"/>
</rule>
        <rule abstract="true" id="MO">
    <extends rule="QTY"/>
    <assert role="error" test="(@nullFlavor or (@value and @currency) or *) and not(@nullFlavor and @value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_MO">dtr1-1-MO: null or value or child element in case of extension</assert>
</rule>
        <rule abstract="true" id="ON">
    <extends rule="EN"/>
    <assert role="error" test="count(hl7:family)=0 and count(hl7:given)=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ON">dtr1-1-ON: no parts may be person name type particles</assert>
    <assert role="error" test="not(*)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ON">dtr1-2-ON: organization names SHALL be element content</assert>
</rule>
        <rule abstract="true" id="PIVL_TS">
    <extends rule="SXCM_TS"/>
    <assert role="error" test="count(hl7:*[self::hl7:phase or self::hl7:period][@updateMode])=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PIVL_TS">dtr1-1-PIVL_TS: Datatype PIVL_TS: no updateMode on PIVL attributes</assert>
    <assert role="error" test="descendant-or-self::hl7:*[(@nullFlavor and not(@value|@unit|*)) or (not(@nullFlavor) and (@value|@unit|*))]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PIVL_TS">dtr1-2-PIVL_TS: null violation. Cannot have @nullFlavor and @value or child elements, or the other way round</assert>
    <assert role="error" test="         not(*) or         self::hl7:*[@nullFlavor] or         self::hl7:*[not(@nullFlavor) and @value and not(*)] or         self::hl7:*[not(@nullFlavor) and not(@value)]/*[@nullFlavor] or         self::hl7:*[not(@nullFlavor) and not(@value)]/*[not(@nullFlavor) and not(hl7:center and (hl7:low|hl7:high|hl7:width))] or         self::hl7:*[not(@nullFlavor) and not(@value)]/*[not(@nullFlavor) and not(hl7:center) and not(hl7:width and (hl7:low|hl7:high))]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PIVL_TS">dtr1-3-PIVL_TS: co-occurence violation. Cannot have @value and other child elements, or missing @value and child elements with data, or center element with other elements, or width element
        with both low and high elements</assert>

    
    <assert role="error" test="not(hl7:period[string-length(substring-after(@value,'.')) &gt; 4])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PIVL_TS">dtr1-5-PIVL_TS: period/@value must be rounded to 4 digits or less</assert>

    
    <assert role="error" test="not(hl7:width) or hl7:width[not(@unit)] or hl7:width[@value and @unit]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PIVL_TS">dtr1-6-PIVL_TS: width element: no unit without value</assert>
    <assert role="error" test="not(hl7:width/hl7:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PIVL_TS">dtr1-7-PIVL_TS: width element: no translation</assert>
</rule>
        <rule abstract="true" id="PN">
    <extends rule="EN"/>
    <assert role="error" test="not(*[tokenize(@qualifier,'\s')='LS'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN">dtr1-1-PN: Person names SHALL NOT contain a name part qualified with 'LS' (Legal status for organizations)</assert>
</rule>
        <rule abstract="true" id="PN.CA">
    <extends rule="PN"/>
    <assert role="error" test="not(hl7:given) or hl7:given/@qualifier" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.CA">dtr1-1-PN.CA: given/@qualifier property is required</assert>
    <assert role="error" test="not(hl7:given) or hl7:given[@qualifier='IN']" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.CA">dtr1-2-PN.CA: at present, the only value for name/given/@qualifier is IN (initial), indicating that the name part is just an initial</assert>
    <assert role="error" test="@nullFlavor or count(* except (hl7:family | hl7:given | hl7:prefix | hl7:suffix)) = 0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.CA">dtr1-3-PN.CA: supported name parts (part types) are family, given, prefix, suffix</assert>
    <assert role="error" test="@nullFlavor or count(hl7:family) = 1" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.CA">dtr1-4-PN.CA: Exactly one [1..1] name/family part SHALL be present</assert>
    <assert role="error" test="@nullFlavor or count(hl7:given) &gt;= 1" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.CA">dtr1-5-PN.CA: One or more  [1..*] name/given parts SHALL be present</assert>
    <assert role="error" test="@nullFlavor or count(hl7:prefix) &lt;= 1" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.CA">dtr1-6-PN.CA: Zero or 1 [0..1] name/prefix name parts may be provided</assert>
    <assert role="error" test="@nullFlavor or count(hl7:suffix) &lt;= 1" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.CA">dtr1-7-PN.CA: Zero or 1 [0..1] name/suffix name parts may be provided</assert>
    <assert role="error" test="@nullFlavor or count(*) &lt;= 7" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.CA">dtr1-8-PN.CA: At most seven name parts may be present; since a family name part and at least one given name are mandatory, the cardinality for name parts is [2..7]</assert>
    <assert role="error" test="@nullFlavor or @use = ('L', 'P', 'ASGN', 'C', 'HC')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.CA">dtr1-9-AD.CA: @use must be drawn from 'L', 'P', 'ASGN', 'C', 'HC'</assert>
</rule>
        <rule abstract="true" id="PN.NL">
    <extends rule="PN"/>
    <assert role="error" test="not(*[tokenize(@qualifier,'\s')='LS'])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.NL">dtr1-1-PN: Person names SHALL NOT contain a name part qualified with 'LS' (Legal status for organizations)</assert>
    <assert role="error" test="not(hl7:given[contains(@qualifier,'IN')]) or hl7:given[contains(@qualifier,'IN') and not(starts-with(text(),'.')) and contains(text(),'.') and ends-with(text(),'.')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.NL">Datatype PN: als given/@qualifier 'IN' bevat dan moeten er initialen gescheiden en gevolgd door een punt in het element given staan.</assert>
    <assert role="error" test="not(hl7:given[contains(@qualifier,'IN') and contains(@qualifier,'CL')])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.NL">Datatype PN: given/@qualifier 'IN' en 'CL' gaan niet samen. Initalen zijn geen roepnaam</assert>
    <assert role="error" test="not(hl7:given[contains(@qualifier,'CL') and contains(text(),'.')])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.NL">Datatype PN: als given/@qualifier 'CL' bevat dan moeten er voornamen in dit element staan. Voornamen hebben geen puntjes.</assert>
    <report role="warning" test="hl7:prefix[@qualifier='VV' and not(ends-with(text(),' '))]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.NL">Datatype PN: als er een spatie tussen een voorvoegsel en de bijbehorende achternaam hoort, moet het prefix element met qualifier=VV ook eindigen met een spatie.</report>
    
    
    <report role="warning" test="hl7:family[substring(.,1,4)='van '] or hl7:family[substring(.,1,3)=('de ','in ')]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PN.NL">Datatype PN: voorvoegsels moeten in het prefix element worden gevoerd, tenzij het bronsysteem voorvoegsels en achternaam niet gescheiden vastlegt.</report>
</rule>
        <rule abstract="true" id="PQ">
    <extends rule="QTY"/>
    <assert role="error" test="(@nullFlavor or @value or *) and not(@nullFlavor and @value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PQ">dtr1-1-PQ: null or value or child element in case of extension</assert>
    
    <let name="translations" value=".//hl7:translation/concat(@value,@code,@codeSystem)"/>
    <assert test="count($translations)=count(distinct-values($translations))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PQ">dtr1-3-PQ: [RIM-002] translations SHALL be distinct</assert>
</rule>
        <rule abstract="true" id="PQR">
    <extends rule="CV"/>
    <assert role="error" test="not(@nullFlavor and @value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_PQR">dtr1-1-PQR: not null and value</assert>
</rule>
        <rule abstract="true" id="QTY">
    <extends rule="ANY"/>
    <assert role="error" test="not(hl7:uncertainty/@expression) and not(hl7:uncertainty/@uncertainty) and not(hl7:uncertainty/@originalText)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_QTY">dtr1-1-QTY: no uncertainty</assert>
    <assert role="error" test="count(*[self::hl7:originalText or self::hl7:uncertainty or self::hl7:expression][@validTimeLow or @validTimeHigh or @updateMode])=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_QTY">dtr1-2-QTY: no history or updateMode</assert>
    
    
    <let name="name" value="local-name()"/>
    <let name="set_other" value="preceding-sibling::*[local-name()=$name] | following-sibling::*[local-name()=$name]"/>
    <assert role="error" test="not(@nullFlavor and $set_other[not(@nullFlavor)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_QTY">dtr1-3-QTY: [RIM-001] <value-of select="$name"/> SHALL NOT have nullFlavor, if there are other <value-of select="$name"/> elements which are not null</assert>
    <let name="value" value="@value"/>
    <let name="unit" value="@unit"/>
    <assert role="error" test="not($set_other[@value=$value][@unit=$unit])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_QTY">dtr1-4-QTY: [RIM-002] <value-of select="$name"/> (@value=<value-of select="$value"/> @unit=<value-of select="$unit"/>) SHALL be distinct</assert>
</rule>
        <rule abstract="true" id="REAL">
    <extends rule="QTY"/>
    <assert role="error" test="(@nullFlavor or @value or *) and not(@nullFlavor and @value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_REAL">dtr1-1-REAL: null or value or child element in case of extension</assert>
</rule>
        <rule abstract="true" id="REAL.NONNEG">
    <extends rule="REAL"/>
    <assert role="error" test="@nullFlavor or @value &gt;= 0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_REAL.NONNEG">dtr1-1-REAL.NONNEG: null or value &gt;= 0</assert>
</rule>
        <rule abstract="true" id="REAL.POS">
    <extends rule="REAL"/>
    <assert role="error" test="@nullFlavor or @value &gt; 0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_REAL.POS">dtr1-1-REAL.POS: null or value &gt; 0</assert>
</rule>
        <rule abstract="true" id="RTO" see="https://art-decor.org/mediawiki/index.php?title=DTr1_RTO">
    <extends rule="RTO_QTY_QTY"/>
</rule>
        <rule abstract="true" id="RTO_PQ_PQ">
    <extends rule="PQ"/>
    <assert role="error" test="@nullFlavor or hl7:numerator[not(@nullFlavor)] or hl7:denominator[not(@nullFlavor)]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_RTO_PQ_PQ">dtr1-1-RTO_PQ_PQ: numerator or denominator required</assert>
    <assert role="error" test="not(hl7:numerator[@updateMode] or hl7:denominator[@updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_RTO_PQ_PQ">dtr1-2-RTO_PQ_PQ: no updateMode on numerator or denominator</assert>
    <assert role="error" test="not(hl7:uncertainty)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_RTO_PQ_PQ">dtr1-3-RTO_PQ_PQ: no uncertainty</assert>
    <assert role="error" test="not(hl7:denominator/@value='0')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_RTO_PQ_PQ">dtr1-4-RTO_PQ_PQ: The denominator must not be zero.</assert>
</rule>
        <rule abstract="true" id="RTO_QTY_QTY">
    <extends rule="QTY"/>
    <assert role="error" test="@nullFlavor or (*:numerator[not(@nullFlavor)] and *:denominator[not(@nullFlavor)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_RTO_QTY_QTY">dtr1-1-RTO_QTY_QTY: numerator and denominator required</assert>
    <assert role="error" test="not(*:numerator[@updateMode] or *:denominator[@updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_RTO_QTY_QTY">dtr1-2-RTO_QTY_QTY: no updateMode on numerator or denominator</assert>
    <assert role="error" test="not(*:uncertainty)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_RTO_QTY_QTY">dtr1-3-RTO_QTY_QTY: no uncertainty</assert>
    <assert role="error" test="not(*:denominator/@value='0')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_RTO_QTY_QTY">dtr1-4-RTO_QTY_QTY: The denominator must not be zero.</assert>
</rule>
        <rule abstract="true" id="SC">
    <extends rule="ST"/>
    
    
    <assert role="error" test="@codeSystem or not(@code)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SC">dtr1-2-SC: code requires codeSystem</assert>
    <assert role="error" test="@codeSystem or not(@codeSystemName)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SC">dtr1-3-SC: codeSystemName only if codeSystem</assert>
    <assert role="error" test="@codeSystem or not(@codeSystemVersion)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SC">dtr1-4-SC: codeSystemVersion only if codeSystem</assert>
    <assert role="error" test="@code or not(@displayName)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SC">dtr1-5-SC: displayName only if code</assert>
    <assert role="error" test="not(@nullFlavor) or (@nullFlavor and not(@code))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SC">dtr1-6-SC: no code if null</assert>
    <assert role="error" test="not(@nullFlavor) or (@nullFlavor and not(@displayName))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SC">dtr1-7-SC: no displayName if null</assert>
</rule>
        <rule abstract="true" id="SD.TEXT" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SD.TEXT">
    
    <extends rule="ANY"/>
</rule>
        <rule abstract="true" id="SLIST" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SLIST">
    <extends rule="ANY"/>
</rule>
        <rule abstract="true" id="SLIST_PQ" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SLIST_PQ">
    <extends rule="SLIST"/>
</rule>
        <rule abstract="true" id="SLIST_TS" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SLIST_TS">
    <extends rule="SLIST"/>
</rule>
        <rule xmlns:xs="http://www.w3.org/2001/XMLSchema" abstract="true" id="ST">
    <extends rule="ED"/>

    
    
    
    <assert role="error" test="not(hl7:reference)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ST">dtr1-3-ST: no reference</assert>
    <assert role="error" test="not(hl7:thumbnail)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ST">dtr1-4-ST: no thumbnail</assert>
    <assert role="error" test="not(@representation) or @representation='TXT'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ST">dtr1-5-ST: @representation SHALL be 'TXT' if present.</assert>
    <assert role="error" test="not(@mediaType) or @mediaType='text/plain'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ST">dtr1-6-ST: @mediaType SHALL be 'text/plain' if present.</assert>
    <assert role="error" test="not(@compression)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ST">dtr1-7-ST: @compression SHALL NOT be used on ST.</assert>
    <assert role="error" test="not(@integrityCheck)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ST">dtr1-8-ST: @integrityCheck SHALL NOT be used on ST.</assert>
    
    <assert role="error" test="not(@integrityCheckAlgorithm) or @integrityCheckAlgorithm = 'SHA-1'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_ST">dtr1-9-ST: @integrityCheckAlgorithm SHALL NOT be used on ST.</assert>
</rule>
        <rule abstract="true" id="SXCM_INT">
    <extends rule="INT"/>
    <assert role="error" test="not(@nullFlavor and @operator) or @operator = 'I'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXCM_INT">dtr1-1-SXCM_INT: not operator if null</assert>
</rule>
        <rule abstract="true" id="SXCM_MO">
    <extends rule="MO"/>
    <assert role="error" test="not(@nullFlavor and @operator) or @operator = 'I'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXCM_MO">dtr1-1-SXCM_MO: not operator if null</assert>
</rule>
        <rule abstract="true" id="SXCM_PQ">
    <extends rule="PQ"/>
    <assert role="error" test="not(@nullFlavor and @operator) or @operator = 'I'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXCM_PQ">dtr1-1-SXCM_PQ: not operator if null</assert>
</rule>
        <rule abstract="true" id="SXCM_REAL">
    <extends rule="REAL"/>
    <assert role="error" test="not(@nullFlavor and @operator) or @operator = 'I'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXCM_REAL">dtr1-1-SXCM_REAL: not inclusive if null</assert>
</rule>
        <rule abstract="true" id="SXCM_TS">
    <extends rule="TS"/>
    <assert role="error" test="not(@nullFlavor and @operator) or @operator = 'I'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXCM_TS">dtr1-1-SXCM_TS: not operator if null</assert>
</rule>
        <rule abstract="true" id="SXPR_TS">
    <extends rule="SXCM_TS"/>
    <assert role="error" test="@nullFlavor or count(hl7:comp) &gt;= 2" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-1-SXPR_TS: null or at least two components</assert>
    <assert role="error" test="not(descendant::hl7:comp[(@xsi:type='SXPR_TS' or ends-with(@xsi:type,':SXPR_TS'))]) or          descendant::hl7:comp[(@xsi:type='SXPR_TS' or ends-with(@xsi:type,':SXPR_TS')) and @nullFlavor] or          descendant::hl7:comp[(@xsi:type='SXPR_TS' or ends-with(@xsi:type,':SXPR_TS')) and count(hl7:comp) &gt;= 2]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-2-SXPR_TS: null or at least two components</assert>
    <assert role="error" test="count(descendant::*[@updateMode])=0" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-3-SXPR_TS: no updateMode on components or other subelements</assert>

    
    <assert role="error" test="not(descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS'))]) or         (descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')) and @nullFlavor and not(@value|@unit|*)]) or          (descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')) and not(@nullFlavor) and (@value|@unit|*)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-4-SXPR_TS: null violation. Cannot have @nullFlavor and @value or child elements, or the other way around</assert>
    <assert role="error" test="         not(descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS'))]/*) or         descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')) and @nullFlavor] or         descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')) and not(@nullFlavor) and @value and not(*)] or         descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')) and not(@nullFlavor) and not(@value)]/*[@nullFlavor] or         descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')) and not(@nullFlavor) and not(@value)]/*[not(@nullFlavor) and not(*:center and (*:low|*:high|*:width))] or         descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')) and not(@nullFlavor) and not(@value)]/*[not(@nullFlavor) and not(*:center) and not(*:width and (*:low|*:high))]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-5-SXPR_TS: co-occurence violation. Cannot have @value and other child elements, or missing @value and child elements with data, or center element with other elements, or width element with both low and high elements</assert>
    <assert role="error" test="         not(descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')) and *:low/@value and *:high/@value]) or          descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS')) and string-length(*:low/@value) = string-length(*:high/@value)]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-6-SXPR_TS: comp/low/@value must have the same precision as comp/high/@value</assert>

    
    <assert role="error" test="not(descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS'))]/*:width) or         descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS'))]/*:width[not(@unit)] or         descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS'))]/*:width[@value and @unit]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-7-SXPR_TS: width element: no unit without value</assert>
    <assert role="error" test="not(descendant::hl7:comp[(@xsi:type='IVL_TS' or ends-with(@xsi:type,':IVL_TS'))]/*:width/*:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-8-SXPR_TS: width element: no translation</assert>

    
    <assert role="error" test="not(descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]) or         descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))][*:period[@nullFlavor][not(@value)] | *:frequency] or         descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))][*:period[not(@nullFlavor)][@value] | *:frequency]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-9-SXPR_TS: null or value in period</assert>
    <assert role="error" test="not(descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]) or         not(descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]/*:period[@nullFlavor]/*:translation) or         descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]/*:period[not(@nullFlavor)]/*:translation" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-10-SXPR_TS: no translation if null in period</assert>
    <assert role="error" test="not(descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]) or         (descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS')) and @nullFlavor and not(@value|@unit|*)]) or          (descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS')) and not(@nullFlavor) and (@value|@unit|*)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-11-SXPR_TS: null violation. Cannot have @nullFlavor and @value or child elements, or the other way around</assert>
    <assert role="error" test="         not(descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]/*) or         descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS')) and @nullFlavor] or         descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS')) and not(@nullFlavor) and @value and not(*)] or         descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS')) and not(@nullFlavor) and not(@value)]/*[@nullFlavor] or         descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS')) and not(@nullFlavor) and not(@value)]/*[not(@nullFlavor) and not(*:center and (*:low|*:high|*:width))] or         descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS')) and not(@nullFlavor) and not(@value)]/*[not(@nullFlavor) and not(*:center) and not(*:width and (*:low|*:high))]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-12-SXPR_TS: co-occurence violation. Cannot have @value and other child elements, or missing @value and child elements with data, or center element with other elements, or width element with both low and high elements</assert>
    <assert role="error" test="         not(descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS')) and *:low/@value and *:high/@value]) or          descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS')) and string-length(*:low/@value) = string-length(*:high/@value)]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-13-SXPR_TS: comp/low/@value must have the same precision as comp/high/@value</assert>
    <assert role="error" test="not(descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]/*:period[string-length(substring-after(@value,'.')) &gt; 4])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-14-SXPR_TS: value in period/@value SHALL be rounded to 4 decimals or less</assert>

    
    <assert role="error" test="not(descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]/*:width) or         descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]/*:width[not(@unit)] or         descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]/*:width[@value and @unit]" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-15-SXPR_TS: width element: no unit without value</assert>
    <assert role="error" test="not(descendant::hl7:comp[(@xsi:type='PIVL_TS' or ends-with(@xsi:type,':PIVL_TS'))]/*:width/*:translation)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_SXPR_TS">dtr1-16-SXPR_TS: width element: no translation</assert>

    
</rule>
        <rule abstract="true" id="TEL">
    <extends rule="URL"/>
    <assert role="error" test="not(@nullFlavor and hl7:useablePeriod)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL">dtr1-1-TEL: not null and useablePeriod</assert>
</rule>
        <rule abstract="true" id="TEL.AT">
    
    <assert role="error" test="@nullFlavor or @value" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL">dtr1-1-URL: elements of type URL SHALL have a @value attribute.</assert>
    <assert role="error" test="not(@nullFlavor and hl7:useablePeriod)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL">dtr1-1-TEL: not null and useablePeriod</assert>
    <let name="urlScheme" value="substring-before(@value,':')"/>
    <report role="warning" test="not(not(@value) or $urlScheme = ('fax', 'file', 'ftp', 'mllp', 'http', 'mailto', 'me', 'modem', 'nfs', 'tel', 'telnet'))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.AT">dtr1-1-TEL.AT: ungültiges URL-Schema <value-of select="$urlScheme"/>
    </report>
    <report role="warning" test="not(not(@use) or translate(concat(' ', @use, ' '), '(H|HP|HV|WP|AS|EC|MC|PG|TMP) ', '') = '')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.AT">dtr1-2-TEL.AT: @use MUSS aus den Werten 'H', 'HP', 'HV', 'WP', 'AS', 'EC', 'MC', 'PG', 'TMP' gewählt werden.</report>
    <report role="warning" test="not(not($urlScheme=('tel','fax')) or matches(@value,'[a-z\d+\.-]+:\+{0,1}[0-9\.\-\(\)]+$'))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.AT">dtr1-3-TEL.AT: Nur Ziffernzeichen 0 bis 9, ggf. mit vorangehendem + sowie als visuelle Separatorzeichen Bindestrich -, Punkt . oder Klammern () sind erlaubt.</report>
</rule>
        <rule abstract="true" id="TEL.CA.EMAIL">
    <extends rule="TEL"/>
    <assert role="error" test="@nullFlavor or not(hl7:useablePeriod)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.CA.EMAIL">dtr1-1-TEL.CA.EMAIL: useablePeriod property is not permitted</assert>
    <assert role="error" test="@nullFlavor or @use" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.CA.EMAIL">dtr1-2-TEL.CA.EMAIL: @use is required</assert>
    <assert role="error" test="@nullFlavor or (translate(concat(' ', @use, ' '), '(EC|H|MC|PG|TMP|WP) ', '') = '' and (count(tokenize (@use, ' '))&lt;=3))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.CA.EMAIL">dtr1-3-TEL.CA.EMAIL: @use may have up to three codes and must be drawn from 'EC', 'H', 'MC', 'PG', 'TMP', 'WP'</assert>
    <assert role="error" test="@nullFlavor or string-length(@value)&lt;=50" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.CA.EMAIL">dtr1-4-TEL.CA.EMAIL: @value has maximum length of 50 characters</assert>
    <assert role="error" test="@nullFlavor or matches(@value,'^mailto:')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.CA.EMAIL">dtr1-5-TEL.CA.EMAIL: telecommunication scheme supported is "mailto:"</assert>
</rule>
        <rule abstract="true" id="TEL.CA.PHONE">
    <extends rule="TEL"/>
    <assert role="error" test="@nullFlavor or not(hl7:useablePeriod)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.CA.PHONE">dtr1-1-TEL.CA.PHONE: useablePeriod property is not permitted</assert>
    <assert role="error" test="@nullFlavor or @use" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.CA.PHONE">dtr1-2-TEL.CA.PHONE: @use is required</assert>
    <assert role="error" test="@nullFlavor or (translate(concat(' ', @use, ' '), '(EC|H|MC|PG|TMP|WP) ', '') = '' and (count(tokenize (@vauselue, ' '))&lt;=3))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.CA.PHONE">dtr1-3-TEL.CA.PHONE: œuse may have up to three codes and must be drawn from 'EC', 'H', 'MC', 'PG', 'TMP', 'WP'</assert>
    <assert role="error" test="@nullFlavor or string-length(@value)&lt;=40" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.CA.PHONE">dtr1-4-TEL.CA.PHONE: @value has maximum length of 40 characters</assert>
    <assert role="error" test="@nullFlavor or matches(@value,'^(fax | tel):')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.CA.PHONE">dtr1-5-TEL.CA.PHONE: telecommunication scheme supported is "fax:" or "tel:"</assert>
</rule>
        <rule abstract="true" id="TEL.EPSOS">
    <extends rule="TEL"/>
    <let name="urlScheme" value="substring-before(@value,':')"/>
    <let name="urlStr" value="substring-after(@value,':')"/>
    <assert test="not($urlScheme=('tel','fax')) or matches($urlStr,'^\+?[0-9()\.-]+$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.EPSOS">dtr1-TEL.EPSOS: Phone and fax numbers SHALL consist of an optional leading + for country code followed by digits 0-9. The only other allowable characters are parentheses (), hyphens - and/or dots. Pattern is '^\+?[0-9()\.-]+$'</assert>
    <assert test="not($urlScheme=('tel','fax')) or matches(replace($urlStr,'[^\d]',''),'[0-9]+')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.EPSOS">dtr2-TEL.EPSOS: Phone and fax numbers SHALL have at least one dialing digit in the phone number after visual separators are removed.</assert>
</rule>
        <rule abstract="true" id="TEL.IPS">
    <extends rule="TEL"/>
    <let name="urlScheme" value="substring-before(@value,':')"/>
    <let name="urlStr" value="substring-after(@value,':')"/>
    <assert test="not($urlScheme=('tel','fax')) or matches($urlStr,'^\+?[0-9()\.-]+$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.IPS">dtr1-TEL.IPS: Phone and fax numbers SHALL consist of an optional leading + for country code followed by digits 0-9. The only other allowable characters are parentheses (), hyphens - and/or dots. Pattern is '^\+?[0-9()\.-]+$'</assert>
    <assert test="not($urlScheme=('tel','fax')) or matches(replace($urlStr,'[^\d]',''),'[0-9]+')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.IPS">dtr2-TEL.IPS: Phone and fax numbers SHALL have at least one dialing digit in the phone number after visual separators are removed.</assert>
</rule>
        <rule abstract="true" id="TEL.NL.EXTENDED">
    <extends rule="URL.NL.EXTENDED"/>
    <assert role="error" test="not(@nullFlavor and hl7:usablePeriod)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TEL.NL.EXTENDED">dtr1-1-TEL.NL.EXTENDED: not null and usablePeriod</assert>
</rule>
        <rule abstract="true" id="thumbnail">
    <extends rule="ED"/>
    <assert role="error" test="not(@integrityCheck) or @integrityCheckAlgorithm" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-2-thumbnail: integrityCheckAlgorithm required if integrityCheck</assert>
    <assert role="error" test="not(@nullFlavor and hl7:reference)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-3-thumbnail: no reference if null</assert>
    <assert role="error" test="not(hl7:thumbnail)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-4-thumbnail: thumbnails do not have thumbnails</assert>
    <assert role="error" test="(@compression and (hl7:reference/@value or (@representation='B64' and text()))) or not(@compression)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-5-thumbnail: compression only on binary</assert>
    <assert role="error" test="not(@value) or (@value and (not(@mediaType) or @mediaType='text/plain'))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-6-thumbnail: value implies mediaType is text/plain</assert>
    <assert role="error" test="not(hl7:reference[@validTimeLow or @validTimeHigh or @updateMode])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-7-thumbnail: no history or updateMode</assert>
    <assert role="error" test="not(@value or xml) or not(@charset)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-8-thumbnail: no charset for value or xml</assert>
    <assert role="error" test="not(@nullFlavor and @mediaType) or @mediaType = 'text/plain'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-10-thumbnail: no mediaType if null</assert>
    <assert role="error" test="not(@nullFlavor and @charset)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-11-thumbnail: no charset if null</assert>
    <assert role="error" test="not(@nullFlavor and @language)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-12-thumbnail: no language if null</assert>
    <assert role="error" test="not(@nullFlavor and @compression)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-13-thumbnail: no compression if null</assert>
    <assert role="error" test="not(@nullFlavor and @integrityCheck)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-14-thumbnail: no integrityCheck if null</assert>
    <assert role="error" test="not(@nullFlavor and @integrityCheckAlgorithm) or @integrityCheckAlgorithm = 'SHA-1'" see="https://art-decor.org/mediawiki/index.php?title=DTr1_thumbnail">dtr1-15-thumbnail: no integrityCheckAlgorithm if null</assert>
</rule>
        <rule abstract="true" id="TN">
    <extends rule="EN"/>
    <assert role="error" test="not(*)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TN">dtr1-1-TN: trivial names SHALL consist of only one name part without any name part type or qualifier</assert>
</rule>
        <rule xmlns:xs="http://www.w3.org/2001/XMLSchema" abstract="true" id="TS">
    <extends rule="QTY"/>
    <assert role="error" test="(@nullFlavor or @value or *) and not(@nullFlavor and @value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS">dtr1-1-TS: null or value or child element in case of extension</assert>
    <let name="theTS" value="@value"/>
    <let name="theBC" value="if (starts-with($theTS,'-')) then '-' else ()"/>
    <let name="theTZ" value="replace($theTS,'^-?[^+-]+([+-]\d{1,4})?$','$1')"/>
    <let name="theTZh" value="if (string-length($theTZ) gt 0) then substring(concat($theTZ, '0000'), 1, 3) else ()"/>
    <let name="theTZm" value="if (string-length($theTZ) gt 0) then substring(concat($theTZ, '0000'), 4, 2) else ()"/>
    <let name="theBaseTS" value="replace($theTS,'^-?([^+-]+)([+-].*)?','$1')"/>
    <let name="theCentury" value="if (substring($theBaseTS,1,2) castable as xs:integer) then substring($theBaseTS,1,2) else ()"/>
    <let name="theYear" value="if (substring($theBaseTS,3,2) castable as xs:integer) then substring($theBaseTS,3,2) else ()"/>
    <let name="theMonth" value="if (substring($theBaseTS,5,2) castable as xs:integer) then substring($theBaseTS,5,2) else ()"/>
    <let name="theDay" value="if (substring($theBaseTS,7,2) castable as xs:integer) then substring($theBaseTS,7,2) else ()"/>
    <let name="theHour" value="if (substring($theBaseTS,9,2) castable as xs:integer) then substring($theBaseTS,9,2) else ()"/>
    <let name="theMinute" value="if (substring($theBaseTS,11,2) castable as xs:integer) then substring($theBaseTS,11,2) else ()"/>
    <let name="theSecond" value="if (substring($theBaseTS,13,2) castable as xs:integer) then substring($theBaseTS,13,2) else ()"/>
    <let name="theSubSecond" value="if (substring($theBaseTS,16) castable as xs:integer) then substring($theBaseTS,15) else ()"/>
    <let name="cCentury" value="if (empty($theCentury)) then '00' else $theCentury"/>
    <let name="cYear" value="if (empty($theYear)) then '00' else $theYear"/>
    <let name="cMonth" value="if (empty($theMonth)) then '01' else $theMonth"/>
    <let name="cDay" value="if (empty($theDay)) then '01' else $theDay"/>
    <let name="cHour" value="if (empty($theHour)) then '00' else $theHour"/>
    <let name="cMinute" value="if (empty($theMinute)) then '00' else $theMinute"/>
    <let name="cSecond" value="if (empty($theSecond)) then '00' else $theSecond"/>
    <let name="cTZ" value="string-join(($theTZh, $theTZm),':')"/>
    <let name="theTSString" value="string-join(($theBC,$theCentury,$theYear,$theMonth,$theDay,$theHour,$theMinute,$theSecond,$theSubSecond,$theTZ),'')"/>
    <let name="theDateTime" value="concat($theBC,$cCentury,$cYear,'-',$cMonth,'-',$cDay,'T',$cHour,':',$cMinute,':',$cSecond,$theSubSecond,$cTZ)"/>
    <assert test="empty($theTS) or ($theTS=$theTSString and $theDateTime castable as xs:dateTime)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS">dtr1-2-TS: <value-of select="local-name()"/> "<value-of select="$theTS"/>" is not a valid timestamp.</assert>
</rule>
        <rule abstract="true" id="TS.AT.TZ">
    <extends rule="TS"/>
    <assert role="error" test="not(@value) or matches(@value,'^[0-9]{8}$') or matches(@value,'^[0-9]{14}[^\.]+')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.AT.TZ">dtr1-1-TS.AT.TZ: time if specified SHALL be precise to the day (YYYYMMDD) or SHALL be precise to the second (YYYYMMDDhhmmss) without milliseconds. Found <value-of select="local-name()"/> "<value-of select="@value"/>"</assert>
    <let name="theTZ" value="replace(@value,'^-?[^+-]+([+-].*)?$','$1')"/>
    <assert role="error" test="not(@value) or matches(@value,'^[0-9]{0,8}$') or (not($theTZ = '' or $theTZ = @value))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.AT.TZ">dtr1-2-TS.AT.TZ: time SHALL include a time zone if more precise to the second (YYYYMMDDhhmmss[+/-]HHMM). Found <value-of select="local-name()"/> "<value-of select="@value"/>"</assert>
</rule>
        <rule abstract="true" id="TS.AT.VAR">
    <extends rule="TS"/>
    <assert role="error" test="not(@value) or matches(@value,'^[0-9]{4}$') or matches(@value,'^[0-9]{6}$') or matches(@value,'^[0-9]{8}$') or matches(@value,'^[0-9]{14}[^\.]+')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.AT.TZ">dtr1-1-TS.AT.TZ: time if specified SHALL be precise to the year (YYYY), to the month (YYYYMM), to the day (YYYYMMDD) or precise to the second (YYYYMMDDhhmmss) without milliseconds. Found <value-of select="local-name()"/> "<value-of select="@value"/>"</assert>
    <let name="theTZ" value="replace(@value,'^-?[^+-]+([+-].*)?$','$1')"/>
    <assert role="error" test="not(@value) or matches(@value,'^[0-9]{0,8}$') or (not($theTZ = '' or $theTZ = @value))" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.AT.TZ">dtr1-2-TS.AT.TZ: time SHALL include a time zone if more precise to the day (YYYYMMDDhhmmss[+/-]HHMM). Found <value-of select="local-name()"/> "<value-of select="@value"/>"</assert>
</rule>
        <rule abstract="true" id="TS.CH.TZ">
    <extends rule="TS"/>
    <assert role="error" test="@nullFlavor or matches(@value,'^[0-9]{4}$|^[0-9]{6}$|^[0-9]{8}$') or contains(@value,'+') or contains(@value,'-')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.CH.TZ">dtr1-1-TS.CH.TZ: time SHALL include a time zone if more precise than to the day</assert>
</rule>
        <rule abstract="true" id="TS.DATE">
    <extends rule="TS"/>
    <assert role="error" test="@nullFlavor or matches(@value, '^[0-9]{4,8}$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.DATE">dtr1-1-TS.DATE: null or date precision of time stamp shall be YYYYMMDD.</assert>
</rule>
        <rule abstract="true" id="TS.DATE.FULL">
    <extends rule="TS"/>
    <assert role="error" test="@nullFlavor or matches(@value, '^[0-9]{8,8}$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.DATE.FULL">dtr1-1-TS.DATE.FULL: null or date precision of time stamp shall be YYYYMMDD.</assert>
</rule>
        <rule abstract="true" id="TS.DATE.MIN">
    <extends rule="TS"/>
    <assert role="error" test="@nullFlavor or matches(@value, '^[0-9]{8,8}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.DATE.MIN">dtr1-1-TS.DATE.MIN: null or date precision of time stamp shall be at least YYYYMMDD.</assert>
</rule>
        <rule abstract="true" id="TS.DATETIME.MIN">
    <extends rule="TS"/>
    <assert role="error" test="@nullFlavor or matches(@value, '^[0-9]{14,14}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.DATETIME.MIN">dtr1-1-TS.DATETIME.MIN: null or date precision of time stamp shall be at least YYYYMMDDhhmmss.</assert>
</rule>
        <rule abstract="true" id="TS.DATETIMETZ.MIN">
    <extends rule="TS"/>
    <assert role="error" test="@nullFlavor or matches(@value, '^[0-9]{14,14}(\.\d*)?[+-]\d{4}$')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.DATETIMETZ.MIN">dtr1-1-TS.DATETIMETZ.MIN: null or date precision of time stamp shall be at least YYYYMMDDhhmmss[+-]nnnn where [+-]nnnn is the timezone.</assert>
</rule>
        <rule abstract="true" id="TS.EPSOS.TZ" see="http://art-decor.org/mediawiki/index.php/DTr1_TS.EPSOS.TZ">
    <extends rule="TS"/>
    <assert role="error" test="not(@value) or matches(@value,'^[0-9]{8}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.EPSOS.TZ">dtr1-1-TS.EPSOS.TZ: time SHALL be precise to the day</assert>
    <assert role="warning" test="not(@value) or matches(@value,'^[0-9]{14}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.EPSOS.TZ">dtr1-2-TS.EPSOS.TZ: time SHOULD be precise to the second</assert>
    <assert role="error" test="not(matches(@value,'^[0-9]{10}')) or contains(@value,'+') or contains(@value,'-')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.EPSOS.TZ">dtr1-3-TS.EPSOS.TZ: time SHALL include a time zone if more precise than to the day</assert>
</rule>
        <rule abstract="true" id="TS.EPSOS.TZ.OPT" see="http://art-decor.org/mediawiki/index.php/DTr1_TS.EPSOS.TZ.OPT">
    <extends rule="TS"/>
    <assert role="error" test="not(@value) or matches(@value,'^[0-9]{4}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.EPSOS.TZ.OPT">dtr1-1-TS.EPSOS.TZ.OPT: time SHALL be precise to at least the year</assert>
    <assert role="warning" test="not(@value) or matches(@value,'^[0-9]{8}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.EPSOS.TZ.OPT">dtr1-2-TS.EPSOS.TZ.OPT: time SHOULD be precise to the day</assert>
</rule>
        <rule abstract="true" id="TS.IPS.TZ" see="http://art-decor.org/mediawiki/index.php/DTr1_TS.IPS.TZ">
    <extends rule="TS"/>
    <assert role="error" test="not(@value) or matches(@value,'^[0-9]{8}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.IPS.TZ">dtr1-1-TS.IPS.TZ: time SHALL be precise to the day</assert>
    <assert role="warning" test="not(@value) or matches(@value,'^[0-9]{14}')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.IPS.TZ">dtr1-2-TS.IPS.TZ: time SHOULD be precise to the second</assert>
    <assert role="error" test="not(matches(@value,'^[0-9]{10}')) or contains(@value,'+') or contains(@value,'-')" see="https://art-decor.org/mediawiki/index.php?title=DTr1_TS.IPS.TZ">dtr1-3-TS.IPS.TZ: time SHALL include a time zone if more precise than to the day</assert>
</rule>
        <rule abstract="true" id="URL">
    <extends rule="ANY"/>
    <assert role="error" test="@nullFlavor or @value" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL">dtr1-1-URL: elements of type URL SHALL have a @value attribute.</assert>
    <assert role="error" test="@nullFlavor or @value=iri-to-uri(@value)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL">dtr1-2-URL: @value must be a valid URI, e.g. '<value-of select="iri-to-uri(@value)"/>'.</assert>
    
    
    
    <let name="name" value="local-name()"/>
    <let name="use" value="@use"/>
    <let name="value" value="@value"/>
    <let name="set_other" value="preceding-sibling::*[local-name()=$name] | following-sibling::*[local-name()=$name]"/>
    <assert role="error" test="not(@nullFlavor and $set_other[not(@nullFlavor)])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL">dtr1-4-URL: [RIM-001] <value-of select="$name"/> SHALL NOT have nullFlavor, if there are other <value-of select="$name"/> elements which are not null</assert>
    <assert role="error" test="not($set_other[@use=$use][@value=$value])" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL">dtr1-5-URL: [RIM-002] <value-of select="$name"/> (<value-of select="$value"/>) SHALL be distinct</assert>
    
    
</rule>
        <rule abstract="true" id="URL.NL.EXTENDED">
    <extends rule="URL"/>
    <let name="urlScheme" value="substring-before(@value,':')"/>
    <let name="urlStr" value="substring-after(@value,':')"/>
    
    
    <assert role="error" test="if ($urlScheme='tel' or $urlScheme='fax') then (         matches($urlStr,'^(\+?([\d()./-]|(%[a-f\d]{2}))+)*(;(phone-context=((\+?([\d()./-]|(%[a-f\d]{2}))+)|(([a-z\d-]|(%[a-f\d]{2}))+(\.([a-z\d-]|(%[a-f\d]{2}))+)*))|(ext=[\d./-]+)|(isub=(([a-z\d();/?:@&amp;=+$,_.!~*''-])|(%[a-f\d]{2}))+)|([a-z\d-]+=([a-z\d\[\]/:&amp;+$_.!~*()-]|(%[a-f\d]{2}))+)))*$')         ) else (1=1)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL.NL.EXTENDED">dtr3-URL.NL.EXTENDED: URIs with URL Scheme <value-of select="$urlScheme"/> MUST comply with RFC 3966</assert>

    
    <assert role="error" test="if ($urlScheme='file') then (         matches($urlStr,'^///{0,2}((((([1-2]\d{0,2})(\.([1-2]\d{0,2})){3})|(([\w-]+\.)+([a-z]+))))|([a-z][:|]))(/(([a-z\d$\.+!*(),?&amp;~_=-])|(%[a-f\d]{2}))*)*$','i')         ) else (1=1)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL.NL.EXTENDED">dtr4-URL.NL.EXTENDED: URIs with URL Scheme <value-of select="$urlScheme"/> MUST comply with RFC 1738.</assert>

    
    <assert role="error" test="if ($urlScheme='nfs') then (         matches($urlStr,'^//((((([1-2]\d{0,2})(\.([1-2]\d{0,2})){3})|(([\w-]+\.)+([a-z]+))))|([a-z][:|]))/?(/(([a-z\d$\.+!*(),?&amp;~_=-])|(%[a-f\d]{2}))*)*$','i')         ) else (1=1)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL.NL.EXTENDED">dtr5-URL.NL.EXTENDED: URIs with URL Scheme <value-of select="$urlScheme"/> MUST comply with RFC 2224.</assert>

    
    
    <assert role="error" test="if ($urlScheme='ftp' or $urlScheme='ftps') then (         matches($urlStr,'^//((([a-z\d$\.+!*(),?&amp;=~_-])|(%[a-f\d]{2}))+(:(([a-z\d$\.+!*(),?&amp;~_=-])|(%[a-f\d]{2}))*)?@)?((([1-2]\d{0,2})(\.([1-2]\d{0,2})){3})|(([\w-]+\.)+(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|[a-z]{2})))(:(([1-9]\d{0,4})|([a-z][\w-]*))?)?(/(([a-z\d$\.+!*(),?&amp;_~=-])|(%[a-f\d]{2}))*)*(;type=[aid])?$','i')         ) else (1=1)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL.NL.EXTENDED">dtr6-URL.NL.EXTENDED: URIs with URL Scheme <value-of select="$urlScheme"/> MUST comply with RFC 1738.</assert>

    
    
    <assert role="error" test="if ($urlScheme='http' or $urlScheme='https') then (         matches($urlStr,'^//((([a-z\d$\.+!*(),?&amp;~_=-])|(%[a-f\d]{2}))+(:(([a-z\d$\.+!*(),?&amp;~_=-])|(%[a-f\d]{2}))*)?@)?((([1-2]\d{0,2})(\.([1-2]\d{0,2})){3})|(([\w-]+\.)+(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|[a-z]{2})))(:(([1-9]\d{0,4})|([a-z]\w*))?)?(/(([a-z\d$\.+!*(),?&amp;~_=-])|(%[a-f\d]{2}))*)*(\?(([\w$_\.+;:@~!*(),])|(%[a-f\d]{2}))+=(([\w$_\.+;:/@~!*(),-])|(%[a-f\d]{2}))*(&amp;((([\w$_\.+;:@~!*(),])|(%[a-f\d]{2}))+=(([\w$_\.+;:/@~!*(),-])|(%[a-f\d]{2}))*)?)*)?(#([\w~!$+|.,*:=~_]|%[a-f\d]{2})*)?$', 'i')         ) else (1=1)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL.NL.EXTENDED">dtr7-URL.NL.EXTENDED: URIs with URL Scheme <value-of select="$urlScheme"/> MUST comply with RFC 1738</assert>

    
    
    <assert role="error" test="if ($urlScheme='telnet') then (         matches($urlStr,'^//((([a-z\d$\.+!*(),?&amp;~_=-])|(%[a-f\d]{2}))+(:(([a-z\d$\.+!*(),?&amp;=-])|(%[a-f\d]{2}))*)?@)?((([1-2]\d{0,2})(\.([1-2]\d{0,2})){3})|(([\w-]+\.)+(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|[a-z]{2})))(:(([1-9]\d{0,4})|([a-z]\w*))?)?(/(([a-z\d$\.+!*(),?&amp;=-])|(%[a-f\d]{2}))*)*$','i')         ) else (1=1)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL.NL.EXTENDED">dtr8-URL.NL.EXTENDED: URIs with URL Scheme <value-of select="$urlScheme"/> MUST comply with RFC 1738.</assert>

    
    <assert role="error" test="if ($urlScheme='mailto') then (         matches($urlStr,'^[\w$\.+!*(),?&amp;~_=-]+(\.[\w$\.+!*(),?&amp;~_=-]+)*@([\w$+!*(),?&amp;~_=-]+\.)+([a-z]{2,4})$','i')         ) else (1=1)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL.NL.EXTENDED">dtr9-URL.NL.EXTENDED: URIs with URL Scheme <value-of select="$urlScheme"/> MUST comply with RFC 2368. Note that it is not allowed to carry extra headers</assert>

    
    <assert role="error" test="if ($urlScheme='x-hl7-applicatie') then (         matches($urlStr,'^2\.16\.840\.1\.113883\.2\.4\.6\.6\.[1-9]\d*$')         ) else (1=1)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL.NL.EXTENDED">dtr10-URL.NL.EXTENDED: URIs with URL Scheme <value-of select="$urlScheme"/> MUST start with "2.16.840.1.113883.2.4.6.6." prefixed with the numerical part</assert>

    
    
    <assert role="error" test="if ($urlScheme='mllp') then (         matches($urlStr,'^//(([1-2]\d{0,2})(\.([1-2]\d{0,2})){3}|(([\w-]+\.)+(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|[a-z]{2}))):(([1-9]\d{0,4})|([A-Za-z]\w*))/$')         ) else (1=1)" see="https://art-decor.org/mediawiki/index.php?title=DTr1_URL.NL.EXTENDED">dtr11-URL.NL.EXTENDED: URIs with URL Scheme <value-of select="$urlScheme"/> MUST comply with mllp://host:port/ where 'host' MAY be a name or IP and 'port' a named port or integer</assert>
</rule>
    </pattern>

   


    <pattern>
        <title>SMDS_CDAClinicalDocument</title>
        <rule context="/">
            <assert role="warning" test="descendant-or-self::hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1">descendant-or-self::hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]: Instance is expected to have the following element: %%2</assert>
        </rule>
    </pattern>
    <pattern id="template-1.2.250.1.213.1.1.1.1-2017-12-13T103531">
    <title>Structuration minimale Documents de santé</title>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]" id="d141e10-false-d982e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="string(@classCode) = ('DOCCLIN') or not(@classCode)">(SMDS_CDAClinicalDocument): The value for classCode SHALL be 'DOCCLIN'. Found: "<value-of select="@classCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="string(@moodCode) = ('EVN') or not(@moodCode)">(SMDS_CDAClinicalDocument): The value for moodCode SHALL be 'EVN'. Found: "<value-of select="@moodCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(//hl7:ClinicalDocument/hl7:documentationOf[1]/hl7:serviceEvent/hl7:performer)=1">(SMDS_CDAClinicalDocument): DocumentationOf: Le performer est obligatoire dans l'acte principal.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(//hl7:ClinicalDocument/hl7:documentationOf[1]/hl7:serviceEvent/hl7:effectiveTime)=1">(SMDS_CDAClinicalDocument): DocumentationOf: EffectiveTime est obligatoire dans l'acte principal.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:realmCode[@code = 'FR']) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:realmCode[@code = 'FR'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:realmCode[@code = 'FR']) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:realmCode[@code = 'FR'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040']) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040']) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1']) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1']) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:templateId[@root = '1.2.250.1.213.1.1.1.1'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:templateId[@root = '1.2.250.1.213.1.1.1.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:templateId) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:templateId is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:code[not(@nullFlavor)]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:code[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:code[not(@nullFlavor)]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:code[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:title[not(@nullFlavor)]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:title[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:title[not(@nullFlavor)]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:title[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:effectiveTime[not(@nullFlavor)]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:effectiveTime[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:effectiveTime[not(@nullFlavor)]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:effectiveTime[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:languageCode[not(@nullFlavor)]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:languageCode[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:languageCode[not(@nullFlavor)]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:languageCode[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:setId) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:setId appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:versionNumber) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:versionNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:recordTarget) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:recordTarget is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:recordTarget) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:recordTarget appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:author[not(@nullFlavor)][hl7:assignedAuthor]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:author[not(@nullFlavor)][hl7:assignedAuthor] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:dataEnterer) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:dataEnterer appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:inFulfillmentOf[hl7:order]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:inFulfillmentOf[hl7:order] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:documentationOf[hl7:serviceEvent]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:documentationOf[hl7:serviceEvent] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:component) &gt;= 1">(SMDS_CDAClinicalDocument): element hl7:component is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="count(hl7:component) &lt;= 1">(SMDS_CDAClinicalDocument): element hl7:component appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:realmCode[@code = 'FR']" id="d141e13-false-d1419e0">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="string(@code) = ('FR')">(SMDS_CDAClinicalDocument): The value for code SHALL be 'FR'. Found: "<value-of select="@code"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040']" id="d141e15-false-d1433e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="string(@root) = ('2.16.840.1.113883.1.3')">(SMDS_CDAClinicalDocument): The value for root SHALL be '2.16.840.1.113883.1.3'. Found: "<value-of select="@root"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="string(@extension) = ('POCD_HD000040')">(SMDS_CDAClinicalDocument): The value for extension SHALL be 'POCD_HD000040'. Found: "<value-of select="@extension"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@extension) or string-length(@extension)&gt;0">(SMDS_CDAClinicalDocument): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1']" id="d141e18-false-d1454e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="string(@root) = ('2.16.840.1.113883.2.8.2.1')">(SMDS_CDAClinicalDocument): The value for root SHALL be '2.16.840.1.113883.2.8.2.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']" id="d141e22-false-d1468e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="string(@root) = ('1.2.250.1.213.1.1.1.1')">(SMDS_CDAClinicalDocument): The value for root SHALL be '1.2.250.1.213.1.1.1.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:templateId" id="d141e27-false-d1481e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@root">(SMDS_CDAClinicalDocument): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(SMDS_CDAClinicalDocument): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:id[not(@nullFlavor)]" id="d141e40-false-d1496e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@extension) or string-length(@extension)&gt;0">(SMDS_CDAClinicalDocument): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@root">(SMDS_CDAClinicalDocument): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(SMDS_CDAClinicalDocument): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:code[not(@nullFlavor)]" id="d141e62-false-d1514e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(SMDS_CDAClinicalDocument): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@displayName">(SMDS_CDAClinicalDocument): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@displayName) or string-length(@displayName)&gt;0">(SMDS_CDAClinicalDocument): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@codeSystem">(SMDS_CDAClinicalDocument): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(SMDS_CDAClinicalDocument): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@code">(SMDS_CDAClinicalDocument): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(SMDS_CDAClinicalDocument): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:title[not(@nullFlavor)]" id="d141e72-false-d1542e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:effectiveTime[not(@nullFlavor)]" id="d141e78-false-d1551e0">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(*)">(SMDS_CDAClinicalDocument): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@value">(SMDS_CDAClinicalDocument): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(SMDS_CDAClinicalDocument): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')]" id="d141e86-false-d1570e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@nullFlavor or (@code='N' and @codeSystem='2.16.840.1.113883.5.25' and @displayName='Normal') or (@code='R' and @codeSystem='2.16.840.1.113883.5.25' and @displayName='Restreint') or (@code='V' and @codeSystem='2.16.840.1.113883.5.25' and @displayName='Très restreint')">(SMDS_CDAClinicalDocument): The element value SHALL be one of 'code 'N' codeSystem '2.16.840.1.113883.5.25' displayName='Normal' or code 'R' codeSystem '2.16.840.1.113883.5.25' displayName='Restreint' or code 'V' codeSystem '2.16.840.1.113883.5.25' displayName='Très restreint''.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@displayName">(SMDS_CDAClinicalDocument): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@displayName) or string-length(@displayName)&gt;0">(SMDS_CDAClinicalDocument): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@codeSystem">(SMDS_CDAClinicalDocument): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(SMDS_CDAClinicalDocument): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@code">(SMDS_CDAClinicalDocument): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(SMDS_CDAClinicalDocument): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:languageCode[not(@nullFlavor)]" id="d141e100-false-d1604e0">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@code">(SMDS_CDAClinicalDocument): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(SMDS_CDAClinicalDocument): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@code) or matches(@code, 'fr-FR') or matches(@code, '[a-z]{2}-[A-Z]{2}')">(SMDS_CDAClinicalDocument): Le languageCode doit respecter la syntaxe (e.g. "fr-FR")
          La partie en minuscules indique le code de la langue utilisée (ISO-639-1)
          La partie en majuscules indique le code pays (ISO-3166)</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:setId" id="d141e131-false-d1619e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@extension) or string-length(@extension)&gt;0">(SMDS_CDAClinicalDocument): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@root">(SMDS_CDAClinicalDocument): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(SMDS_CDAClinicalDocument): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:versionNumber" id="d141e139-false-d1637e0">
        <extends rule="INT"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='INT' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(SMDS_CDAClinicalDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:INT". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@value) or matches(@value, '^-?[1-9]\d*$|^+?\d*$')">(SMDS_CDAClinicalDocument): @value is not a valid INT number <value-of select="@value"/>
        </assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="@value">(SMDS_CDAClinicalDocument): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(@value) or matches(string(@value), '^-?[1-9]\d*$|^+?\d*$')">(SMDS_CDAClinicalDocument): Attribute @value is not a valid int number <value-of select="@value"/>
        </assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget" id="d1638e31-false-d1674e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:patientRole[hl7:patient]) &gt;= 1">(CI-SISRecordTarget): element hl7:patientRole[hl7:patient] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:patientRole[hl7:patient]) &lt;= 1">(CI-SISRecordTarget): element hl7:patientRole[hl7:patient] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]" id="d1638e35-false-d1726e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(not(//hl7:recordTarget/hl7:patientRole/hl7:id/@root='1.2.250.1.213.1.4.8') and not(//hl7:recordTarget/hl7:patientRole/hl7:id/@root='1.2.250.1.213.1.4.9') and not(//hl7:recordTarget/hl7:patientRole/hl7:id/@root='1.2.250.1.213.1.4.10') and not(//hl7:recordTarget/hl7:patientRole/hl7:id/@root='1.2.250.1.213.1.4.11')) and //hl7:recordTarget/hl7:patientRole/hl7:id/@extension  or (//hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier and //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:given and //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:birthTime and //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:administrativeGenderCode)">(CI-SISRecordTarget): Erreur de conformité CI-SIS : Dans le cadre de l'INS, les traits de l'INS (Nom de naissance, premier prénom, date de naissance et sexe) sont obligatoires</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(CI-SISRecordTarget): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]) &gt;= 1">(CI-SISRecordTarget): element hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]) &lt;= 1">(CI-SISRecordTarget): element hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:providerOrganization) &lt;= 1">(CI-SISRecordTarget): element hl7:providerOrganization appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:id[not(@nullFlavor)]" id="d1638e39-false-d1795e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="@root">(CI-SISRecordTarget): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISRecordTarget): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="@extension">(CI-SISRecordTarget): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISRecordTarget): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]" id="d1796e41-false-d1815e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d1796e62-false-d1906e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d1796e68-false-d1915e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d1796e74-false-d1924e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d1796e82-false-d1933e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d1796e90-false-d1942e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d1796e98-false-d1951e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d1796e102-false-d1960e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d1796e108-false-d1969e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d1796e114-false-d1978e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d1796e125-false-d1987e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d1796e144-false-d1996e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d1796e156-false-d2005e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d1796e162-false-d2014e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[hl7:streetAddressLine]" id="d1796e168-false-d2021e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d1796e191-false-d2040e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:telecom" id="d2041e25-false-d2050e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]" id="d1638e57-false-d2077e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name[not(@nullFlavor)]) &gt;= 1">(CI-SISRecordTarget): element hl7:name[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name[not(@nullFlavor)]) &lt;= 1">(CI-SISRecordTarget): element hl7:name[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &gt;= 1">(CI-SISRecordTarget): element hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISRecordTarget): element hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:birthTime) &gt;= 1">(CI-SISRecordTarget): element hl7:birthTime is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:birthTime) &lt;= 1">(CI-SISRecordTarget): element hl7:birthTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:birthplace[hl7:place]) &lt;= 1">(CI-SISRecordTarget): element hl7:birthplace[hl7:place] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:name[not(@nullFlavor)]" id="d1638e65-false-d2129e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:given[not(@nullFlavor)]) &gt;= 1">(CI-SISRecordTarget): element hl7:given[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:family) &gt;= 1">(CI-SISRecordTarget): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:prefix) &lt;= 1">(CI-SISRecordTarget): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:suffix) &lt;= 1">(CI-SISRecordTarget): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:name[not(@nullFlavor)]/hl7:given[not(@nullFlavor)]" id="d1638e69-false-d2163e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@qualifier) or (string-length(@qualifier) &gt; 0 and not(matches(@qualifier,'\s')))">(CI-SISRecordTarget): Attribute @qualifier SHALL be of data type 'cs'  - '<value-of select="@qualifier"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="//*:recordTarget/*:patientRole/*:patient/*:name/*:given/@qualifier='BR' or //*:recordTarget/*:patientRole/*:patient/*:name/*:given/@qualifier='CL' or //*:recordTarget/*:patientRole/*:patient/*:name/*:given[not(@qualifier)]">(CI-SISRecordTarget): 
                              Prénom typé par l'attribut qualifier : 
                "BR" pour le premier prénom extrait de la liste des prénoms de l'acte de naissance ou "CL" pour le prénom utilisé (RNIV). "qualifier" non utilisé pour la liste des prénoms de l'acte de naissance               
                          </assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:name[not(@nullFlavor)]/hl7:family" id="d1638e76-false-d2173e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="@qualifier">(CI-SISRecordTarget): attribute @qualifier SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@qualifier) or (string-length(@qualifier) &gt; 0 and not(matches(@qualifier,'\s')))">(CI-SISRecordTarget): Attribute @qualifier SHALL be of data type 'cs'  - '<value-of select="@qualifier"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="//hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='BR' or //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='SP' or //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='CL'">(CI-SISRecordTarget): 
                              Nom typé par l'attribut qualifier : 
                "BR" pour le nom de famille, "SP" pour le nom de d'usage ou "CL" pour le pseudonyme</assert>
    </rule>
   




    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d1638e95-false-d2202e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISRecordTarget): The element value SHALL be one of '1.2.250.1.213.1.1.5.11.121 TRE_R303-HL7v3AdministrativeGender (DYNAMIC)'.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthTime" id="d1638e100-false-d2221e0">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(*)">(CI-SISRecordTarget): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="@value">(CI-SISRecordTarget): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISRecordTarget): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian" id="d1638e122-false-d2245e0">
        <let name="elmcount" value="count(hl7:guardianPerson | hl7:guardianOrganization)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="$elmcount &gt;= 1">(CI-SISRecordTarget): choice (hl7:guardianPerson  or  hl7:guardianOrganization) does not contain enough elements [min 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="$elmcount &lt;= 1">(CI-SISRecordTarget): choice (hl7:guardianPerson  or  hl7:guardianOrganization) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:guardianPerson) &lt;= 1">(CI-SISRecordTarget): element hl7:guardianPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:guardianOrganization) &lt;= 1">(CI-SISRecordTarget): element hl7:guardianOrganization appears too often [max 1x].</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]" id="d2242e90-false-d2299e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d2242e111-false-d2390e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d2242e117-false-d2399e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d2242e123-false-d2408e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d2242e131-false-d2417e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d2242e139-false-d2426e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d2242e147-false-d2435e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d2242e151-false-d2444e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d2242e157-false-d2453e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d2242e163-false-d2462e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d2242e174-false-d2471e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d2242e193-false-d2480e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d2242e205-false-d2489e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d2242e211-false-d2498e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[hl7:streetAddressLine]" id="d2242e217-false-d2505e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d2242e240-false-d2524e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:telecom" id="d2525e25-false-d2534e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:guardianPerson" id="d1638e137-false-d2550e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISRecordTarget): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISRecordTarget): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:guardianPerson/hl7:name[hl7:family]" id="d1638e141-false-d2565e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:family) &gt;= 1">(CI-SISRecordTarget): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:family) &lt;= 3">(CI-SISRecordTarget): element hl7:family appears too often [max 3x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:prefix) &lt;= 1">(CI-SISRecordTarget): element hl7:prefix appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:guardianPerson/hl7:name[hl7:family]/hl7:family" id="d1638e145-false-d2593e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@qualifier) or (string-length(@qualifier) &gt; 0 and not(matches(@qualifier,'\s')))">(CI-SISRecordTarget): Attribute @qualifier SHALL be of data type 'cs'  - '<value-of select="@qualifier"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="//hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='BR' or //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='SP' or //hl7:recordTarget/hl7:patientRole/hl7:patient/hl7:name/hl7:family/@qualifier='CL'">(CI-SISRecordTarget): Valeur du nom typé par l'attribut qualifier : 
                      "BR" pour le nom de famille
                      "SP" pour le nom de d'usage
                      "CL" pour le pseudonyme</assert>
    </rule>
   




    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:guardianOrganization" id="d1638e171-false-d2617e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISRecordTarget): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name) &lt;= 1">(CI-SISRecordTarget): element hl7:name appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:guardianOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d1638e175-false-d2638e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISRecordTarget): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="@extension">(CI-SISRecordTarget): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISRecordTarget): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:guardianOrganization/hl7:name" id="d1638e186-false-d2657e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ON' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]" id="d1638e192-false-d2669e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:place) &gt;= 1">(CI-SISRecordTarget): element hl7:place is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:place) &lt;= 1">(CI-SISRecordTarget): element hl7:place appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place" id="d1638e196-false-d2690e0">
        <let name="elmcount" value="count(hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine])"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="$elmcount &lt;= 1">(CI-SISRecordTarget): choice (hl7:addr[not(hl7:streetAddressLine)]  or  hl7:addr[hl7:streetAddressLine]) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="count(hl7:name) &lt;= 1">(CI-SISRecordTarget): element hl7:name appears too often [max 1x].</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]" id="d2705e27-false-d2718e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d2705e48-false-d2809e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d2705e54-false-d2818e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d2705e60-false-d2827e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d2705e68-false-d2836e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d2705e76-false-d2845e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d2705e84-false-d2854e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d2705e88-false-d2863e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d2705e94-false-d2872e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d2705e100-false-d2881e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d2705e111-false-d2890e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d2705e130-false-d2899e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d2705e142-false-d2908e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d2705e148-false-d2917e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[hl7:streetAddressLine]" id="d2705e154-false-d2924e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d2705e177-false-d2943e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:name" id="d1638e210-false-d2952e0">
        <extends rule="EN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='EN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:EN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization" id="d1638e214-false-d2967e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@determinerCode) or (string-length(@determinerCode) &gt; 0 and not(matches(@determinerCode,'\s')))">(CI-SISRecordTarget): Attribute @determinerCode SHALL be of data type 'cs'  - '<value-of select="@determinerCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(CI-SISRecordTarget): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:templateId" id="d1638e217-false-d3014e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:id" id="d1638e218-false-d3023e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:name" id="d1638e219-false-d3032e0">
        <extends rule="EN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='EN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRecordTarget): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:EN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d3033e29-false-d3041e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d3033e50-false-d3132e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d3033e56-false-d3141e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d3033e62-false-d3150e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d3033e70-false-d3159e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d3033e78-false-d3168e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d3033e86-false-d3177e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d3033e90-false-d3186e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d3033e96-false-d3195e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d3033e102-false-d3204e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d3033e113-false-d3213e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d3033e132-false-d3222e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d3033e144-false-d3231e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d3033e150-false-d3240e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[hl7:streetAddressLine]" id="d3033e156-false-d3247e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d3033e179-false-d3266e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:telecom" id="d3267e25-false-d3276e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]" id="d3277e52-false-d3304e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &gt;= 1">(CI-SISAuthor): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:time) &lt;= 1">(CI-SISAuthor): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &gt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthor[not(@nullFlavor)]) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthor[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d3277e56-false-d3357e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 TRE_R259-HL7ParticipationFunction (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:originalText) &lt;= 1">(CI-SISAuthor): element hl7:originalText appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText" id="d3277e77-false-d3407e0">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ED' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:time" id="d3277e80-false-d3416e0">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(*)">(CI-SISAuthor): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@value">(CI-SISAuthor): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthor): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]" id="d3277e85-false-d3445e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id) &lt;= 1">(CI-SISAuthor): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:assignedPerson | hl7:assignedAuthoringDevice)"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="$elmcount &lt;= 1">(CI-SISAuthor): choice (hl7:assignedPerson  or  hl7:assignedAuthoringDevice) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthor): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:assignedAuthoringDevice) &lt;= 1">(CI-SISAuthor): element hl7:assignedAuthoringDevice appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthor): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:id" id="d3277e97-false-d3533e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d3277e105-false-d3555e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]" id="d3556e51-false-d3619e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d3556e72-false-d3710e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d3556e78-false-d3719e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d3556e84-false-d3728e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d3556e92-false-d3737e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d3556e100-false-d3746e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d3556e108-false-d3755e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d3556e112-false-d3764e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d3556e118-false-d3773e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d3556e124-false-d3782e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d3556e135-false-d3791e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d3556e154-false-d3800e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d3556e166-false-d3809e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d3556e172-false-d3818e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]" id="d3556e178-false-d3825e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d3556e201-false-d3844e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:telecom" id="d3845e25-false-d3854e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson" id="d3277e153-false-d3870e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthor): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]" id="d3277e157-false-d3885e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &gt;= 1">(CI-SISAuthor): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:family) &lt;= 1">(CI-SISAuthor): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:given) &lt;= 1">(CI-SISAuthor): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthor): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthor): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   








    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice" id="d3277e185-false-d3949e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:manufacturerModelName) &lt;= 1">(CI-SISAuthor): element hl7:manufacturerModelName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:softwareName) &lt;= 1">(CI-SISAuthor): element hl7:softwareName appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:manufacturerModelName" id="d3277e189-false-d3968e0">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='SC' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/hl7:softwareName" id="d3277e193-false-d3977e0">
        <extends rule="SC"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='SC' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:SC". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization" id="d3277e197-false-d3992e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthor): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:name) &lt;= 1">(CI-SISAuthor): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="count(hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthor): element hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d3277e203-false-d4047e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@extension">(CI-SISAuthor): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthor): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthor): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   




    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d4067e22-false-d4072e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d4067e43-false-d4163e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d4067e49-false-d4172e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d4067e55-false-d4181e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d4067e63-false-d4190e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d4067e71-false-d4199e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d4067e79-false-d4208e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d4067e83-false-d4217e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d4067e89-false-d4226e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d4067e95-false-d4235e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d4067e106-false-d4244e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d4067e125-false-d4253e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d4067e137-false-d4262e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d4067e143-false-d4271e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]" id="d4067e149-false-d4278e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d4067e172-false-d4297e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:telecom" id="d4298e25-false-d4307e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d3277e227-false-d4328e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthor): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISAuthor): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@displayName">(CI-SISAuthor): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthor): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@codeSystem">(CI-SISAuthor): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthor): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="@code">(CI-SISAuthor): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthor): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant" id="d4379e84-false-d4409e0">
        <let name="elmcount" value="count(hl7:assignedEntity | hl7:relatedEntity[@classCode][hl7:relatedPerson])"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.12" test="$elmcount &gt;= 1">(CI-SISInformant): choice (hl7:assignedEntity  or  hl7:relatedEntity[@classCode][hl7:relatedPerson]) does not contain enough elements [min 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.12" test="$elmcount &lt;= 1">(CI-SISInformant): choice (hl7:assignedEntity  or  hl7:relatedEntity[@classCode][hl7:relatedPerson]) contains too many elements [max 1x]</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.12" test="count(hl7:assignedEntity) &lt;= 1">(CI-SISInformant): element hl7:assignedEntity appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.12" test="count(hl7:relatedEntity[@classCode][hl7:relatedPerson]) &lt;= 1">(CI-SISInformant): element hl7:relatedEntity[@classCode][hl7:relatedPerson] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity" id="d4406e84-false-d4491e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:id) &gt;= 1">(CI-SISAssignedEntity): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:id) &lt;= 1">(CI-SISAssignedEntity): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISAssignedEntity): element hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAssignedEntity): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAssignedEntity): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:id" id="d4406e85-false-d4565e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="@root">(CI-SISAssignedEntity): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISAssignedEntity): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="@extension">(CI-SISAssignedEntity): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAssignedEntity): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d4406e107-false-d4598e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISAssignedEntity): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(CI-SISAssignedEntity): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAssignedEntity): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAssignedEntity): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAssignedEntity): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]" id="d4599e49-false-d4659e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d4599e70-false-d4750e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d4599e76-false-d4759e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d4599e82-false-d4768e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d4599e90-false-d4777e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d4599e98-false-d4786e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d4599e106-false-d4795e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d4599e110-false-d4804e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d4599e116-false-d4813e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d4599e122-false-d4822e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d4599e133-false-d4831e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d4599e152-false-d4840e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d4599e164-false-d4849e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d4599e170-false-d4858e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]" id="d4599e176-false-d4865e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d4599e199-false-d4884e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:telecom" id="d4885e25-false-d4894e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson" id="d4406e148-false-d4910e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAssignedEntity): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAssignedEntity): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]" id="d4406e152-false-d4925e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:prefix) &lt;= 1">(CI-SISAssignedEntity): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:given) &lt;= 1">(CI-SISAssignedEntity): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:family) &gt;= 1">(CI-SISAssignedEntity): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:family) &lt;= 1">(CI-SISAssignedEntity): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:suffix) &lt;= 1">(CI-SISAssignedEntity): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   








    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization" id="d4406e179-false-d4995e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAssignedEntity): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:name) &lt;= 1">(CI-SISAssignedEntity): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="count(hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAssignedEntity): element hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d4406e187-false-d5050e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="@extension">(CI-SISAssignedEntity): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAssignedEntity): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAssignedEntity): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:name" id="d4406e198-false-d5068e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ON' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d5069e29-false-d5077e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d5069e50-false-d5168e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d5069e56-false-d5177e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d5069e62-false-d5186e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d5069e70-false-d5195e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d5069e78-false-d5204e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d5069e86-false-d5213e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d5069e90-false-d5222e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d5069e96-false-d5231e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d5069e102-false-d5240e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d5069e113-false-d5249e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d5069e132-false-d5258e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d5069e144-false-d5267e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d5069e150-false-d5276e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]" id="d5069e156-false-d5283e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d5069e179-false-d5302e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:telecom" id="d5303e25-false-d5312e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d4406e212-false-d5333e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAssignedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISAssignedEntity): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="@code">(CI-SISAssignedEntity): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAssignedEntity): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="@displayName">(CI-SISAssignedEntity): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAssignedEntity): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="@codeSystem">(CI-SISAssignedEntity): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAssignedEntity): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]" id="d5334e55-false-d5380e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="@classCode">(CI-SISRelatedEntity): attribute @classCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(CI-SISRelatedEntity): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="@classCode='ECON' or @classCode='NOK' or @classCode='CON' or @classCode='CAREGIVER' or @classCode='PAT'">(CI-SISRelatedEntity): 
              @classCode doit être renseigné avec une de ces valeurs :
      			"ECON" pour personne à prévenir en cas d'urgence, 
      "NOK" pour personne de confiance, 
      "CON" pour informateur, 
          "CAREGIVER" pour un aidant, 
              "PAT" pour une personne aidée.
          </assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISRelatedEntity): element hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:relatedPerson) &gt;= 1">(CI-SISRelatedEntity): element hl7:relatedPerson is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:relatedPerson) &lt;= 1">(CI-SISRelatedEntity): element hl7:relatedPerson appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d5334e75-false-d5440e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRelatedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISRelatedEntity): The element value SHALL be one of '2.16.840.1.113883.5.111 TRE_R216-HL7RoleCode (DYNAMIC) or 1.2.250.1.213.1.1.4.327 TRE_R217-ProtectionJuridique (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="@displayName">(CI-SISRelatedEntity): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISRelatedEntity): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="@codeSystem">(CI-SISRelatedEntity): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISRelatedEntity): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="@code">(CI-SISRelatedEntity): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISRelatedEntity): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:originalText) &lt;= 1">(CI-SISRelatedEntity): element hl7:originalText appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/hl7:originalText" id="d5334e91-false-d5486e0">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ED' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRelatedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]" id="d5487e29-false-d5495e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d5487e50-false-d5586e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d5487e56-false-d5595e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d5487e62-false-d5604e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d5487e70-false-d5613e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d5487e78-false-d5622e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d5487e86-false-d5631e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d5487e90-false-d5640e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d5487e96-false-d5649e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d5487e102-false-d5658e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d5487e113-false-d5667e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d5487e132-false-d5676e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d5487e144-false-d5685e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d5487e150-false-d5694e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]" id="d5487e156-false-d5701e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d5487e179-false-d5720e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:telecom" id="d5721e25-false-d5730e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson" id="d5334e102-false-d5746e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISRelatedEntity): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISRelatedEntity): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]" id="d5334e106-false-d5761e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRelatedEntity): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:family) &gt;= 1">(CI-SISRelatedEntity): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:family) &lt;= 1">(CI-SISRelatedEntity): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:given) &lt;= 1">(CI-SISRelatedEntity): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="count(hl7:prefix) &lt;= 1">(CI-SISRelatedEntity): element hl7:prefix appears too often [max 1x].</assert>
    </rule>
   






    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]" id="d5807e10-false-d5818e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:assignedCustodian[hl7:representedCustodianOrganization]) &gt;= 1">(CI-SISCustodian): element hl7:assignedCustodian[hl7:representedCustodianOrganization] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:assignedCustodian[hl7:representedCustodianOrganization]) &lt;= 1">(CI-SISCustodian): element hl7:assignedCustodian[hl7:representedCustodianOrganization] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]" id="d5807e16-false-d5843e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:representedCustodianOrganization) &gt;= 1">(CI-SISCustodian): element hl7:representedCustodianOrganization is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:representedCustodianOrganization) &lt;= 1">(CI-SISCustodian): element hl7:representedCustodianOrganization appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization" id="d5807e19-false-d5868e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(CI-SISCustodian): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(CI-SISCustodian): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:name) &lt;= 1">(CI-SISCustodian): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="count(hl7:telecom) &lt;= 1">(CI-SISCustodian): element hl7:telecom appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine])"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="$elmcount &lt;= 1">(CI-SISCustodian): choice (hl7:addr[not(hl7:streetAddressLine)]  or  hl7:addr[hl7:streetAddressLine]) contains too many elements [max 1x]</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:id[not(@nullFlavor)]" id="d5807e23-false-d5916e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISCustodian): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISCustodian): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="@root">(CI-SISCustodian): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISCustodian): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="@root='1.2.250.1.71.4.2.2' or @root='1.2.250.1.213.4.1'">(CI-SISCustodian): L'attribut @root doit avoir la valeur :
              - soit "1.2.250.1.71.4.2.2" pour l'OID des structures de santé
              - soit "1.2.250.1.213.4.1" pour l'OID de l'organisation hébergeant les documents produits par le patient

              hl7:custodian/hl7:assignedCustodian/hl7:representedCustodianOrganization/hl7:id/@root='1.2.250.1.71.4.2.2' or hl7:custodian/hl7:assignedCustodian/hl7:representedCustodianOrganization/hl7:id/@root='1.2.250.1.213.4.1'
              custodian/assignedCustodian/representedCustodianOrganization/id/@root='1.2.250.1.71.4.2.2' or custodian/assignedCustodian/representedCustodianOrganization/id/@root='1.2.250.1.213.4.1'</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:telecom" id="d5936e18-false-d5942e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d5943e47-false-d5958e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d5943e68-false-d6049e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d5943e74-false-d6058e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d5943e80-false-d6067e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d5943e88-false-d6076e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d5943e96-false-d6085e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d5943e104-false-d6094e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d5943e108-false-d6103e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d5943e114-false-d6112e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d5943e120-false-d6121e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d5943e131-false-d6130e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d5943e150-false-d6139e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d5943e162-false-d6148e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d5943e168-false-d6157e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[hl7:streetAddressLine]" id="d5943e174-false-d6164e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d5943e197-false-d6183e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]" id="d6184e20-false-d6203e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="count(hl7:intendedRecipient) &gt;= 1">(CI-SISInformationRecipient): element hl7:intendedRecipient is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="count(hl7:intendedRecipient) &lt;= 1">(CI-SISInformationRecipient): element hl7:intendedRecipient appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient" id="d6184e24-false-d6238e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="count(hl7:informationRecipient) &lt;= 1">(CI-SISInformationRecipient): element hl7:informationRecipient appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="count(hl7:receivedOrganization) &lt;= 1">(CI-SISInformationRecipient): element hl7:receivedOrganization appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:id[@root = '1.2.250.1.71.4.2.1']" id="d6184e25-false-d6292e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISInformationRecipient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="@extension">(CI-SISInformationRecipient): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISInformationRecipient): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="string(@root) = ('1.2.250.1.71.4.2.1')">(CI-SISInformationRecipient): The value for root SHALL be '1.2.250.1.71.4.2.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]" id="d6293e39-false-d6310e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d6293e60-false-d6401e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d6293e66-false-d6410e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d6293e72-false-d6419e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d6293e80-false-d6428e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d6293e88-false-d6437e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d6293e96-false-d6446e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d6293e100-false-d6455e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d6293e106-false-d6464e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d6293e112-false-d6473e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d6293e123-false-d6482e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d6293e142-false-d6491e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d6293e154-false-d6500e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d6293e160-false-d6509e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[hl7:streetAddressLine]" id="d6293e166-false-d6516e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d6293e189-false-d6535e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:telecom" id="d6536e25-false-d6545e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:informationRecipient/hl7:name[hl7:family]" id="d6184e51-false-d6571e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISInformationRecipient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="count(hl7:family) &gt;= 1">(CI-SISInformationRecipient): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="count(hl7:family) &lt;= 1">(CI-SISInformationRecipient): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="count(hl7:given) &lt;= 1">(CI-SISInformationRecipient): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="count(hl7:prefix) &lt;= 1">(CI-SISInformationRecipient): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="count(hl7:suffix) &lt;= 1">(CI-SISInformationRecipient): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   










    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d6184e82-false-d6680e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISInformationRecipient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="@extension">(CI-SISInformationRecipient): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISInformationRecipient): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISInformationRecipient): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:name" id="d6184e93-false-d6698e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ON' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISInformationRecipient): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:telecom" id="d6699e25-false-d6708e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d6709e47-false-d6724e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d6709e68-false-d6815e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d6709e74-false-d6824e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d6709e80-false-d6833e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d6709e88-false-d6842e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d6709e96-false-d6851e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d6709e104-false-d6860e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d6709e108-false-d6869e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d6709e114-false-d6878e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d6709e120-false-d6887e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d6709e131-false-d6896e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d6709e150-false-d6905e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d6709e162-false-d6914e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d6709e168-false-d6923e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[hl7:streetAddressLine]" id="d6709e174-false-d6930e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d6709e197-false-d6949e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]" id="d6950e20-false-d6970e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:time) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:time) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:signatureCode[@code = 'S']) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:signatureCode[@code = 'S'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:signatureCode[@code = 'S']) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:signatureCode[@code = 'S'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:assignedEntity[hl7:assignedPerson]) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:assignedEntity[hl7:assignedPerson] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:assignedEntity[hl7:assignedPerson]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:assignedEntity[hl7:assignedPerson] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:time" id="d6950e28-false-d7012e0">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(*)">(CI-SISLegalAuthenticator): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="@value">(CI-SISLegalAuthenticator): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISLegalAuthenticator): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:signatureCode[@code = 'S']" id="d6950e33-false-d7031e0">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="string(@code) = ('S')">(CI-SISLegalAuthenticator): The value for code SHALL be 'S'. Found: "<value-of select="@code"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]" id="d6950e40-false-d7054e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:code) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:assignedPerson[not(@nullFlavor)]) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:assignedPerson[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:assignedPerson[not(@nullFlavor)]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:assignedPerson[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:id[not(@nullFlavor)]" id="d6950e44-false-d7119e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="@root">(CI-SISLegalAuthenticator): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISLegalAuthenticator): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="@extension">(CI-SISLegalAuthenticator): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISLegalAuthenticator): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:code" id="d6950e62-false-d7139e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]" id="d7140e29-false-d7148e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d7140e50-false-d7239e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d7140e56-false-d7248e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d7140e62-false-d7257e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d7140e70-false-d7266e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d7140e78-false-d7275e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d7140e86-false-d7284e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d7140e90-false-d7293e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d7140e96-false-d7302e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d7140e102-false-d7311e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d7140e113-false-d7320e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d7140e132-false-d7329e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d7140e144-false-d7338e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d7140e150-false-d7347e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[hl7:streetAddressLine]" id="d7140e156-false-d7354e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d7140e179-false-d7373e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:telecom" id="d7374e25-false-d7383e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]" id="d6950e75-false-d7399e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:name[not(@nullFlavor)][hl7:family]) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:name[not(@nullFlavor)][hl7:family] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:name[not(@nullFlavor)][hl7:family]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:name[not(@nullFlavor)][hl7:family] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]/hl7:name[not(@nullFlavor)][hl7:family]" id="d6950e79-false-d7414e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:family) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:family) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:given) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:prefix) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:suffix) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   








    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]" id="d6950e106-false-d7484e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &gt;= 1">(CI-SISLegalAuthenticator): element hl7:id[@root = '1.2.250.1.71.4.2.2'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:name) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="count(hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISLegalAuthenticator): element hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d6950e112-false-d7541e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="@extension">(CI-SISLegalAuthenticator): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISLegalAuthenticator): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISLegalAuthenticator): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d6950e129-false-d7571e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISLegalAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISLegalAuthenticator): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:telecom" id="d7572e29-false-d7597e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]" id="d7598e47-false-d7613e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d7598e68-false-d7704e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d7598e74-false-d7713e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d7598e80-false-d7722e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d7598e88-false-d7731e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d7598e96-false-d7740e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d7598e104-false-d7749e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d7598e108-false-d7758e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d7598e114-false-d7767e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d7598e120-false-d7776e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d7598e131-false-d7785e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d7598e150-false-d7794e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d7598e162-false-d7803e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d7598e168-false-d7812e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[hl7:streetAddressLine]" id="d7598e174-false-d7819e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d7598e197-false-d7838e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]" id="d7839e24-false-d7859e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:time) &gt;= 1">(CI-SISAuthenticator): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:time) &lt;= 1">(CI-SISAuthenticator): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:signatureCode[@code = 'S']) &gt;= 1">(CI-SISAuthenticator): element hl7:signatureCode[@code = 'S'] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:signatureCode[@code = 'S']) &lt;= 1">(CI-SISAuthenticator): element hl7:signatureCode[@code = 'S'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &gt;= 1">(CI-SISAuthenticator): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &lt;= 1">(CI-SISAuthenticator): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:templateId" id="d7839e28-false-d7906e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISAuthenticator): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:time" id="d7839e30-false-d7919e0">
        <extends rule="TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(*)">(CI-SISAuthenticator): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="@value">(CI-SISAuthenticator): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISAuthenticator): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:signatureCode[@code = 'S']" id="d7839e37-false-d7938e0">
        <extends rule="CS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="@nullFlavor or (@code='S')">(CI-SISAuthenticator): The element value SHALL be one of 'code 'S''.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]" id="d7839e44-false-d7964e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &gt;= 1">(CI-SISAuthenticator): element hl7:id[@root = '1.2.250.1.71.4.2.1'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &lt;= 1">(CI-SISAuthenticator): element hl7:id[@root = '1.2.250.1.71.4.2.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISAuthenticator): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISAuthenticator): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:id[@root = '1.2.250.1.71.4.2.1']" id="d7839e49-false-d8022e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="@extension">(CI-SISAuthenticator): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthenticator): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="string(@root) = ('1.2.250.1.71.4.2.1')">(CI-SISAuthenticator): The value for root SHALL be '1.2.250.1.71.4.2.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]" id="d8023e39-false-d8040e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d8023e60-false-d8131e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d8023e66-false-d8140e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d8023e72-false-d8149e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d8023e80-false-d8158e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d8023e88-false-d8167e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d8023e96-false-d8176e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d8023e100-false-d8185e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d8023e106-false-d8194e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d8023e112-false-d8203e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d8023e123-false-d8212e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d8023e142-false-d8221e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d8023e154-false-d8230e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d8023e160-false-d8239e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]" id="d8023e166-false-d8246e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d8023e189-false-d8265e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:telecom" id="d8266e25-false-d8275e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson" id="d7839e59-false-d8291e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISAuthenticator): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISAuthenticator): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]" id="d7839e60-false-d8306e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:family) &gt;= 1">(CI-SISAuthenticator): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:family) &lt;= 1">(CI-SISAuthenticator): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:given) &lt;= 1">(CI-SISAuthenticator): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:prefix) &lt;= 1">(CI-SISAuthenticator): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:suffix) &lt;= 1">(CI-SISAuthenticator): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   








    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization" id="d7839e86-false-d8375e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISAuthenticator): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:name) &lt;= 1">(CI-SISAuthenticator): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="count(hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISAuthenticator): element hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d7839e93-false-d8431e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="@extension">(CI-SISAuthenticator): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISAuthenticator): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISAuthenticator): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:name" id="d7839e104-false-d8449e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ON' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:telecom" id="d8450e25-false-d8459e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d8460e47-false-d8475e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d8460e68-false-d8566e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d8460e74-false-d8575e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d8460e80-false-d8584e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d8460e88-false-d8593e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d8460e96-false-d8602e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d8460e104-false-d8611e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d8460e108-false-d8620e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d8460e114-false-d8629e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d8460e120-false-d8638e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d8460e131-false-d8647e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d8460e150-false-d8656e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d8460e162-false-d8665e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d8460e168-false-d8674e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]" id="d8460e174-false-d8681e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d8460e197-false-d8700e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d7839e119-false-d8714e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAuthenticator): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISAuthenticator): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="@displayName">(CI-SISAuthenticator): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISAuthenticator): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="@codeSystem">(CI-SISAuthenticator): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISAuthenticator): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="@code">(CI-SISAuthenticator): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISAuthenticator): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]" id="d8715e45-false-d8766e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@typeCode">(CI-SISParticipant): attribute @typeCode SHALL be present.</assert>
        <let name="theAttValue" value="distinct-values(tokenize(normalize-space(@typeCode),'\s'))"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@typeCode) or empty($theAttValue[not(. = (doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.90-DYNAMIC.xml')/*/valueSet/conceptList/concept/@code))])">(CI-SISParticipant): The value for typeCode SHALL be selected from value set '2.16.840.1.113883.5.90' TRE_A13-HL7ParticipationType (DYNAMIC).</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISParticipant): element hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:time) &gt;= 1">(CI-SISParticipant): element hl7:time is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:time) &lt;= 1">(CI-SISParticipant): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:associatedEntity[@classCode]) &gt;= 1">(CI-SISParticipant): element hl7:associatedEntity[@classCode] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:associatedEntity[@classCode]) &lt;= 1">(CI-SISParticipant): element hl7:associatedEntity[@classCode] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d8715e65-false-d8834e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISParticipant): The element value SHALL be one of '1.2.250.1.213.1.1.4.2.280 TRE_R258-RelationPriseCharge (DYNAMIC) or 2.16.840.1.113883.5.88 TRE_R259-HL7ParticipationFunction (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISParticipant): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISParticipant): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISParticipant): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(CI-SISParticipant): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:originalText) &lt;= 1">(CI-SISParticipant): element hl7:originalText appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]/hl7:originalText" id="d8715e90-false-d8886e0">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ED' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]/hl7:translation" id="d8715e94-false-d8895e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:time" id="d8715e98-false-d8904e0">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVL_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:low) &lt;= 1">(CI-SISParticipant): element hl7:low appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:high) &lt;= 1">(CI-SISParticipant): element hl7:high appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:time/hl7:low" id="d8715e102-false-d8926e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVXB_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@value">(CI-SISParticipant): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISParticipant): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:time/hl7:high" id="d8715e104-false-d8941e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVXB_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@value">(CI-SISParticipant): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISParticipant): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]" id="d8715e106-false-d8967e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@classCode">(CI-SISParticipant): attribute @classCode SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@classCode) or (string-length(@classCode) &gt; 0 and not(matches(@classCode,'\s')))">(CI-SISParticipant): Attribute @classCode SHALL be of data type 'cs'  - '<value-of select="@classCode"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@classCode='PROV' or @classCode='AGNT'">(CI-SISParticipant): L'attribut @classCode de l'élément 'participant/associatedEntity' doit être égla à 'PROV' (pour les PS) ou 'AGNT' (pour les non PS).</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:id) &lt;= 1">(CI-SISParticipant): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISParticipant): element hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:associatedPerson[hl7:name]) &lt;= 1">(CI-SISParticipant): element hl7:associatedPerson[hl7:name] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:scopingOrganization) &lt;= 1">(CI-SISParticipant): element hl7:scopingOrganization appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:id" id="d8715e117-false-d9044e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@extension">(CI-SISParticipant): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISParticipant): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@root">(CI-SISParticipant): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISParticipant): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d8715e136-false-d9077e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISParticipant): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@code">(CI-SISParticipant): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISParticipant): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@displayName">(CI-SISParticipant): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISParticipant): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="@codeSystem">(CI-SISParticipant): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISParticipant): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(@codeSystemName) or string-length(@codeSystemName)&gt;0">(CI-SISParticipant): Attribute @codeSystemName SHALL be of data type 'st'  - '<value-of select="@codeSystemName"/>'</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]" id="d9078e56-false-d9144e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d9078e77-false-d9235e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d9078e83-false-d9244e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d9078e89-false-d9253e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d9078e97-false-d9262e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d9078e105-false-d9271e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d9078e113-false-d9280e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d9078e117-false-d9289e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d9078e123-false-d9298e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d9078e129-false-d9307e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d9078e140-false-d9316e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d9078e159-false-d9325e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d9078e171-false-d9334e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d9078e177-false-d9343e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[hl7:streetAddressLine]" id="d9078e183-false-d9350e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d9078e206-false-d9369e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:telecom" id="d9370e25-false-d9379e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]" id="d8715e187-false-d9395e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISParticipant): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISParticipant): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]/hl7:name[hl7:family]" id="d8715e191-false-d9410e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:family) &gt;= 1">(CI-SISParticipant): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:family) &lt;= 1">(CI-SISParticipant): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:given) &lt;= 1">(CI-SISParticipant): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:prefix) &lt;= 1">(CI-SISParticipant): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:suffix) &lt;= 1">(CI-SISParticipant): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   








    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization" id="d8715e222-false-d9477e0">
        <extends rule="ANY"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:id) &lt;= 1">(CI-SISParticipant): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:name) &lt;= 1">(CI-SISParticipant): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="count(hl7:standardIndustryClassCode) &lt;= 1">(CI-SISParticipant): element hl7:standardIndustryClassCode appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:id" id="d8715e228-false-d9525e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:name" id="d8715e235-false-d9534e0">
        <extends rule="ANY"/>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d9535e23-false-d9541e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d9535e44-false-d9632e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d9535e50-false-d9641e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d9535e56-false-d9650e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d9535e64-false-d9659e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d9535e72-false-d9668e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d9535e80-false-d9677e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d9535e84-false-d9686e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d9535e90-false-d9695e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d9535e96-false-d9704e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d9535e107-false-d9713e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d9535e126-false-d9722e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d9535e138-false-d9731e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d9535e144-false-d9740e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[hl7:streetAddressLine]" id="d9535e150-false-d9747e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d9535e173-false-d9766e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:telecom" id="d9767e25-false-d9776e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:standardIndustryClassCode" id="d8715e250-false-d9792e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISParticipant): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:inFulfillmentOf[hl7:order]" id="d9793e18-false-d9802e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="count(hl7:order) &gt;= 1">(CI-SISinFulfillmentOf): element hl7:order is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="count(hl7:order) &lt;= 1">(CI-SISinFulfillmentOf): element hl7:order appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:inFulfillmentOf[hl7:order]/hl7:order" id="d9793e22-false-d9817e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="count(hl7:id) &gt;= 1">(CI-SISinFulfillmentOf): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="count(hl7:id) &lt;= 1">(CI-SISinFulfillmentOf): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="count(hl7:code) &lt;= 1">(CI-SISinFulfillmentOf): element hl7:code appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:inFulfillmentOf[hl7:order]/hl7:order/hl7:id" id="d9793e28-false-d9838e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISinFulfillmentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISinFulfillmentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="@root">(CI-SISinFulfillmentOf): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISinFulfillmentOf): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:inFulfillmentOf[hl7:order]/hl7:order/hl7:code" id="d9793e34-false-d9856e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISinFulfillmentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="count(hl7:originalText) &lt;= 1">(CI-SISinFulfillmentOf): element hl7:originalText appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:inFulfillmentOf[hl7:order]/hl7:order/hl7:code/hl7:originalText" id="d9793e35-false-d9872e0">
        <extends rule="ED"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ED' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISinFulfillmentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ED". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]" id="d9873e22-false-d9892e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(//*:ClinicalDocument/*:documentationOf[1]/*:serviceEvent/*:performer)=1">(CI-SISDocumentationOf): DocumentationIOf: L'élément performer est obligatoire dans l'acte principal.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(//*:ClinicalDocument/*:documentationOf[1]/*:serviceEvent/*:effectiveTime)=1">(CI-SISDocumentationOf): DocumentationIOf: L'élément effectiveTime est obligatoire dans l'acte principal.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:serviceEvent[not(@nullFlavor)]) &gt;= 1">(CI-SISDocumentationOf): element hl7:serviceEvent[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:serviceEvent[not(@nullFlavor)]) &lt;= 1">(CI-SISDocumentationOf): element hl7:serviceEvent[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]" id="d9873e26-false-d9927e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:code) &lt;= 1">(CI-SISDocumentationOf): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:effectiveTime) &lt;= 1">(CI-SISDocumentationOf): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]) &lt;= 1">(CI-SISDocumentationOf): element hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:id" id="d9873e33-false-d9966e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:code" id="d9873e34-false-d9975e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISDocumentationOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISDocumentationOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISDocumentationOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(@code and @codeSystem and not(@nullFlavor)) or (not(@code) and not(@codeSystem) and @nullFlavor)">(CI-SISDocumentationOf): Les attributs @code et @codeSystem sont obligatoires si pas de @nullFlavor</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:effectiveTime" id="d9873e49-false-d9994e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:low) &gt;= 1">(CI-SISDocumentationOf): element hl7:low is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:low) &lt;= 1">(CI-SISDocumentationOf): element hl7:low appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:high) &lt;= 1">(CI-SISDocumentationOf): element hl7:high appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:effectiveTime/hl7:low" id="d9873e53-false-d10015e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVXB_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="@value">(CI-SISDocumentationOf): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISDocumentationOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:effectiveTime/hl7:high" id="d9873e55-false-d10030e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVXB_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISDocumentationOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]" id="d9873e57-false-d10053e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="string(@typeCode) = ('PRF')">(CI-SISDocumentationOf): The value for typeCode SHALL be 'PRF'. Found: "<value-of select="@typeCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:functionCode) &lt;= 1">(CI-SISDocumentationOf): element hl7:functionCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:time) &lt;= 1">(CI-SISDocumentationOf): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:assignedEntity[hl7:representedOrganization]) &gt;= 1">(CI-SISDocumentationOf): element hl7:assignedEntity[hl7:representedOrganization] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:assignedEntity[hl7:representedOrganization]) &lt;= 1">(CI-SISDocumentationOf): element hl7:assignedEntity[hl7:representedOrganization] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:functionCode" id="d9873e69-false-d10094e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:time" id="d9873e70-false-d10103e0">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVL_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]" id="d9873e71-false-d10122e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:id) &gt;= 1">(CI-SISDocumentationOf): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:id) &lt;= 1">(CI-SISDocumentationOf): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:code[concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.1-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISDocumentationOf): element hl7:code[concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.1-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISDocumentationOf): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]) &gt;= 1">(CI-SISDocumentationOf): element hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]) &lt;= 1">(CI-SISDocumentationOf): element hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:id" id="d9873e78-false-d10196e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:code[concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.1-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d9873e98-false-d10210e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.1-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]])">(CI-SISDocumentationOf): The element value SHALL be one of '1.2.250.1.213.1.1.5.1 JDV_J01-XdsAuthorSpecialty-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.5.123 JDV_J48-ProfessionNonPS-CISIS (DYNAMIC)'.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:telecom" id="d10211e29-false-d10236e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]" id="d10237e47-false-d10252e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d10237e68-false-d10343e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d10237e74-false-d10352e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d10237e80-false-d10361e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d10237e88-false-d10370e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d10237e96-false-d10379e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d10237e104-false-d10388e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d10237e108-false-d10397e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d10237e114-false-d10406e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d10237e120-false-d10415e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d10237e131-false-d10424e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d10237e150-false-d10433e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d10237e162-false-d10442e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d10237e168-false-d10451e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[hl7:streetAddressLine]" id="d10237e174-false-d10458e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d10237e197-false-d10477e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:assignedPerson/hl7:name[hl7:family]" id="d9873e115-false-d10496e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:family) &gt;= 1">(CI-SISDocumentationOf): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:family) &lt;= 1">(CI-SISDocumentationOf): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:given) &lt;= 1">(CI-SISDocumentationOf): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:prefix) &lt;= 1">(CI-SISDocumentationOf): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:suffix) &lt;= 1">(CI-SISDocumentationOf): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   








    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]" id="d9873e146-false-d10570e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISDocumentationOf): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:name) &lt;= 1">(CI-SISDocumentationOf): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &gt;= 1">(CI-SISDocumentationOf): element hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="count(hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISDocumentationOf): element hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d9873e153-false-d10628e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISDocumentationOf): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="@extension">(CI-SISDocumentationOf): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISDocumentationOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:name" id="d9873e165-false-d10647e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ON' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:telecom" id="d10648e25-false-d10657e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]" id="d10658e47-false-d10673e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d10658e68-false-d10764e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d10658e74-false-d10773e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d10658e80-false-d10782e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d10658e88-false-d10791e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d10658e96-false-d10800e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d10658e104-false-d10809e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d10658e108-false-d10818e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d10658e114-false-d10827e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d10658e120-false-d10836e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d10658e131-false-d10845e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d10658e150-false-d10854e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d10658e162-false-d10863e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d10658e168-false-d10872e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[hl7:streetAddressLine]" id="d10658e174-false-d10879e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d10658e197-false-d10898e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d9873e174-false-d10912e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISDocumentationOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISDocumentationOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="@code">(CI-SISDocumentationOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISDocumentationOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="@displayName">(CI-SISDocumentationOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISDocumentationOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="@codeSystem">(CI-SISDocumentationOf): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISDocumentationOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]" id="d10913e39-false-d10953e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="string(@typeCode) = ('RPLC')">(CI-SISRelatedDocument): The value for typeCode SHALL be 'RPLC'. Found: "<value-of select="@typeCode"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="count(hl7:parentDocument[not(@nullFlavor)]) &gt;= 1">(CI-SISRelatedDocument): element hl7:parentDocument[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="count(hl7:parentDocument[not(@nullFlavor)]) &lt;= 1">(CI-SISRelatedDocument): element hl7:parentDocument[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]/hl7:parentDocument[not(@nullFlavor)]" id="d10913e50-false-d10972e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="count(hl7:id[not(@nullFlavor)]) &gt;= 1">(CI-SISRelatedDocument): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="count(hl7:id[not(@nullFlavor)]) &lt;= 1">(CI-SISRelatedDocument): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]/hl7:parentDocument[not(@nullFlavor)]/hl7:id[not(@nullFlavor)]" id="d10913e53-false-d10987e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISRelatedDocument): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISRelatedDocument): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="@root">(CI-SISRelatedDocument): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISRelatedDocument): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]" id="d10988e30-false-d11029e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]) &gt;= 1">(CI-SISComponentOf): element hl7:encompassingEncounter[not(@nullFlavor)][hl7:location] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]) &lt;= 1">(CI-SISComponentOf): element hl7:encompassingEncounter[not(@nullFlavor)][hl7:location] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]" id="d10988e34-false-d11090e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:code[(@code = 'IMP' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EMER' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'AMB' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'FLD' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'HH' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'VR' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EXTERNE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291') or (@code = 'SEANCE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291')]) &lt;= 1">(CI-SISComponentOf): element hl7:code[(@code = 'IMP' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EMER' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'AMB' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'FLD' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'HH' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'VR' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EXTERNE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291') or (@code = 'SEANCE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291')] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:effectiveTime) &gt;= 1">(CI-SISComponentOf): element hl7:effectiveTime is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:effectiveTime) &lt;= 1">(CI-SISComponentOf): element hl7:effectiveTime appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:dischargeDispositionCode) &lt;= 1">(CI-SISComponentOf): element hl7:dischargeDispositionCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:responsibleParty[hl7:assignedEntity]) &lt;= 1">(CI-SISComponentOf): element hl7:responsibleParty[hl7:assignedEntity] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]) &gt;= 1">(CI-SISComponentOf): element hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]) &lt;= 1">(CI-SISComponentOf): element hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:id" id="d10988e43-false-d11170e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISComponentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@root">(CI-SISComponentOf): attribute @root SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@root) or matches(@root,'^[0-2](\.(0|[1-9]\d*))*$') or matches(@root,'^[A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12}$') or matches(@root,'^[A-Za-z][A-Za-z\d\-]*$')">(CI-SISComponentOf): Attribute @root SHALL be of data type 'uid'  - '<value-of select="@root"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:code[(@code = 'IMP' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EMER' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'AMB' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'FLD' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'HH' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'VR' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EXTERNE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291') or (@code = 'SEANCE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291')]" id="d10988e50-false-d11189e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or (@code='IMP' and @codeSystem='2.16.840.1.113883.5.4') or (@code='EMER' and @codeSystem='2.16.840.1.113883.5.4') or (@code='AMB' and @codeSystem='2.16.840.1.113883.5.4') or (@code='FLD' and @codeSystem='2.16.840.1.113883.5.4') or (@code='HH' and @codeSystem='2.16.840.1.113883.5.4') or (@code='VR' and @codeSystem='2.16.840.1.113883.5.4') or (@code='EXTERNE' and @codeSystem='1.2.250.1.213.1.1.4.2.291') or (@code='SEANCE' and @codeSystem='1.2.250.1.213.1.1.4.2.291')">(CI-SISComponentOf): The element value SHALL be one of 'code 'IMP' codeSystem '2.16.840.1.113883.5.4' or code 'EMER' codeSystem '2.16.840.1.113883.5.4' or code 'AMB' codeSystem '2.16.840.1.113883.5.4' or code 'FLD' codeSystem '2.16.840.1.113883.5.4' or code 'HH' codeSystem '2.16.840.1.113883.5.4' or code 'VR' codeSystem '2.16.840.1.113883.5.4' or code 'EXTERNE' codeSystem '1.2.250.1.213.1.1.4.2.291' or code 'SEANCE' codeSystem '1.2.250.1.213.1.1.4.2.291''.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@code">(CI-SISComponentOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISComponentOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@codeSystem">(CI-SISComponentOf): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISComponentOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@displayName">(CI-SISComponentOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISComponentOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:effectiveTime" id="d10988e87-false-d11233e0">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVL_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:low) &lt;= 1">(CI-SISComponentOf): element hl7:low appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:high) &lt;= 1">(CI-SISComponentOf): element hl7:high appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:effectiveTime/hl7:low" id="d10988e91-false-d11255e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVXB_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@value">(CI-SISComponentOf): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISComponentOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:effectiveTime/hl7:high" id="d10988e95-false-d11270e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVXB_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@value">(CI-SISComponentOf): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISComponentOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:dischargeDispositionCode" id="d10988e99-false-d11285e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@displayName">(CI-SISComponentOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISComponentOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="string(@codeSystem) = ('1.2.250.1.213.2.14') or not(@codeSystem)">(CI-SISComponentOf): The value for codeSystem SHALL be '1.2.250.1.213.2.14'. Found: "<value-of select="@codeSystem"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@code">(CI-SISComponentOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISComponentOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]" id="d10988e110-false-d11320e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &gt;= 1">(CI-SISComponentOf): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &lt;= 1">(CI-SISComponentOf): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]" id="d10988e117-false-d11358e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &gt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.1'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &lt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISComponentOf): element hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISComponentOf): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISComponentOf): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:id[@root = '1.2.250.1.71.4.2.1']" id="d10988e120-false-d11434e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@extension">(CI-SISComponentOf): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISComponentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="string(@root) = ('1.2.250.1.71.4.2.1')">(CI-SISComponentOf): The value for root SHALL be '1.2.250.1.71.4.2.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d10988e125-false-d11465e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISComponentOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]" id="d11466e33-false-d11514e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d11466e54-false-d11605e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d11466e60-false-d11614e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d11466e66-false-d11623e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d11466e74-false-d11632e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d11466e82-false-d11641e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d11466e90-false-d11650e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d11466e94-false-d11659e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d11466e100-false-d11668e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d11466e106-false-d11677e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d11466e117-false-d11686e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d11466e136-false-d11695e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d11466e148-false-d11704e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d11466e154-false-d11713e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]" id="d11466e160-false-d11720e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d11466e183-false-d11739e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:telecom" id="d11740e25-false-d11749e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson" id="d10988e157-false-d11765e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISComponentOf): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISComponentOf): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]" id="d10988e160-false-d11780e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:family) &gt;= 1">(CI-SISComponentOf): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:family) &lt;= 1">(CI-SISComponentOf): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:given) &lt;= 1">(CI-SISComponentOf): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:prefix) &lt;= 1">(CI-SISComponentOf): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:suffix) &lt;= 1">(CI-SISComponentOf): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   








    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization" id="d10988e185-false-d11850e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name) &lt;= 1">(CI-SISComponentOf): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISComponentOf): element hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d10988e189-false-d11905e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@extension">(CI-SISComponentOf): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISComponentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISComponentOf): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:name" id="d10988e199-false-d11923e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ON' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d11924e29-false-d11932e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d11924e50-false-d12023e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d11924e56-false-d12032e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d11924e62-false-d12041e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d11924e70-false-d12050e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d11924e78-false-d12059e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d11924e86-false-d12068e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d11924e90-false-d12077e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d11924e96-false-d12086e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d11924e102-false-d12095e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d11924e113-false-d12104e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d11924e132-false-d12113e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d11924e144-false-d12122e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d11924e150-false-d12131e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]" id="d11924e156-false-d12138e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d11924e179-false-d12157e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:telecom" id="d12158e25-false-d12167e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d10988e206-false-d12188e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISComponentOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@code">(CI-SISComponentOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISComponentOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@displayName">(CI-SISComponentOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISComponentOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@codeSystem">(CI-SISComponentOf): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISComponentOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]" id="d10988e222-false-d12239e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@typeCode">(CI-SISComponentOf): attribute @typeCode SHALL be present.</assert>
        <let name="theAttValue" value="distinct-values(tokenize(normalize-space(@typeCode),'\s'))"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@typeCode) or empty($theAttValue[not(. = (doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.528-DYNAMIC.xml')/*/valueSet/conceptList/concept/@code))])">(CI-SISComponentOf): The value for typeCode SHALL be selected from value set '1.2.250.1.213.1.1.5.528' JDV_J140-EncounterParticipationType-CISIS (DYNAMIC).</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:time) &lt;= 1">(CI-SISComponentOf): element hl7:time appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &gt;= 1">(CI-SISComponentOf): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]) &lt;= 1">(CI-SISComponentOf): element hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:time" id="d10988e234-false-d12286e0">
        <extends rule="IVL_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVL_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVL_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:low) &lt;= 1">(CI-SISComponentOf): element hl7:low appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:high) &lt;= 1">(CI-SISComponentOf): element hl7:high appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:time/hl7:low" id="d10988e238-false-d12308e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVXB_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@value">(CI-SISComponentOf): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISComponentOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:time/hl7:high" id="d10988e240-false-d12323e0">
        <extends rule="IVXB_TS"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='IVXB_TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:IVXB_TS". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@value">(CI-SISComponentOf): attribute @value SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@value) or matches(string(@value), '^[0-9]{4,14}')">(CI-SISComponentOf): Attribute @value SHALL be of data type 'ts'  - '<value-of select="@value"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]" id="d10988e242-false-d12350e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &gt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.1'] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.1']) &lt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.1'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]) &lt;= 1">(CI-SISComponentOf): element hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:assignedPerson) &lt;= 1">(CI-SISComponentOf): element hl7:assignedPerson appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:representedOrganization) &lt;= 1">(CI-SISComponentOf): element hl7:representedOrganization appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:id[@root = '1.2.250.1.71.4.2.1']" id="d10988e245-false-d12421e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@extension">(CI-SISComponentOf): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISComponentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="string(@root) = ('1.2.250.1.71.4.2.1')">(CI-SISComponentOf): The value for root SHALL be '1.2.250.1.71.4.2.1'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]" id="d10988e250-false-d12452e0">
        <extends rule="CD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISComponentOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.5 TRE_A02-ProfessionSavFaire-CISIS (DYNAMIC) or 1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.6.1.107 TRE_R85-RolePriseCharge (DYNAMIC) or 1.2.250.1.213.1.6.1.4 TRE_R94-ProfessionSocial (DYNAMIC) or 1.2.250.1.213.1.6.1.109 TRE_R95-UsagerTitre (DYNAMIC) or 1.2.250.1.213.1.6.1.110 TRE_R96-AutreFonctionSanitaire (DYNAMIC)'.</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]" id="d12453e33-false-d12501e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d12453e54-false-d12592e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d12453e60-false-d12601e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d12453e66-false-d12610e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d12453e74-false-d12619e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d12453e82-false-d12628e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d12453e90-false-d12637e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d12453e94-false-d12646e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d12453e100-false-d12655e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d12453e106-false-d12664e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d12453e117-false-d12673e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d12453e136-false-d12682e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d12453e148-false-d12691e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d12453e154-false-d12700e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]" id="d12453e160-false-d12707e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d12453e183-false-d12726e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:telecom" id="d12727e25-false-d12736e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson" id="d10988e282-false-d12752e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name[hl7:family]) &gt;= 1">(CI-SISComponentOf): element hl7:name[hl7:family] is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name[hl7:family]) &lt;= 1">(CI-SISComponentOf): element hl7:name[hl7:family] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]" id="d10988e285-false-d12767e0">
        <extends rule="PN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='PN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:PN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:family) &gt;= 1">(CI-SISComponentOf): element hl7:family is required [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:family) &lt;= 1">(CI-SISComponentOf): element hl7:family appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:given) &lt;= 1">(CI-SISComponentOf): element hl7:given appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:prefix) &lt;= 1">(CI-SISComponentOf): element hl7:prefix appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:suffix) &lt;= 1">(CI-SISComponentOf): element hl7:suffix appears too often [max 1x].</assert>
    </rule>
   








    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization" id="d10988e310-false-d12837e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:id[@root = '1.2.250.1.71.4.2.2']) &lt;= 1">(CI-SISComponentOf): element hl7:id[@root = '1.2.250.1.71.4.2.2'] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name) &lt;= 1">(CI-SISComponentOf): element hl7:name appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISComponentOf): element hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:id[@root = '1.2.250.1.71.4.2.2']" id="d10988e314-false-d12887e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@extension">(CI-SISComponentOf): attribute @extension SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@extension) or string-length(@extension)&gt;0">(CI-SISComponentOf): Attribute @extension SHALL be of data type 'st'  - '<value-of select="@extension"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="string(@root) = ('1.2.250.1.71.4.2.2')">(CI-SISComponentOf): The value for root SHALL be '1.2.250.1.71.4.2.2'. Found: "<value-of select="@root"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:name" id="d10988e324-false-d12905e0">
        <extends rule="ON"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ON' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ON". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]" id="d12906e29-false-d12914e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d12906e50-false-d13005e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d12906e56-false-d13014e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d12906e62-false-d13023e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d12906e70-false-d13032e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d12906e78-false-d13041e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d12906e86-false-d13050e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d12906e90-false-d13059e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d12906e96-false-d13068e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d12906e102-false-d13077e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d12906e113-false-d13086e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d12906e132-false-d13095e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d12906e144-false-d13104e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d12906e150-false-d13113e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]" id="d12906e156-false-d13120e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d12906e179-false-d13139e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:telecom" id="d13140e25-false-d13149e0">
        <extends rule="TEL"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TEL' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISTelecom): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TEL". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISTelecom): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="not(@value) or string(@value castable as xs:anyURI)">(CI-SISTelecom): Attribute @value SHALL be of data type 'url'  - '<value-of select="@value"/>'</assert>
        <let name="prefix" value="substring-before(@value, ':')"/>
        <let name="suffix" value="substring-after(@value, ':')"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(             (count(@*) = 1 and name(@*) = 'nullFlavor' and             (@* = 'UNK' or @* = 'NASK' or @* = 'ASKU' or @* = 'NAV' or @* = 'MSK')) or             ($suffix and (             $prefix = 'tel' or              $prefix = 'fax' or              $prefix = 'mailto' or              $prefix = 'http' or              $prefix = 'ftp' or              $prefix = 'mllp'))             )">(CI-SISTelecom): Erreur de conformité CI-SIS : <name/> n'est pas conforme à une adresse de télécommunication préfixe:chaîne (avec préfixe = tel, fax, mailto, http, ftp ou mllp) ou est vide et sans nullFlavor ou contient un nullFlavor non admis.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="@use = 'H'                      or @use = 'HP'                      or @use = 'HV'                      or @use = 'WP'                     or @use = 'DIR'                      or @use = 'PUB'                      or @use = 'EC'                      or @use = 'MC'                      or @use = 'PG'                      or not(@use)">(CI-SISTelecom): Erreur de conformité CI-SIS : L'attribut use de l'élément telecom n'est pas conforme. 
        Il est facultatif et les valeurs permises sont 'H','HP', 'HV','WP','DIR','PUB','EC','MC','PG'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.19" test="(@nullFlavor and not(@value)) or (@value and not(@nullFlavor))">(CI-SISTelecom): Erreur de conformité CI-SIS : Seul un des deux attributs value ou nullFlavor doit être présent.</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d10988e331-false-d13170e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISComponentOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.213.1.1.4.9 TRE_A01-CadreExercice (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@code">(CI-SISComponentOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISComponentOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@displayName">(CI-SISComponentOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISComponentOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@codeSystem">(CI-SISComponentOf): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISComponentOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]" id="d10988e347-false-d13218e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]) &gt;= 1">(CI-SISComponentOf): element hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]) &lt;= 1">(CI-SISComponentOf): element hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]] appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]" id="d10988e351-false-d13249e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &gt;= 1">(CI-SISComponentOf): element hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] is mandatory [min 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]) &lt;= 1">(CI-SISComponentOf): element hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:location) &lt;= 1">(CI-SISComponentOf): element hl7:location appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:id" id="d10988e354-false-d13282e0">
        <extends rule="II"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]" id="d10988e355-false-d13296e0">
        <extends rule="CE"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CE' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CE". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@nullFlavor or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]]) or exists(doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1][conceptList/concept[@code = $theCode][@codeSystem = $theCodeSystem] | completeCodeSystem[@codeSystem=$theCodeSystem]])">(CI-SISComponentOf): The element value SHALL be one of '1.2.250.1.213.1.1.4.6 TRE_A00-ProducteurDocNonPS (DYNAMIC) or 1.2.250.1.71.4.2.4 TRE_R02-SecteurActivite (DYNAMIC)'.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@code">(CI-SISComponentOf): attribute @code SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@code) or (string-length(@code) &gt; 0 and not(matches(@code,'\s')))">(CI-SISComponentOf): Attribute @code SHALL be of data type 'cs'  - '<value-of select="@code"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@displayName">(CI-SISComponentOf): attribute @displayName SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@displayName) or string-length(@displayName)&gt;0">(CI-SISComponentOf): Attribute @displayName SHALL be of data type 'st'  - '<value-of select="@displayName"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="@codeSystem">(CI-SISComponentOf): attribute @codeSystem SHALL be present.</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(@codeSystem) or matches(@codeSystem,'^[0-2](\.(0|[1-9]\d*))*$')">(CI-SISComponentOf): Attribute @codeSystem SHALL be of data type 'oid'  - '<value-of select="@codeSystem"/>'</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location" id="d10988e370-false-d13339e0">
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="count(hl7:name) &lt;= 1">(CI-SISComponentOf): element hl7:name appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine])"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="$elmcount &lt;= 1">(CI-SISComponentOf): choice (hl7:addr[not(hl7:streetAddressLine)]  or  hl7:addr[hl7:streetAddressLine]) contains too many elements [max 1x]</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:name" id="d10988e374-false-d13366e0">
        <extends rule="EN"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='EN' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISComponentOf): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:EN". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   


    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]" id="d13367e29-false-d13375e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@hl7:use) or (string-length(@hl7:use) &gt; 0 and not(matches(@hl7:use,'\s')))">(CI-SISAddr): Attribute @hl7:use SHALL be of data type 'cs'  - '<value-of select="@hl7:use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:country) &lt;= 1">(CI-SISAddr): element hl7:country appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:state) &lt;= 1">(CI-SISAddr): element hl7:state appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:city) &lt;= 1">(CI-SISAddr): element hl7:city appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postalCode) &lt;= 1">(CI-SISAddr): element hl7:postalCode appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:county) &lt;= 1">(CI-SISAddr): element hl7:county appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumber) &lt;= 1">(CI-SISAddr): element hl7:houseNumber appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:houseNumberNumeric) &lt;= 1">(CI-SISAddr): element hl7:houseNumberNumeric appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetName) &lt;= 1">(CI-SISAddr): element hl7:streetName appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetNameType) &lt;= 1">(CI-SISAddr): element hl7:streetNameType appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:additionalLocator) &lt;= 1">(CI-SISAddr): element hl7:additionalLocator appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:unitID) &lt;= 1">(CI-SISAddr): element hl7:unitID appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:postBox) &lt;= 1">(CI-SISAddr): element hl7:postBox appears too often [max 1x].</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:precinct) &lt;= 1">(CI-SISAddr): element hl7:precinct appears too often [max 1x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:country" id="d13367e50-false-d13466e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:state" id="d13367e56-false-d13475e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:city" id="d13367e62-false-d13484e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:postalCode" id="d13367e70-false-d13493e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:county" id="d13367e78-false-d13502e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumber" id="d13367e86-false-d13511e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:houseNumberNumeric" id="d13367e90-false-d13520e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetName" id="d13367e96-false-d13529e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:streetNameType" id="d13367e102-false-d13538e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:additionalLocator" id="d13367e113-false-d13547e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:unitID" id="d13367e132-false-d13556e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:postBox" id="d13367e144-false-d13565e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/hl7:precinct" id="d13367e150-false-d13574e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[hl7:streetAddressLine]" id="d13367e156-false-d13581e0">
        <extends rule="AD"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='AD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:AD". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(@use) or (string-length(@use) &gt; 0 and not(matches(@use,'\s')))">(CI-SISAddr): Attribute @use SHALL be of data type 'cs'  - '<value-of select="@use"/>'</assert>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="count(hl7:streetAddressLine) &lt;= 7">(CI-SISAddr): element hl7:streetAddressLine appears too often [max 7x].</assert>
    </rule>
   
    <rule fpi="RULC-1" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[hl7:streetAddressLine]/hl7:streetAddressLine" id="d13367e179-false-d13600e0">
        <extends rule="ST"/>
        <assert role="error" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='ST' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CI-SISAddr): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:ST". Found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
    </rule>
   




</pattern>
    <pattern id="template-1.2.250.1.213.1.1.1.1-2017-12-13T103531-closed">
    <title>Structuration minimale Documents de santé</title>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/*[not(@xsi:nil = 'true')][not(self::hl7:realmCode[@code = 'FR'] | self::hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040'] | self::hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] | self::hl7:templateId[@root = '1.2.250.1.213.1.1.1.1'] | self::hl7:templateId | self::hl7:id[not(@nullFlavor)] | self::hl7:code[not(@nullFlavor)] | self::hl7:title[not(@nullFlavor)] | self::hl7:effectiveTime[not(@nullFlavor)] | self::hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')] | self::hl7:languageCode[not(@nullFlavor)] | self::hl7:setId | self::hl7:versionNumber | self::hl7:recordTarget | self::hl7:author[hl7:assignedAuthor] | self::hl7:dataEnterer | self::hl7:informant | self::hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian] | self::hl7:informationRecipient[hl7:intendedRecipient] | self::hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']] | self::hl7:authenticator[hl7:signatureCode[@code = 'S']] | self::hl7:participant[@typeCode][hl7:associatedEntity[@classCode]] | self::hl7:inFulfillmentOf[hl7:order] | self::hl7:documentationOf[hl7:serviceEvent] | self::hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument] | self::hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter] | self::hl7:component)]" id="d141e10-true-d14243e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(.)">(SMDS_CDAClinicalDocument)/d141e10-true-d14243e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:realmCode[@code = 'FR'] | hl7:typeId[@root = '2.16.840.1.113883.1.3'][@extension = 'POCD_HD000040'] | hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] | hl7:templateId[@root = '1.2.250.1.213.1.1.1.1'] | hl7:templateId | hl7:id[not(@nullFlavor)] | hl7:code[not(@nullFlavor)] | hl7:title[not(@nullFlavor)] | hl7:effectiveTime[not(@nullFlavor)] | hl7:confidentialityCode[(@code = 'N' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'R' and @codeSystem = '2.16.840.1.113883.5.25') or (@code = 'V' and @codeSystem = '2.16.840.1.113883.5.25')] | hl7:languageCode[not(@nullFlavor)] | hl7:setId | hl7:versionNumber | hl7:recordTarget | hl7:author[hl7:assignedAuthor] | hl7:dataEnterer | hl7:informant | hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian] | hl7:informationRecipient[hl7:intendedRecipient] | hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']] | hl7:authenticator[hl7:signatureCode[@code = 'S']] | hl7:participant[@typeCode][hl7:associatedEntity[@classCode]] | hl7:inFulfillmentOf[hl7:order] | hl7:documentationOf[hl7:serviceEvent] | hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument] | hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter] | hl7:component (rule-reference: d141e10-true-d14243e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/*[not(@xsi:nil = 'true')][not(self::hl7:patientRole[hl7:patient])]" id="d14304e12-true-d14371e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e12-true-d14371e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:patientRole[hl7:patient] (rule-reference: d14304e12-true-d14371e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/*[not(@xsi:nil = 'true')][not(self::hl7:id[not(@nullFlavor)] | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]] | self::hl7:providerOrganization)]" id="d14304e16-true-d14452e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e16-true-d14452e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[not(@nullFlavor)] | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]] | hl7:providerOrganization (rule-reference: d14304e16-true-d14452e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d14460e18-true-d14532e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d14460e18-true-d14532e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d14460e18-true-d14532e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d14460e145-true-d14595e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d14460e145-true-d14595e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d14460e145-true-d14595e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/*[not(@xsi:nil = 'true')][not(self::hl7:name[not(@nullFlavor)] | self::hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | self::hl7:birthTime | self::hl7:guardian | self::hl7:birthplace[hl7:place])]" id="d14304e38-true-d14671e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e38-true-d14671e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[not(@nullFlavor)] | hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | hl7:birthTime | hl7:guardian | hl7:birthplace[hl7:place] (rule-reference: d14304e38-true-d14671e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:name[not(@nullFlavor)]/*[not(@xsi:nil = 'true')][not(self::hl7:given[not(@nullFlavor)] | self::hl7:family | self::hl7:prefix | self::hl7:suffix)]" id="d14304e46-true-d14699e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e46-true-d14699e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:given[not(@nullFlavor)] | hl7:family | hl7:prefix | hl7:suffix (rule-reference: d14304e46-true-d14699e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/*[not(@xsi:nil = 'true')][not(self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:guardianPerson | self::hl7:guardianOrganization)]" id="d14304e103-true-d14749e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e103-true-d14749e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:guardianPerson | hl7:guardianOrganization (rule-reference: d14304e103-true-d14749e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d14749e97-true-d14824e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d14749e97-true-d14824e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d14749e97-true-d14824e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d14749e224-true-d14887e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d14749e224-true-d14887e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d14749e224-true-d14887e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:guardianPerson/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d14304e118-true-d14910e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e118-true-d14910e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d14304e118-true-d14910e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:guardianPerson/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:family | self::hl7:given | self::hl7:prefix)]" id="d14304e122-true-d14933e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e122-true-d14933e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:family | hl7:given | hl7:prefix (rule-reference: d14304e122-true-d14933e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:guardian/hl7:guardianOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.2'] | self::hl7:name)]" id="d14304e152-true-d14965e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e152-true-d14965e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.2'] | hl7:name (rule-reference: d14304e152-true-d14965e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/*[not(@xsi:nil = 'true')][not(self::hl7:place)]" id="d14304e173-true-d14996e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e173-true-d14996e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:place (rule-reference: d14304e173-true-d14996e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/*[not(@xsi:nil = 'true')][not(self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:name)]" id="d14304e177-true-d15014e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e177-true-d15014e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:name (rule-reference: d14304e177-true-d15014e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d15014e45-true-d15089e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d15014e45-true-d15089e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d15014e45-true-d15089e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:patient[hl7:administrativeGenderCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.11.121-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]]/hl7:birthplace[hl7:place]/hl7:place/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d15014e172-true-d15152e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d15014e172-true-d15152e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d15014e172-true-d15152e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:templateId | self::hl7:id | self::hl7:name | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom)]" id="d14304e195-true-d15194e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.10" test="not(.)">(CI-SISRecordTarget)/d14304e195-true-d15194e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:templateId | hl7:id | hl7:name | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom (rule-reference: d14304e195-true-d15194e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d15210e18-true-d15282e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d15210e18-true-d15282e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d15210e18-true-d15282e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:recordTarget/hl7:patientRole[hl7:patient]/hl7:providerOrganization/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d15210e145-true-d15345e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d15210e145-true-d15345e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d15210e145-true-d15345e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/*[not(@xsi:nil = 'true')][not(self::hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] | self::hl7:time | self::hl7:assignedAuthor[not(@nullFlavor)])]" id="d15359e23-true-d15426e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(.)">(CI-SISAuthor)/d15359e23-true-d15426e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] | hl7:time | hl7:assignedAuthor[not(@nullFlavor)] (rule-reference: d15359e23-true-d15426e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/*[not(@xsi:nil = 'true')][not(self::hl7:originalText)]" id="d15359e27-true-d15446e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(.)">(CI-SISAuthor)/d15359e27-true-d15446e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:originalText (rule-reference: d15359e27-true-d15446e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/*[not(@xsi:nil = 'true')][not(self::hl7:id | self::hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:assignedPerson | self::hl7:assignedAuthoringDevice | self::hl7:representedOrganization)]" id="d15359e56-true-d15534e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(.)">(CI-SISAuthor)/d15359e56-true-d15534e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id | hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:assignedPerson | hl7:assignedAuthoringDevice | hl7:representedOrganization (rule-reference: d15359e56-true-d15534e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d15559e18-true-d15631e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d15559e18-true-d15631e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d15559e18-true-d15631e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d15559e145-true-d15694e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d15559e145-true-d15694e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d15559e145-true-d15694e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d15359e124-true-d15717e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(.)">(CI-SISAuthor)/d15359e124-true-d15717e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d15359e124-true-d15717e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedPerson/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:family | self::hl7:given | self::hl7:prefix | self::hl7:suffix)]" id="d15359e128-true-d15745e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(.)">(CI-SISAuthor)/d15359e128-true-d15745e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:family | hl7:given | hl7:prefix | hl7:suffix (rule-reference: d15359e128-true-d15745e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:assignedAuthoringDevice/*[not(@xsi:nil = 'true')][not(self::hl7:manufacturerModelName | self::hl7:softwareName)]" id="d15359e156-true-d15779e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(.)">(CI-SISAuthor)/d15359e156-true-d15779e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:manufacturerModelName | hl7:softwareName (rule-reference: d15359e156-true-d15779e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.2'] | self::hl7:name | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)])]" id="d15359e168-true-d15833e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.7" test="not(.)">(CI-SISAuthor)/d15359e168-true-d15833e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.2'] | hl7:name | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] (rule-reference: d15359e168-true-d15833e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d15846e18-true-d15918e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d15846e18-true-d15918e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d15846e18-true-d15918e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:author[hl7:assignedAuthor]/hl7:assignedAuthor[not(@nullFlavor)]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d15846e145-true-d15981e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d15846e145-true-d15981e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d15846e145-true-d15981e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:dataEnterer/*[not(@xsi:nil = 'true')][not(self::hl7:assignedEntity)]" id="d16004e6-true-d16050e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(.)">(SMDS_CDAClinicalDocument)/d16004e6-true-d16050e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:assignedEntity (rule-reference: d16004e6-true-d16050e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:dataEnterer/hl7:assignedEntity/*[not(@xsi:nil = 'true')][not(self::hl7:id | self::hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:assignedPerson | self::hl7:representedOrganization)]" id="d16007e4-true-d16131e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(.)">(SMDS_CDAClinicalDocument)/d16007e4-true-d16131e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id | hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:assignedPerson | hl7:representedOrganization (rule-reference: d16007e4-true-d16131e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:dataEnterer/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d16156e18-true-d16228e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d16156e18-true-d16228e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d16156e18-true-d16228e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:dataEnterer/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d16156e145-true-d16291e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d16156e145-true-d16291e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d16156e145-true-d16291e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:dataEnterer/hl7:assignedEntity/hl7:assignedPerson/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d16007e68-true-d16314e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(.)">(SMDS_CDAClinicalDocument)/d16007e68-true-d16314e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d16007e68-true-d16314e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:dataEnterer/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:prefix | self::hl7:given | self::hl7:family | self::hl7:suffix)]" id="d16007e72-true-d16342e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(.)">(SMDS_CDAClinicalDocument)/d16007e72-true-d16342e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:prefix | hl7:given | hl7:family | hl7:suffix (rule-reference: d16007e72-true-d16342e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:dataEnterer/hl7:assignedEntity/hl7:representedOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.2'] | self::hl7:name | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)])]" id="d16007e99-true-d16404e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(.)">(SMDS_CDAClinicalDocument)/d16007e99-true-d16404e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.2'] | hl7:name | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] (rule-reference: d16007e99-true-d16404e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:dataEnterer/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d16417e18-true-d16489e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d16417e18-true-d16489e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d16417e18-true-d16489e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:dataEnterer/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d16417e145-true-d16552e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d16417e145-true-d16552e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d16417e145-true-d16552e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/*[not(@xsi:nil = 'true')][not(self::hl7:assignedEntity | self::hl7:relatedEntity[@classCode][hl7:relatedPerson])]" id="d16575e21-true-d16624e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.12" test="not(.)">(CI-SISInformant)/d16575e21-true-d16624e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:assignedEntity | hl7:relatedEntity[@classCode][hl7:relatedPerson] (rule-reference: d16575e21-true-d16624e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/*[not(@xsi:nil = 'true')][not(self::hl7:id | self::hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:assignedPerson | self::hl7:representedOrganization)]" id="d16624e46-true-d16706e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(.)">(CI-SISAssignedEntity)/d16624e46-true-d16706e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id | hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:assignedPerson | hl7:representedOrganization (rule-reference: d16624e46-true-d16706e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d16731e18-true-d16803e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d16731e18-true-d16803e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d16731e18-true-d16803e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d16731e145-true-d16866e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d16731e145-true-d16866e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d16731e145-true-d16866e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d16624e110-true-d16889e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(.)">(CI-SISAssignedEntity)/d16624e110-true-d16889e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d16624e110-true-d16889e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:assignedPerson/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:prefix | self::hl7:given | self::hl7:family | self::hl7:suffix)]" id="d16624e114-true-d16917e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(.)">(CI-SISAssignedEntity)/d16624e114-true-d16917e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:prefix | hl7:given | hl7:family | hl7:suffix (rule-reference: d16624e114-true-d16917e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.2'] | self::hl7:name | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)])]" id="d16624e141-true-d16979e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.14" test="not(.)">(CI-SISAssignedEntity)/d16624e141-true-d16979e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.2'] | hl7:name | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] (rule-reference: d16624e141-true-d16979e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d16992e18-true-d17064e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d16992e18-true-d17064e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d16992e18-true-d17064e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:assignedEntity/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d16992e145-true-d17127e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d16992e145-true-d17127e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d16992e145-true-d17127e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/*[not(@xsi:nil = 'true')][not(self::hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:relatedPerson)]" id="d17150e22-true-d17188e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(.)">(CI-SISRelatedEntity)/d17150e22-true-d17188e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:relatedPerson (rule-reference: d17150e22-true-d17188e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.111-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.327-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]/*[not(@xsi:nil = 'true')][not(self::hl7:originalText)]" id="d17150e42-true-d17206e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(.)">(CI-SISRelatedEntity)/d17150e42-true-d17206e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:originalText (rule-reference: d17150e42-true-d17206e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d17214e18-true-d17286e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d17214e18-true-d17286e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d17214e18-true-d17286e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d17214e145-true-d17349e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d17214e145-true-d17349e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d17214e145-true-d17349e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d17150e69-true-d17372e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(.)">(CI-SISRelatedEntity)/d17150e69-true-d17372e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d17150e69-true-d17372e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informant/hl7:relatedEntity[@classCode][hl7:relatedPerson]/hl7:relatedPerson/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:family | self::hl7:given | self::hl7:prefix)]" id="d17150e73-true-d17395e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.13" test="not(.)">(CI-SISRelatedEntity)/d17150e73-true-d17395e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:family | hl7:given | hl7:prefix (rule-reference: d17150e73-true-d17395e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/*[not(@xsi:nil = 'true')][not(self::hl7:assignedCustodian[hl7:representedCustodianOrganization])]" id="d17411e6-true-d17437e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="not(.)">(CI-SISCustodian)/d17411e6-true-d17437e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:assignedCustodian[hl7:representedCustodianOrganization] (rule-reference: d17411e6-true-d17437e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/*[not(@xsi:nil = 'true')][not(self::hl7:representedCustodianOrganization)]" id="d17411e12-true-d17465e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="not(.)">(CI-SISCustodian)/d17411e12-true-d17465e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:representedCustodianOrganization (rule-reference: d17411e12-true-d17465e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:id[not(@nullFlavor)] | self::hl7:name | self::hl7:telecom | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine])]" id="d17411e15-true-d17494e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.5" test="not(.)">(CI-SISCustodian)/d17411e15-true-d17494e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[not(@nullFlavor)] | hl7:name | hl7:telecom | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] (rule-reference: d17411e15-true-d17494e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d17512e18-true-d17584e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d17512e18-true-d17584e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d17512e18-true-d17584e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:custodian[not(@nullFlavor)][hl7:assignedCustodian]/hl7:assignedCustodian[hl7:representedCustodianOrganization]/hl7:representedCustodianOrganization/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d17512e145-true-d17647e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d17512e145-true-d17647e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d17512e145-true-d17647e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/*[not(@xsi:nil = 'true')][not(self::hl7:intendedRecipient)]" id="d17655e9-true-d17696e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="not(.)">(CI-SISInformationRecipient)/d17655e9-true-d17696e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:intendedRecipient (rule-reference: d17655e9-true-d17696e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.1'] | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:informationRecipient | self::hl7:receivedOrganization)]" id="d17655e13-true-d17747e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="not(.)">(CI-SISInformationRecipient)/d17655e13-true-d17747e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.1'] | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:informationRecipient | hl7:receivedOrganization (rule-reference: d17655e13-true-d17747e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d17756e18-true-d17828e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d17756e18-true-d17828e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d17756e18-true-d17828e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d17756e145-true-d17891e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d17756e145-true-d17891e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d17756e145-true-d17891e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:informationRecipient/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d17655e36-true-d17914e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="not(.)">(CI-SISInformationRecipient)/d17655e36-true-d17914e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d17655e36-true-d17914e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:informationRecipient/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:family | self::hl7:given | self::hl7:prefix | self::hl7:suffix)]" id="d17655e40-true-d17942e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="not(.)">(CI-SISInformationRecipient)/d17655e40-true-d17942e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:family | hl7:given | hl7:prefix | hl7:suffix (rule-reference: d17655e40-true-d17942e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.2'] | self::hl7:name | self::hl7:telecom | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine])]" id="d17655e67-true-d17989e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.15" test="not(.)">(CI-SISInformationRecipient)/d17655e67-true-d17989e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.2'] | hl7:name | hl7:telecom | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] (rule-reference: d17655e67-true-d17989e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d18008e18-true-d18080e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d18008e18-true-d18080e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d18008e18-true-d18080e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:informationRecipient[hl7:intendedRecipient]/hl7:intendedRecipient/hl7:receivedOrganization/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d18008e145-true-d18143e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d18008e145-true-d18143e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d18008e145-true-d18143e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/*[not(@xsi:nil = 'true')][not(self::hl7:time | self::hl7:signatureCode[@code = 'S'] | self::hl7:assignedEntity[hl7:assignedPerson])]" id="d18151e9-true-d18205e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(.)">(CI-SISLegalAuthenticator)/d18151e9-true-d18205e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:time | hl7:signatureCode[@code = 'S'] | hl7:assignedEntity[hl7:assignedPerson] (rule-reference: d18151e9-true-d18205e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/*[not(@xsi:nil = 'true')][not(self::hl7:id[not(@nullFlavor)] | self::hl7:code | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:assignedPerson[not(@nullFlavor)] | self::hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']])]" id="d18151e29-true-d18270e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(.)">(CI-SISLegalAuthenticator)/d18151e29-true-d18270e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[not(@nullFlavor)] | hl7:code | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:assignedPerson[not(@nullFlavor)] | hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']] (rule-reference: d18151e29-true-d18270e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d18282e18-true-d18354e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d18282e18-true-d18354e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d18282e18-true-d18354e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d18282e145-true-d18417e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d18282e145-true-d18417e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d18282e145-true-d18417e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]/*[not(@xsi:nil = 'true')][not(self::hl7:name[not(@nullFlavor)][hl7:family])]" id="d18151e64-true-d18440e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(.)">(CI-SISLegalAuthenticator)/d18151e64-true-d18440e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[not(@nullFlavor)][hl7:family] (rule-reference: d18151e64-true-d18440e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:assignedPerson[not(@nullFlavor)]/hl7:name[not(@nullFlavor)][hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:family | self::hl7:given | self::hl7:prefix | self::hl7:suffix)]" id="d18151e68-true-d18468e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(.)">(CI-SISLegalAuthenticator)/d18151e68-true-d18468e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:family | hl7:given | hl7:prefix | hl7:suffix (rule-reference: d18151e68-true-d18468e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.2'] | self::hl7:name | self::hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | self::hl7:telecom | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine])]" id="d18151e95-true-d18531e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.6" test="not(.)">(CI-SISLegalAuthenticator)/d18151e95-true-d18531e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.2'] | hl7:name | hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | hl7:telecom | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] (rule-reference: d18151e95-true-d18531e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d18559e18-true-d18631e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d18559e18-true-d18631e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d18559e18-true-d18631e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:legalAuthenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:assignedPerson]/hl7:representedOrganization[hl7:id[@root = '1.2.250.1.71.4.2.2']]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d18559e145-true-d18694e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d18559e145-true-d18694e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d18559e145-true-d18694e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/*[not(@xsi:nil = 'true')][not(self::hl7:templateId | self::hl7:time | self::hl7:signatureCode[@code = 'S'] | self::hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']])]" id="d18702e13-true-d18763e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(.)">(CI-SISAuthenticator)/d18702e13-true-d18763e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:templateId | hl7:time | hl7:signatureCode[@code = 'S'] | hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] (rule-reference: d18702e13-true-d18763e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.1'] | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:assignedPerson | self::hl7:representedOrganization)]" id="d18702e33-true-d18828e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(.)">(CI-SISAuthenticator)/d18702e33-true-d18828e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.1'] | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:assignedPerson | hl7:representedOrganization (rule-reference: d18702e33-true-d18828e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d18837e18-true-d18909e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d18837e18-true-d18909e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d18837e18-true-d18909e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d18837e145-true-d18972e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d18837e145-true-d18972e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d18837e145-true-d18972e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d18702e48-true-d18995e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(.)">(CI-SISAuthenticator)/d18702e48-true-d18995e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d18702e48-true-d18995e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:family | self::hl7:given | self::hl7:prefix | self::hl7:suffix)]" id="d18702e49-true-d19023e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(.)">(CI-SISAuthenticator)/d18702e49-true-d19023e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:family | hl7:given | hl7:prefix | hl7:suffix (rule-reference: d18702e49-true-d19023e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.2'] | self::hl7:name | self::hl7:telecom | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)])]" id="d18702e75-true-d19085e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.16" test="not(.)">(CI-SISAuthenticator)/d18702e75-true-d19085e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.2'] | hl7:name | hl7:telecom | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] (rule-reference: d18702e75-true-d19085e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d19104e18-true-d19176e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d19104e18-true-d19176e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d19104e18-true-d19176e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:authenticator[hl7:signatureCode[@code = 'S']]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d19104e145-true-d19239e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d19104e145-true-d19239e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d19104e145-true-d19239e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/*[not(@xsi:nil = 'true')][not(self::hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | self::hl7:time | self::hl7:associatedEntity[@classCode])]" id="d19256e12-true-d19323e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(.)">(CI-SISParticipant)/d19256e12-true-d19323e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | hl7:time | hl7:associatedEntity[@classCode] (rule-reference: d19256e12-true-d19323e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:functionCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.2.280-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-2.16.840.1.113883.5.88-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor]/*[not(@xsi:nil = 'true')][not(self::hl7:originalText | self::hl7:translation)]" id="d19256e32-true-d19348e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(.)">(CI-SISParticipant)/d19256e32-true-d19348e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:originalText | hl7:translation (rule-reference: d19256e32-true-d19348e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:time/*[not(@xsi:nil = 'true')][not(self::hl7:low | self::hl7:high)]" id="d19256e65-true-d19374e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(.)">(CI-SISParticipant)/d19256e65-true-d19374e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:low | hl7:high (rule-reference: d19256e65-true-d19374e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/*[not(@xsi:nil = 'true')][not(self::hl7:id | self::hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:associatedPerson[hl7:name] | self::hl7:scopingOrganization)]" id="d19256e73-true-d19463e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(.)">(CI-SISParticipant)/d19256e73-true-d19463e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id | hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:associatedPerson[hl7:name] | hl7:scopingOrganization (rule-reference: d19256e73-true-d19463e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d19488e18-true-d19560e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d19488e18-true-d19560e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d19488e18-true-d19560e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d19488e145-true-d19623e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d19488e145-true-d19623e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d19488e145-true-d19623e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d19256e154-true-d19646e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(.)">(CI-SISParticipant)/d19256e154-true-d19646e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d19256e154-true-d19646e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:associatedPerson[hl7:name]/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:family | self::hl7:given | self::hl7:prefix | self::hl7:suffix)]" id="d19256e158-true-d19674e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(.)">(CI-SISParticipant)/d19256e158-true-d19674e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:family | hl7:given | hl7:prefix | hl7:suffix (rule-reference: d19256e158-true-d19674e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:id | self::hl7:name | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:standardIndustryClassCode)]" id="d19256e189-true-d19724e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.9" test="not(.)">(CI-SISParticipant)/d19256e189-true-d19724e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id | hl7:name | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:standardIndustryClassCode (rule-reference: d19256e189-true-d19724e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d19736e18-true-d19808e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d19736e18-true-d19808e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d19736e18-true-d19808e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:participant[@typeCode][hl7:associatedEntity[@classCode]]/hl7:associatedEntity[@classCode]/hl7:scopingOrganization/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d19736e145-true-d19871e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d19736e145-true-d19871e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d19736e145-true-d19871e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:inFulfillmentOf[hl7:order]/*[not(@xsi:nil = 'true')][not(self::hl7:order)]" id="d19889e7-true-d19900e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="not(.)">(CI-SISinFulfillmentOf)/d19889e7-true-d19900e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:order (rule-reference: d19889e7-true-d19900e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:inFulfillmentOf[hl7:order]/hl7:order/*[not(@xsi:nil = 'true')][not(self::hl7:id | self::hl7:code)]" id="d19889e11-true-d19918e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="not(.)">(CI-SISinFulfillmentOf)/d19889e11-true-d19918e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id | hl7:code (rule-reference: d19889e11-true-d19918e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:inFulfillmentOf[hl7:order]/hl7:order/hl7:code/*[not(@xsi:nil = 'true')][not(self::hl7:originalText)]" id="d19889e23-true-d19935e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.17" test="not(.)">(CI-SISinFulfillmentOf)/d19889e23-true-d19935e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:originalText (rule-reference: d19889e23-true-d19935e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/*[not(@xsi:nil = 'true')][not(self::hl7:serviceEvent[not(@nullFlavor)])]" id="d19943e11-true-d19984e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(.)">(CI-SISDocumentationOf)/d19943e11-true-d19984e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:serviceEvent[not(@nullFlavor)] (rule-reference: d19943e11-true-d19984e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/*[not(@xsi:nil = 'true')][not(self::hl7:id | self::hl7:code | self::hl7:effectiveTime | self::hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity])]" id="d19943e15-true-d20042e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(.)">(CI-SISDocumentationOf)/d19943e15-true-d20042e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id | hl7:code | hl7:effectiveTime | hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity] (rule-reference: d19943e15-true-d20042e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:effectiveTime/*[not(@xsi:nil = 'true')][not(self::hl7:low | self::hl7:high)]" id="d19943e38-true-d20068e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(.)">(CI-SISDocumentationOf)/d19943e38-true-d20068e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:low | hl7:high (rule-reference: d19943e38-true-d20068e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/*[not(@xsi:nil = 'true')][not(self::hl7:functionCode | self::hl7:time | self::hl7:assignedEntity[hl7:representedOrganization])]" id="d19943e46-true-d20129e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(.)">(CI-SISDocumentationOf)/d19943e46-true-d20129e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:functionCode | hl7:time | hl7:assignedEntity[hl7:representedOrganization] (rule-reference: d19943e46-true-d20129e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/*[not(@xsi:nil = 'true')][not(self::hl7:id | self::hl7:code[concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.1-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | self::hl7:telecom | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:assignedPerson | self::hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]])]" id="d19943e60-true-d20211e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(.)">(CI-SISDocumentationOf)/d19943e60-true-d20211e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id | hl7:code[concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.1-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.5.123-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | hl7:telecom | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:assignedPerson | hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]] (rule-reference: d19943e60-true-d20211e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d20234e18-true-d20306e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d20234e18-true-d20306e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d20234e18-true-d20306e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d20234e145-true-d20369e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d20234e145-true-d20369e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d20234e145-true-d20369e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:assignedPerson/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d19943e100-true-d20386e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(.)">(CI-SISDocumentationOf)/d19943e100-true-d20386e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d19943e100-true-d20386e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:assignedPerson/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:family | self::hl7:given | self::hl7:prefix | self::hl7:suffix)]" id="d19943e104-true-d20414e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(.)">(CI-SISDocumentationOf)/d19943e104-true-d20414e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:family | hl7:given | hl7:prefix | hl7:suffix (rule-reference: d19943e104-true-d20414e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.2'] | self::hl7:name | self::hl7:telecom | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)])]" id="d19943e135-true-d20481e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.4" test="not(.)">(CI-SISDocumentationOf)/d19943e135-true-d20481e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.2'] | hl7:name | hl7:telecom | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] (rule-reference: d19943e135-true-d20481e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d20500e18-true-d20572e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d20500e18-true-d20572e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d20500e18-true-d20572e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:documentationOf[hl7:serviceEvent]/hl7:serviceEvent[not(@nullFlavor)]/hl7:performer[@typeCode = 'PRF'][hl7:assignedEntity]/hl7:assignedEntity[hl7:representedOrganization]/hl7:representedOrganization[hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d20500e145-true-d20635e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d20500e145-true-d20635e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d20500e145-true-d20635e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]/*[not(@xsi:nil = 'true')][not(self::hl7:parentDocument[not(@nullFlavor)])]" id="d20652e6-true-d20663e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="not(.)">(CI-SISRelatedDocument)/d20652e6-true-d20663e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:parentDocument[not(@nullFlavor)] (rule-reference: d20652e6-true-d20663e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:relatedDocument[@typeCode = 'RPLC'][hl7:parentDocument]/hl7:parentDocument[not(@nullFlavor)]/*[not(@xsi:nil = 'true')][not(self::hl7:id[not(@nullFlavor)])]" id="d20652e17-true-d20676e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.3" test="not(.)">(CI-SISRelatedDocument)/d20652e17-true-d20676e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[not(@nullFlavor)] (rule-reference: d20652e17-true-d20676e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/*[not(@xsi:nil = 'true')][not(self::hl7:encompassingEncounter[not(@nullFlavor)][hl7:location])]" id="d20684e9-true-d20764e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e9-true-d20764e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:encompassingEncounter[not(@nullFlavor)][hl7:location] (rule-reference: d20684e9-true-d20764e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/*[not(@xsi:nil = 'true')][not(self::hl7:id | self::hl7:code[(@code = 'IMP' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EMER' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'AMB' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'FLD' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'HH' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'VR' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EXTERNE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291') or (@code = 'SEANCE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291')] | self::hl7:effectiveTime | self::hl7:dischargeDispositionCode | self::hl7:responsibleParty[hl7:assignedEntity] | self::hl7:encounterParticipant[@typeCode][hl7:assignedEntity] | self::hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]])]" id="d20684e13-true-d20892e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e13-true-d20892e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id | hl7:code[(@code = 'IMP' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EMER' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'AMB' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'FLD' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'HH' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'VR' and @codeSystem = '2.16.840.1.113883.5.4') or (@code = 'EXTERNE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291') or (@code = 'SEANCE' and @codeSystem = '1.2.250.1.213.1.1.4.2.291')] | hl7:effectiveTime | hl7:dischargeDispositionCode | hl7:responsibleParty[hl7:assignedEntity] | hl7:encounterParticipant[@typeCode][hl7:assignedEntity] | hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]] (rule-reference: d20684e13-true-d20892e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:effectiveTime/*[not(@xsi:nil = 'true')][not(self::hl7:low | self::hl7:high)]" id="d20684e66-true-d20919e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e66-true-d20919e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:low | hl7:high (rule-reference: d20684e66-true-d20919e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/*[not(@xsi:nil = 'true')][not(self::hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']])]" id="d20684e89-true-d20978e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e89-true-d20978e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] (rule-reference: d20684e89-true-d20978e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.1'] | self::hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:assignedPerson | self::hl7:representedOrganization)]" id="d20684e96-true-d21062e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e96-true-d21062e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.1'] | hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:assignedPerson | hl7:representedOrganization (rule-reference: d20684e96-true-d21062e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d21088e18-true-d21160e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d21088e18-true-d21160e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d21088e18-true-d21160e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d21088e145-true-d21223e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d21088e145-true-d21223e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d21088e145-true-d21223e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d20684e136-true-d21246e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e136-true-d21246e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d20684e136-true-d21246e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:family | self::hl7:given | self::hl7:prefix | self::hl7:suffix)]" id="d20684e139-true-d21274e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e139-true-d21274e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:family | hl7:given | hl7:prefix | hl7:suffix (rule-reference: d20684e139-true-d21274e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.2'] | self::hl7:name | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)])]" id="d20684e164-true-d21336e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e164-true-d21336e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.2'] | hl7:name | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] (rule-reference: d20684e164-true-d21336e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d21349e18-true-d21421e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d21349e18-true-d21421e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d21349e18-true-d21421e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:responsibleParty[hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d21349e145-true-d21484e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d21349e145-true-d21484e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d21349e145-true-d21484e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/*[not(@xsi:nil = 'true')][not(self::hl7:time | self::hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']])]" id="d20684e201-true-d21555e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e201-true-d21555e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:time | hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']] (rule-reference: d20684e201-true-d21555e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:time/*[not(@xsi:nil = 'true')][not(self::hl7:low | self::hl7:high)]" id="d20684e213-true-d21573e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e213-true-d21573e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:low | hl7:high (rule-reference: d20684e213-true-d21573e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.1'] | self::hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:assignedPerson | self::hl7:representedOrganization)]" id="d20684e221-true-d21665e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e221-true-d21665e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.1'] | hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.5-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.107-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.109-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.6.1.110-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @nullFlavor] | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:assignedPerson | hl7:representedOrganization (rule-reference: d20684e221-true-d21665e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d21691e18-true-d21763e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d21691e18-true-d21763e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d21691e18-true-d21763e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d21691e145-true-d21826e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d21691e145-true-d21826e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d21691e145-true-d21826e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/*[not(@xsi:nil = 'true')][not(self::hl7:name[hl7:family])]" id="d20684e261-true-d21849e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e261-true-d21849e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name[hl7:family] (rule-reference: d20684e261-true-d21849e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:assignedPerson/hl7:name[hl7:family]/*[not(@xsi:nil = 'true')][not(self::hl7:family | self::hl7:given | self::hl7:prefix | self::hl7:suffix)]" id="d20684e264-true-d21877e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e264-true-d21877e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:family | hl7:given | hl7:prefix | hl7:suffix (rule-reference: d20684e264-true-d21877e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/*[not(@xsi:nil = 'true')][not(self::hl7:id[@root = '1.2.250.1.71.4.2.2'] | self::hl7:name | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine] | self::hl7:telecom | self::hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)])]" id="d20684e289-true-d21939e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e289-true-d21939e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id[@root = '1.2.250.1.71.4.2.2'] | hl7:name | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] | hl7:telecom | hl7:standardIndustryClassCode[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.9-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] (rule-reference: d20684e289-true-d21939e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d21952e18-true-d22024e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d21952e18-true-d22024e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d21952e18-true-d22024e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:encounterParticipant[@typeCode][hl7:assignedEntity]/hl7:assignedEntity[hl7:id[@root = '1.2.250.1.71.4.2.1']]/hl7:representedOrganization/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d21952e145-true-d22087e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d21952e145-true-d22087e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d21952e145-true-d22087e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/*[not(@xsi:nil = 'true')][not(self::hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]])]" id="d20684e326-true-d22143e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e326-true-d22143e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]] (rule-reference: d20684e326-true-d22143e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/*[not(@xsi:nil = 'true')][not(self::hl7:id | self::hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] | self::hl7:location)]" id="d20684e330-true-d22190e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e330-true-d22190e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:id | hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)] | hl7:location (rule-reference: d20684e330-true-d22190e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/*[not(@xsi:nil = 'true')][not(self::hl7:name | self::hl7:addr[not(hl7:streetAddressLine)] | self::hl7:addr[hl7:streetAddressLine])]" id="d20684e349-true-d22221e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.2" test="not(.)">(CI-SISComponentOf)/d20684e349-true-d22221e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:name | hl7:addr[not(hl7:streetAddressLine)] | hl7:addr[hl7:streetAddressLine] (rule-reference: d20684e349-true-d22221e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[not(hl7:streetAddressLine)]/*[not(@xsi:nil = 'true')][not(self::hl7:country | self::hl7:state | self::hl7:city | self::hl7:postalCode | self::hl7:county | self::hl7:houseNumber | self::hl7:houseNumberNumeric | self::hl7:streetName | self::hl7:streetNameType | self::hl7:additionalLocator | self::hl7:unitID | self::hl7:postBox | self::hl7:precinct)]" id="d22229e18-true-d22301e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d22229e18-true-d22301e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:country | hl7:state | hl7:city | hl7:postalCode | hl7:county | hl7:houseNumber | hl7:houseNumberNumeric | hl7:streetName | hl7:streetNameType | hl7:additionalLocator | hl7:unitID | hl7:postBox | hl7:precinct (rule-reference: d22229e18-true-d22301e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:componentOf[not(@nullFlavor)][hl7:encompassingEncounter]/hl7:encompassingEncounter[not(@nullFlavor)][hl7:location]/hl7:location[hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]]/hl7:healthCareFacility[hl7:code[@codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.213.1.1.4.6-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem) or @codeSystem = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/completeCodeSystem/@codeSystem or concat(@code, @codeSystem) = doc('/opt/SchematronValidator_prod/bin/schematron/cda_asip/ANS-STRUCT-MIN-b2022-02-03/_pre_compilation/include/voc-1.2.250.1.71.4.2.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept/concat(@code, @codeSystem)]]/hl7:location/hl7:addr[hl7:streetAddressLine]/*[not(@xsi:nil = 'true')][not(self::hl7:streetAddressLine)]" id="d22229e145-true-d22364e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1.10.18" test="not(.)">(CI-SISAddr)/d22229e145-true-d22364e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:streetAddressLine (rule-reference: d22229e145-true-d22364e0)</assert>
    </rule>

   
    <rule fpi="RUL-QQQ" context="//hl7:ClinicalDocument[hl7:templateId[@root = '2.16.840.1.113883.2.8.2.1'] and hl7:templateId[@root = '1.2.250.1.213.1.1.1.1']]/hl7:component/*[not(@xsi:nil = 'true')][not(self::hl7:structuredBody | self::hl7:nonXMLBody)]" id="d141e160-true-d22380e0">
        <assert role="warning" see="https://o3sis.esante.gouv.fr/art-decor/decor-templates--ASIP-STRUCT-MIN-?id=1.2.250.1.213.1.1.1.1" test="not(.)">(SMDS_CDAClinicalDocument)/d141e160-true-d22380e0: this element '<name/>' is not defined, or not defined with this content. This may concern the templateId, code or id. Expected in this context:  hl7:structuredBody | hl7:nonXMLBody (rule-reference: d141e160-true-d22380e0)</assert>
    </rule>
</pattern>


   



</schema>